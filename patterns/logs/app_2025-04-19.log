2025-04-19 00:44:19,533 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 00:45:24,126 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 00:45:26,941 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:45:26,941 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:45:26,941 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:45:26,941 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:45:26,941 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:45:26,942 - data.chartink - INFO - [CHARTINK-26942] üöÄ Preparing ChartInk API request
2025-04-19 00:45:26,942 - data.chartink - INFO - [CHARTINK-26942] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:45:27,209 - data.chartink - INFO - [CHARTINK-26942] ‚úÖ CSRF token obtained successfully
2025-04-19 00:45:27,209 - data.chartink - INFO - [CHARTINK-26942] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:45:27,209 - data.chartink - INFO - [CHARTINK-26942] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:45:27,209 - data.chartink - INFO - [CHARTINK-26942] ‚è±Ô∏è API call started at 00:45:27.209
2025-04-19 00:45:27,440 - data.chartink - INFO - [CHARTINK-26942] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 00:45:27,446 - data.chartink - INFO - [CHARTINK-26942] Response type: dict
2025-04-19 00:45:27,446 - data.chartink - INFO - [CHARTINK-26942] Data entries: 1220
2025-04-19 00:45:27,450 - data.chartink - INFO - [CHARTINK-26942] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:45:27,450 - data.chartink - INFO - [CHARTINK-26942] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:45:27,451 - data.chartink - INFO - [CHARTINK-26942] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:45:27,453 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.51s
2025-04-19 00:45:27,453 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:45:27,453 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:45:27,453 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:45:27,455 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:45:27,455 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:45:27,455 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:45:27,456 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:45:27,456 - data.chartink - INFO - [CHARTINK-27456] üöÄ Preparing ChartInk API request
2025-04-19 00:45:27,456 - data.chartink - INFO - [CHARTINK-27456] Rate limiting: Sleeping for 1.75s
2025-04-19 00:45:29,215 - data.chartink - INFO - [CHARTINK-27456] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:45:29,475 - data.chartink - INFO - [CHARTINK-27456] ‚úÖ CSRF token obtained successfully
2025-04-19 00:45:29,475 - data.chartink - INFO - [CHARTINK-27456] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:45:29,475 - data.chartink - INFO - [CHARTINK-27456] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:45:29,475 - data.chartink - INFO - [CHARTINK-27456] ‚è±Ô∏è API call started at 00:45:29.475
2025-04-19 00:45:29,686 - data.chartink - INFO - [CHARTINK-27456] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 00:45:29,693 - data.chartink - INFO - [CHARTINK-27456] Response type: dict
2025-04-19 00:45:29,693 - data.chartink - INFO - [CHARTINK-27456] Data entries: 1220
2025-04-19 00:45:29,697 - data.chartink - INFO - [CHARTINK-27456] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:45:29,697 - data.chartink - INFO - [CHARTINK-27456] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:45:29,697 - data.chartink - INFO - [CHARTINK-27456] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:45:29,700 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 2.24s
2025-04-19 00:45:29,700 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:45:29,700 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:45:29,703 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:45:29,704 - data.top_stocks_service - INFO - [FETCH #42144] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 00:45:29,704 - data.top_stocks_service - INFO - [FETCH #42144] Using waterfall algorithm
2025-04-19 00:45:29,704 - data.top_stocks_service - INFO - Starting stock query waterfall (min=5, max=10)
2025-04-19 00:45:29,704 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'Breakout Stocks'
2025-04-19 00:45:29,705 - data.chartink - INFO - [CHARTINK-29704] üöÄ Preparing ChartInk API request
2025-04-19 00:45:29,705 - data.chartink - INFO - [CHARTINK-29704] Rate limiting: Sleeping for 1.77s
2025-04-19 00:45:31,481 - data.chartink - INFO - [CHARTINK-29704] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:45:31,691 - data.chartink - INFO - [CHARTINK-29704] ‚úÖ CSRF token obtained successfully
2025-04-19 00:45:31,691 - data.chartink - INFO - [CHARTINK-29704] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:45:31,691 - data.chartink - INFO - [CHARTINK-29704] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 00:45:31,691 - data.chartink - INFO - [CHARTINK-29704] ‚è±Ô∏è API call started at 00:45:31.691
2025-04-19 00:45:31,806 - data.chartink - INFO - [CHARTINK-29704] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 00:45:31,806 - data.chartink - INFO - [CHARTINK-29704] Response type: dict
2025-04-19 00:45:31,806 - data.chartink - INFO - [CHARTINK-29704] Data entries: 0
2025-04-19 00:45:31,807 - data.chartink - INFO - [CHARTINK-29704] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:45:31,810 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:45:31,810 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'Support Bounce'
2025-04-19 00:45:31,810 - data.chartink - INFO - [CHARTINK-31810] üöÄ Preparing ChartInk API request
2025-04-19 00:45:31,810 - data.chartink - INFO - [CHARTINK-31810] Rate limiting: Sleeping for 1.88s
2025-04-19 00:45:33,697 - data.chartink - INFO - [CHARTINK-31810] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:45:33,993 - data.chartink - INFO - [CHARTINK-31810] ‚úÖ CSRF token obtained successfully
2025-04-19 00:45:33,994 - data.chartink - INFO - [CHARTINK-31810] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:45:33,994 - data.chartink - INFO - [CHARTINK-31810] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 00:45:33,994 - data.chartink - INFO - [CHARTINK-31810] ‚è±Ô∏è API call started at 00:45:33.994
2025-04-19 00:45:34,110 - data.chartink - INFO - [CHARTINK-31810] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:45:34,111 - data.chartink - INFO - [CHARTINK-31810] Response type: dict
2025-04-19 00:45:34,111 - data.chartink - INFO - [CHARTINK-31810] Data entries: 0
2025-04-19 00:45:34,112 - data.chartink - INFO - [CHARTINK-31810] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:45:34,114 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:45:34,115 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'Bullish Engulfing'
2025-04-19 00:45:34,115 - data.chartink - INFO - [CHARTINK-34115] üöÄ Preparing ChartInk API request
2025-04-19 00:45:34,115 - data.chartink - INFO - [CHARTINK-34115] Rate limiting: Sleeping for 1.88s
2025-04-19 00:45:35,999 - data.chartink - INFO - [CHARTINK-34115] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:45:36,239 - data.chartink - INFO - [CHARTINK-34115] ‚úÖ CSRF token obtained successfully
2025-04-19 00:45:36,239 - data.chartink - INFO - [CHARTINK-34115] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:45:36,239 - data.chartink - INFO - [CHARTINK-34115] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 00:45:36,239 - data.chartink - INFO - [CHARTINK-34115] ‚è±Ô∏è API call started at 00:45:36.239
2025-04-19 00:45:36,367 - data.chartink - INFO - [CHARTINK-34115] ‚¨áÔ∏è Received response in 0.13s with status code 200
2025-04-19 00:45:36,368 - data.chartink - INFO - [CHARTINK-34115] Response type: dict
2025-04-19 00:45:36,368 - data.chartink - INFO - [CHARTINK-34115] Data entries: 0
2025-04-19 00:45:36,369 - data.chartink - INFO - [CHARTINK-34115] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:45:36,374 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:45:36,374 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'Momentum Leaders'
2025-04-19 00:45:36,374 - data.chartink - INFO - [CHARTINK-36374] üöÄ Preparing ChartInk API request
2025-04-19 00:45:36,374 - data.chartink - INFO - [CHARTINK-36374] Rate limiting: Sleeping for 1.87s
2025-04-19 00:45:38,245 - data.chartink - INFO - [CHARTINK-36374] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:45:38,498 - data.chartink - INFO - [CHARTINK-36374] ‚úÖ CSRF token obtained successfully
2025-04-19 00:45:38,498 - data.chartink - INFO - [CHARTINK-36374] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:45:38,498 - data.chartink - INFO - [CHARTINK-36374] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 00:45:38,498 - data.chartink - INFO - [CHARTINK-36374] ‚è±Ô∏è API call started at 00:45:38.498
2025-04-19 00:45:38,614 - data.chartink - INFO - [CHARTINK-36374] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:45:38,614 - data.chartink - INFO - [CHARTINK-36374] Response type: dict
2025-04-19 00:45:38,614 - data.chartink - INFO - [CHARTINK-36374] Data entries: 0
2025-04-19 00:45:38,615 - data.chartink - INFO - [CHARTINK-36374] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:45:38,616 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:45:38,616 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'Simple Test Query'
2025-04-19 00:45:38,616 - data.chartink - INFO - [CHARTINK-38616] üöÄ Preparing ChartInk API request
2025-04-19 00:45:38,616 - data.chartink - INFO - [CHARTINK-38616] Rate limiting: Sleeping for 1.88s
2025-04-19 00:45:40,504 - data.chartink - INFO - [CHARTINK-38616] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:45:40,745 - data.chartink - INFO - [CHARTINK-38616] ‚úÖ CSRF token obtained successfully
2025-04-19 00:45:40,746 - data.chartink - INFO - [CHARTINK-38616] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:45:40,746 - data.chartink - INFO - [CHARTINK-38616] Query: latest close > 0 and          latest volume > 100000
2025-04-19 00:45:40,746 - data.chartink - INFO - [CHARTINK-38616] ‚è±Ô∏è API call started at 00:45:40.746
2025-04-19 00:45:40,968 - data.chartink - INFO - [CHARTINK-38616] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 00:45:40,971 - data.chartink - INFO - [CHARTINK-38616] Response type: dict
2025-04-19 00:45:40,971 - data.chartink - INFO - [CHARTINK-38616] Data entries: 1220
2025-04-19 00:45:40,973 - data.chartink - INFO - [CHARTINK-38616] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:45:40,973 - data.chartink - INFO - [CHARTINK-38616] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:45:40,974 - data.chartink - INFO - [CHARTINK-38616] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:45:40,978 - data.top_stocks_service - INFO - Added 10 unique stocks from 'Simple Test Query'
2025-04-19 00:45:40,978 - data.top_stocks_service - INFO - Reached max stocks (10), truncating results
2025-04-19 00:45:40,978 - data.top_stocks_service - INFO - Waterfall complete! Found 10 stocks using 1 queries
2025-04-19 00:45:40,978 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Simple Test Query
2025-04-19 00:45:40,981 - ui_services.stocks.hot_stocks - INFO - Preparing to display 10 stocks in table
2025-04-19 00:45:40,981 - ui_services.stocks.hot_stocks - INFO - First stock fields: ['symbol', 'name', 'change', 'per_chg', 'volume', 'close', 'pattern', 'query_key', 'priority', 'company', 'signal']
2025-04-19 00:45:41,012 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:45:41,021 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:45:41,021 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:45:41,021 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:45:41,021 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:45:41,021 - data.chartink - INFO - [CHARTINK-41021] üöÄ Preparing ChartInk API request
2025-04-19 00:45:41,022 - data.chartink - INFO - [CHARTINK-41021] Rate limiting: Sleeping for 1.72s
2025-04-19 00:45:42,751 - data.chartink - INFO - [CHARTINK-41021] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:45:42,988 - data.chartink - INFO - [CHARTINK-41021] ‚úÖ CSRF token obtained successfully
2025-04-19 00:45:42,989 - data.chartink - INFO - [CHARTINK-41021] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:45:42,989 - data.chartink - INFO - [CHARTINK-41021] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:45:42,989 - data.chartink - INFO - [CHARTINK-41021] ‚è±Ô∏è API call started at 00:45:42.989
2025-04-19 00:45:43,197 - data.chartink - INFO - [CHARTINK-41021] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 00:45:43,201 - data.chartink - INFO - [CHARTINK-41021] Response type: dict
2025-04-19 00:45:43,201 - data.chartink - INFO - [CHARTINK-41021] Data entries: 1220
2025-04-19 00:45:43,205 - data.chartink - INFO - [CHARTINK-41021] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:45:43,205 - data.chartink - INFO - [CHARTINK-41021] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:45:43,206 - data.chartink - INFO - [CHARTINK-41021] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:45:43,209 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 2.19s
2025-04-19 00:45:43,209 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:45:43,210 - dashboard.page_modules.swing_watchlist - INFO - Initial load of watchlist data
2025-04-19 00:45:43,210 - dashboard.page_modules.swing_watchlist - INFO - Fetching watchlist from data service
2025-04-19 00:45:43,211 - dashboard.page_modules.swing_watchlist - ERROR - Error fetching watchlist: get_watchlist() got an unexpected keyword argument 'watch_type'
2025-04-19 00:46:01,078 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:46:01,079 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:46:01,079 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:46:01,079 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:46:01,079 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:46:01,079 - data.chartink - INFO - [CHARTINK-61079] üöÄ Preparing ChartInk API request
2025-04-19 00:46:01,080 - data.chartink - INFO - [CHARTINK-61079] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:01,340 - data.chartink - INFO - [CHARTINK-61079] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:01,341 - data.chartink - INFO - [CHARTINK-61079] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:01,341 - data.chartink - INFO - [CHARTINK-61079] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:46:01,341 - data.chartink - INFO - [CHARTINK-61079] ‚è±Ô∏è API call started at 00:46:01.341
2025-04-19 00:46:01,580 - data.chartink - INFO - [CHARTINK-61079] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 00:46:01,585 - data.chartink - INFO - [CHARTINK-61079] Response type: dict
2025-04-19 00:46:01,585 - data.chartink - INFO - [CHARTINK-61079] Data entries: 1220
2025-04-19 00:46:01,591 - data.chartink - INFO - [CHARTINK-61079] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:46:01,591 - data.chartink - INFO - [CHARTINK-61079] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:46:01,592 - data.chartink - INFO - [CHARTINK-61079] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:46:01,594 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.52s
2025-04-19 00:46:01,595 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:46:01,595 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:46:01,595 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:46:01,596 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:46:01,596 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:46:01,596 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:46:01,596 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:46:01,596 - data.chartink - INFO - [CHARTINK-61596] üöÄ Preparing ChartInk API request
2025-04-19 00:46:01,596 - data.chartink - INFO - [CHARTINK-61596] Rate limiting: Sleeping for 1.74s
2025-04-19 00:46:03,343 - data.chartink - INFO - [CHARTINK-61596] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:03,629 - data.chartink - INFO - [CHARTINK-61596] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:03,630 - data.chartink - INFO - [CHARTINK-61596] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:03,630 - data.chartink - INFO - [CHARTINK-61596] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:46:03,630 - data.chartink - INFO - [CHARTINK-61596] ‚è±Ô∏è API call started at 00:46:03.630
2025-04-19 00:46:03,828 - data.chartink - INFO - [CHARTINK-61596] ‚¨áÔ∏è Received response in 0.20s with status code 200
2025-04-19 00:46:03,831 - data.chartink - INFO - [CHARTINK-61596] Response type: dict
2025-04-19 00:46:03,831 - data.chartink - INFO - [CHARTINK-61596] Data entries: 1220
2025-04-19 00:46:03,833 - data.chartink - INFO - [CHARTINK-61596] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:46:03,833 - data.chartink - INFO - [CHARTINK-61596] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:46:03,833 - data.chartink - INFO - [CHARTINK-61596] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:46:03,836 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 2.24s
2025-04-19 00:46:03,836 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:46:03,836 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:46:03,838 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:46:03,838 - data.top_stocks_service - INFO - [FETCH #76128] Getting hot swing stocks (limit=10, query=simple_test)
2025-04-19 00:46:03,838 - data.top_stocks_service - INFO - [FETCH #76128] Using specific query: simple_test
2025-04-19 00:46:03,838 - data.top_stocks_service - INFO - Running single query: simple_test - Simple Test Query
2025-04-19 00:46:03,838 - data.chartink - INFO - [CHARTINK-63838] üöÄ Preparing ChartInk API request
2025-04-19 00:46:03,838 - data.chartink - INFO - [CHARTINK-63838] Rate limiting: Sleeping for 1.79s
2025-04-19 00:46:05,636 - data.chartink - INFO - [CHARTINK-63838] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:05,888 - data.chartink - INFO - [CHARTINK-63838] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:05,888 - data.chartink - INFO - [CHARTINK-63838] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:05,888 - data.chartink - INFO - [CHARTINK-63838] Query: latest close > 0 and          latest volume > 100000
2025-04-19 00:46:05,889 - data.chartink - INFO - [CHARTINK-63838] ‚è±Ô∏è API call started at 00:46:05.889
2025-04-19 00:46:06,120 - data.chartink - INFO - [CHARTINK-63838] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 00:46:06,125 - data.chartink - INFO - [CHARTINK-63838] Response type: dict
2025-04-19 00:46:06,125 - data.chartink - INFO - [CHARTINK-63838] Data entries: 1220
2025-04-19 00:46:06,129 - data.chartink - INFO - [CHARTINK-63838] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:46:06,129 - data.chartink - INFO - [CHARTINK-63838] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:46:06,130 - data.chartink - INFO - [CHARTINK-63838] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:46:06,134 - data.top_stocks_service - INFO - Returning 10 stocks from query 'Simple Test Query'
2025-04-19 00:46:06,134 - data.top_stocks_service - INFO - Stock symbols: DIXON, POWERINDIA, ULTRACEMCO, MARUTI, BAJFINANCE
2025-04-19 00:46:06,135 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Simple Test Query
2025-04-19 00:46:06,138 - ui_services.stocks.hot_stocks - INFO - Preparing to display 10 stocks in table
2025-04-19 00:46:06,138 - ui_services.stocks.hot_stocks - INFO - First stock fields: ['symbol', 'name', 'change', 'per_chg', 'volume', 'close', 'pattern', 'query_key', 'company', 'signal']
2025-04-19 00:46:06,143 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:46:06,149 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:46:06,150 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:46:06,150 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:46:06,150 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:46:06,150 - data.chartink - INFO - [CHARTINK-66150] üöÄ Preparing ChartInk API request
2025-04-19 00:46:06,150 - data.chartink - INFO - [CHARTINK-66150] Rate limiting: Sleeping for 1.74s
2025-04-19 00:46:07,894 - data.chartink - INFO - [CHARTINK-66150] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:08,140 - data.chartink - INFO - [CHARTINK-66150] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:08,140 - data.chartink - INFO - [CHARTINK-66150] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:08,140 - data.chartink - INFO - [CHARTINK-66150] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:46:08,140 - data.chartink - INFO - [CHARTINK-66150] ‚è±Ô∏è API call started at 00:46:08.140
2025-04-19 00:46:08,372 - data.chartink - INFO - [CHARTINK-66150] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 00:46:08,377 - data.chartink - INFO - [CHARTINK-66150] Response type: dict
2025-04-19 00:46:08,377 - data.chartink - INFO - [CHARTINK-66150] Data entries: 1220
2025-04-19 00:46:08,380 - data.chartink - INFO - [CHARTINK-66150] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:46:08,380 - data.chartink - INFO - [CHARTINK-66150] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:46:08,381 - data.chartink - INFO - [CHARTINK-66150] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:46:08,383 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 2.23s
2025-04-19 00:46:08,384 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:46:18,888 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:46:18,889 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:46:18,889 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:46:18,889 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:46:18,889 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:46:18,889 - data.chartink - INFO - [CHARTINK-78889] üöÄ Preparing ChartInk API request
2025-04-19 00:46:18,889 - data.chartink - INFO - [CHARTINK-78889] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:19,130 - data.chartink - INFO - [CHARTINK-78889] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:19,130 - data.chartink - INFO - [CHARTINK-78889] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:19,130 - data.chartink - INFO - [CHARTINK-78889] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:46:19,130 - data.chartink - INFO - [CHARTINK-78889] ‚è±Ô∏è API call started at 00:46:19.130
2025-04-19 00:46:19,354 - data.chartink - INFO - [CHARTINK-78889] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 00:46:19,359 - data.chartink - INFO - [CHARTINK-78889] Response type: dict
2025-04-19 00:46:19,359 - data.chartink - INFO - [CHARTINK-78889] Data entries: 1220
2025-04-19 00:46:19,361 - data.chartink - INFO - [CHARTINK-78889] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:46:19,361 - data.chartink - INFO - [CHARTINK-78889] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:46:19,361 - data.chartink - INFO - [CHARTINK-78889] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:46:19,362 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.47s
2025-04-19 00:46:19,362 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:46:19,363 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:46:19,363 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:46:19,363 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:46:19,363 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:46:19,364 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:46:19,364 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:46:19,364 - data.chartink - INFO - [CHARTINK-79364] üöÄ Preparing ChartInk API request
2025-04-19 00:46:19,364 - data.chartink - INFO - [CHARTINK-79364] Rate limiting: Sleeping for 1.77s
2025-04-19 00:46:21,136 - data.chartink - INFO - [CHARTINK-79364] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:21,408 - data.chartink - INFO - [CHARTINK-79364] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:21,409 - data.chartink - INFO - [CHARTINK-79364] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:21,409 - data.chartink - INFO - [CHARTINK-79364] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:46:21,409 - data.chartink - INFO - [CHARTINK-79364] ‚è±Ô∏è API call started at 00:46:21.409
2025-04-19 00:46:21,629 - data.chartink - INFO - [CHARTINK-79364] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 00:46:21,637 - data.chartink - INFO - [CHARTINK-79364] Response type: dict
2025-04-19 00:46:21,637 - data.chartink - INFO - [CHARTINK-79364] Data entries: 1220
2025-04-19 00:46:21,640 - data.chartink - INFO - [CHARTINK-79364] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:46:21,640 - data.chartink - INFO - [CHARTINK-79364] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:46:21,641 - data.chartink - INFO - [CHARTINK-79364] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:46:21,643 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 2.28s
2025-04-19 00:46:21,643 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:46:21,643 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:46:21,645 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:46:21,646 - data.top_stocks_service - INFO - [FETCH #67609] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 00:46:21,646 - data.top_stocks_service - INFO - [FETCH #67609] Using waterfall algorithm
2025-04-19 00:46:21,646 - data.top_stocks_service - INFO - Starting stock query waterfall (min=5, max=10)
2025-04-19 00:46:21,646 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'Breakout Stocks'
2025-04-19 00:46:21,646 - data.chartink - INFO - [CHARTINK-81646] üöÄ Preparing ChartInk API request
2025-04-19 00:46:21,646 - data.chartink - INFO - [CHARTINK-81646] Rate limiting: Sleeping for 1.76s
2025-04-19 00:46:23,414 - data.chartink - INFO - [CHARTINK-81646] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:23,670 - data.chartink - INFO - [CHARTINK-81646] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:23,670 - data.chartink - INFO - [CHARTINK-81646] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:23,670 - data.chartink - INFO - [CHARTINK-81646] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 00:46:23,670 - data.chartink - INFO - [CHARTINK-81646] ‚è±Ô∏è API call started at 00:46:23.670
2025-04-19 00:46:23,775 - data.chartink - INFO - [CHARTINK-81646] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 00:46:23,776 - data.chartink - INFO - [CHARTINK-81646] Response type: dict
2025-04-19 00:46:23,776 - data.chartink - INFO - [CHARTINK-81646] Data entries: 0
2025-04-19 00:46:23,777 - data.chartink - INFO - [CHARTINK-81646] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:46:23,781 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:46:23,781 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'Support Bounce'
2025-04-19 00:46:23,781 - data.chartink - INFO - [CHARTINK-83781] üöÄ Preparing ChartInk API request
2025-04-19 00:46:23,781 - data.chartink - INFO - [CHARTINK-83781] Rate limiting: Sleeping for 1.89s
2025-04-19 00:46:25,676 - data.chartink - INFO - [CHARTINK-83781] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:25,949 - data.chartink - INFO - [CHARTINK-83781] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:25,949 - data.chartink - INFO - [CHARTINK-83781] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:25,949 - data.chartink - INFO - [CHARTINK-83781] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 00:46:25,949 - data.chartink - INFO - [CHARTINK-83781] ‚è±Ô∏è API call started at 00:46:25.949
2025-04-19 00:46:26,065 - data.chartink - INFO - [CHARTINK-83781] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:46:26,066 - data.chartink - INFO - [CHARTINK-83781] Response type: dict
2025-04-19 00:46:26,066 - data.chartink - INFO - [CHARTINK-83781] Data entries: 0
2025-04-19 00:46:26,067 - data.chartink - INFO - [CHARTINK-83781] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:46:26,069 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:46:26,069 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'Bullish Engulfing'
2025-04-19 00:46:26,069 - data.chartink - INFO - [CHARTINK-86069] üöÄ Preparing ChartInk API request
2025-04-19 00:46:26,069 - data.chartink - INFO - [CHARTINK-86069] Rate limiting: Sleeping for 1.88s
2025-04-19 00:46:27,955 - data.chartink - INFO - [CHARTINK-86069] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:28,320 - data.chartink - INFO - [CHARTINK-86069] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:28,320 - data.chartink - INFO - [CHARTINK-86069] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:28,321 - data.chartink - INFO - [CHARTINK-86069] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 00:46:28,321 - data.chartink - INFO - [CHARTINK-86069] ‚è±Ô∏è API call started at 00:46:28.321
2025-04-19 00:46:28,431 - data.chartink - INFO - [CHARTINK-86069] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 00:46:28,432 - data.chartink - INFO - [CHARTINK-86069] Response type: dict
2025-04-19 00:46:28,432 - data.chartink - INFO - [CHARTINK-86069] Data entries: 0
2025-04-19 00:46:28,434 - data.chartink - INFO - [CHARTINK-86069] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:46:28,438 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:46:28,439 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'Momentum Leaders'
2025-04-19 00:46:28,439 - data.chartink - INFO - [CHARTINK-88439] üöÄ Preparing ChartInk API request
2025-04-19 00:46:28,439 - data.chartink - INFO - [CHARTINK-88439] Rate limiting: Sleeping for 1.88s
2025-04-19 00:46:30,326 - data.chartink - INFO - [CHARTINK-88439] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:30,567 - data.chartink - INFO - [CHARTINK-88439] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:30,567 - data.chartink - INFO - [CHARTINK-88439] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:30,567 - data.chartink - INFO - [CHARTINK-88439] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 00:46:30,567 - data.chartink - INFO - [CHARTINK-88439] ‚è±Ô∏è API call started at 00:46:30.567
2025-04-19 00:46:30,678 - data.chartink - INFO - [CHARTINK-88439] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 00:46:30,679 - data.chartink - INFO - [CHARTINK-88439] Response type: dict
2025-04-19 00:46:30,679 - data.chartink - INFO - [CHARTINK-88439] Data entries: 0
2025-04-19 00:46:30,680 - data.chartink - INFO - [CHARTINK-88439] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:46:30,683 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:46:30,683 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'Simple Test Query'
2025-04-19 00:46:30,683 - data.chartink - INFO - [CHARTINK-90683] üöÄ Preparing ChartInk API request
2025-04-19 00:46:30,683 - data.chartink - INFO - [CHARTINK-90683] Rate limiting: Sleeping for 1.88s
2025-04-19 00:46:32,573 - data.chartink - INFO - [CHARTINK-90683] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:32,834 - data.chartink - INFO - [CHARTINK-90683] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:32,835 - data.chartink - INFO - [CHARTINK-90683] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:32,835 - data.chartink - INFO - [CHARTINK-90683] Query: latest close > 0 and          latest volume > 100000
2025-04-19 00:46:32,835 - data.chartink - INFO - [CHARTINK-90683] ‚è±Ô∏è API call started at 00:46:32.835
2025-04-19 00:46:33,072 - data.chartink - INFO - [CHARTINK-90683] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 00:46:33,076 - data.chartink - INFO - [CHARTINK-90683] Response type: dict
2025-04-19 00:46:33,076 - data.chartink - INFO - [CHARTINK-90683] Data entries: 1220
2025-04-19 00:46:33,082 - data.chartink - INFO - [CHARTINK-90683] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:46:33,083 - data.chartink - INFO - [CHARTINK-90683] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:46:33,083 - data.chartink - INFO - [CHARTINK-90683] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:46:33,086 - data.top_stocks_service - INFO - Added 10 unique stocks from 'Simple Test Query'
2025-04-19 00:46:33,086 - data.top_stocks_service - INFO - Reached max stocks (10), truncating results
2025-04-19 00:46:33,086 - data.top_stocks_service - INFO - Waterfall complete! Found 10 stocks using 1 queries
2025-04-19 00:46:33,087 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Simple Test Query
2025-04-19 00:46:33,090 - ui_services.stocks.hot_stocks - INFO - Preparing to display 10 stocks in table
2025-04-19 00:46:33,091 - ui_services.stocks.hot_stocks - INFO - First stock fields: ['symbol', 'name', 'change', 'per_chg', 'volume', 'close', 'pattern', 'query_key', 'priority', 'company', 'signal']
2025-04-19 00:46:33,094 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:46:33,100 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:46:33,101 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:46:33,101 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:46:33,102 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:46:33,102 - data.chartink - INFO - [CHARTINK-93102] üöÄ Preparing ChartInk API request
2025-04-19 00:46:33,103 - data.chartink - INFO - [CHARTINK-93102] Rate limiting: Sleeping for 1.73s
2025-04-19 00:46:34,840 - data.chartink - INFO - [CHARTINK-93102] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:46:35,090 - data.chartink - INFO - [CHARTINK-93102] ‚úÖ CSRF token obtained successfully
2025-04-19 00:46:35,090 - data.chartink - INFO - [CHARTINK-93102] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:46:35,090 - data.chartink - INFO - [CHARTINK-93102] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:46:35,090 - data.chartink - INFO - [CHARTINK-93102] ‚è±Ô∏è API call started at 00:46:35.090
2025-04-19 00:46:35,316 - data.chartink - INFO - [CHARTINK-93102] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 00:46:35,321 - data.chartink - INFO - [CHARTINK-93102] Response type: dict
2025-04-19 00:46:35,322 - data.chartink - INFO - [CHARTINK-93102] Data entries: 1220
2025-04-19 00:46:35,326 - data.chartink - INFO - [CHARTINK-93102] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:46:35,327 - data.chartink - INFO - [CHARTINK-93102] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:46:35,327 - data.chartink - INFO - [CHARTINK-93102] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:46:35,330 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 2.23s
2025-04-19 00:46:35,330 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:49:39,382 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 00:49:43,421 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:49:43,421 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:49:43,421 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:49:43,421 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:49:43,421 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:49:43,421 - data.chartink - INFO - [CHARTINK-83421] üöÄ Preparing ChartInk API request
2025-04-19 00:49:43,421 - data.chartink - INFO - [CHARTINK-83421] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:49:43,671 - data.chartink - INFO - [CHARTINK-83421] ‚úÖ CSRF token obtained successfully
2025-04-19 00:49:43,671 - data.chartink - INFO - [CHARTINK-83421] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:49:43,671 - data.chartink - INFO - [CHARTINK-83421] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:49:43,671 - data.chartink - INFO - [CHARTINK-83421] ‚è±Ô∏è API call started at 00:49:43.671
2025-04-19 00:49:44,049 - data.chartink - INFO - [CHARTINK-83421] ‚¨áÔ∏è Received response in 0.38s with status code 200
2025-04-19 00:49:44,050 - data.chartink - INFO - [CHARTINK-83421] Response type: dict
2025-04-19 00:49:44,050 - data.chartink - INFO - [CHARTINK-83421] Data entries: 1220
2025-04-19 00:49:44,052 - data.chartink - INFO - [CHARTINK-83421] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:49:44,052 - data.chartink - INFO - [CHARTINK-83421] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:49:44,052 - data.chartink - INFO - [CHARTINK-83421] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:49:44,054 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.63s
2025-04-19 00:49:44,054 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:49:44,054 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:49:44,054 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:49:44,055 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:49:44,055 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:49:44,055 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:49:44,055 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:49:44,056 - data.chartink - INFO - [CHARTINK-84056] üöÄ Preparing ChartInk API request
2025-04-19 00:49:44,056 - data.chartink - INFO - [CHARTINK-84056] Rate limiting: Sleeping for 1.62s
2025-04-19 00:49:45,678 - data.chartink - INFO - [CHARTINK-84056] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:49:46,929 - data.chartink - INFO - [CHARTINK-84056] ‚úÖ CSRF token obtained successfully
2025-04-19 00:49:46,929 - data.chartink - INFO - [CHARTINK-84056] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:49:46,929 - data.chartink - INFO - [CHARTINK-84056] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:49:46,930 - data.chartink - INFO - [CHARTINK-84056] ‚è±Ô∏è API call started at 00:49:46.930
2025-04-19 00:49:47,330 - data.chartink - INFO - [CHARTINK-84056] ‚¨áÔ∏è Received response in 0.40s with status code 200
2025-04-19 00:49:47,333 - data.chartink - INFO - [CHARTINK-84056] Response type: dict
2025-04-19 00:49:47,334 - data.chartink - INFO - [CHARTINK-84056] Data entries: 1220
2025-04-19 00:49:47,335 - data.chartink - INFO - [CHARTINK-84056] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:49:47,335 - data.chartink - INFO - [CHARTINK-84056] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:49:47,336 - data.chartink - INFO - [CHARTINK-84056] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:49:47,337 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 3.28s
2025-04-19 00:49:47,338 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:49:47,338 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:49:47,339 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:49:47,340 - data.top_stocks_service - INFO - [FETCH #28801] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 00:49:47,340 - data.top_stocks_service - INFO - [FETCH #28801] Using waterfall algorithm
2025-04-19 00:49:47,340 - data.top_stocks_service - INFO - Starting stock query waterfall (min=5, max=10)
2025-04-19 00:49:47,340 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'Breakout Stocks'
2025-04-19 00:49:47,340 - data.chartink - INFO - [CHARTINK-87340] üöÄ Preparing ChartInk API request
2025-04-19 00:49:47,340 - data.chartink - INFO - [CHARTINK-87340] Rate limiting: Sleeping for 1.59s
2025-04-19 00:49:48,936 - data.chartink - INFO - [CHARTINK-87340] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:49:49,222 - data.chartink - INFO - [CHARTINK-87340] ‚úÖ CSRF token obtained successfully
2025-04-19 00:49:49,222 - data.chartink - INFO - [CHARTINK-87340] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:49:49,222 - data.chartink - INFO - [CHARTINK-87340] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 00:49:49,222 - data.chartink - INFO - [CHARTINK-87340] ‚è±Ô∏è API call started at 00:49:49.222
2025-04-19 00:49:49,332 - data.chartink - INFO - [CHARTINK-87340] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 00:49:49,333 - data.chartink - INFO - [CHARTINK-87340] Response type: dict
2025-04-19 00:49:49,333 - data.chartink - INFO - [CHARTINK-87340] Data entries: 0
2025-04-19 00:49:49,335 - data.chartink - INFO - [CHARTINK-87340] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:49:49,338 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:49:49,338 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'Support Bounce'
2025-04-19 00:49:49,339 - data.chartink - INFO - [CHARTINK-89339] üöÄ Preparing ChartInk API request
2025-04-19 00:49:49,339 - data.chartink - INFO - [CHARTINK-89339] Rate limiting: Sleeping for 1.88s
2025-04-19 00:49:51,228 - data.chartink - INFO - [CHARTINK-89339] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:49:51,495 - data.chartink - INFO - [CHARTINK-89339] ‚úÖ CSRF token obtained successfully
2025-04-19 00:49:51,495 - data.chartink - INFO - [CHARTINK-89339] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:49:51,495 - data.chartink - INFO - [CHARTINK-89339] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 00:49:51,495 - data.chartink - INFO - [CHARTINK-89339] ‚è±Ô∏è API call started at 00:49:51.495
2025-04-19 00:49:51,612 - data.chartink - INFO - [CHARTINK-89339] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:49:51,613 - data.chartink - INFO - [CHARTINK-89339] Response type: dict
2025-04-19 00:49:51,613 - data.chartink - INFO - [CHARTINK-89339] Data entries: 0
2025-04-19 00:49:51,614 - data.chartink - INFO - [CHARTINK-89339] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:49:51,617 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:49:51,618 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'Bullish Engulfing'
2025-04-19 00:49:51,618 - data.chartink - INFO - [CHARTINK-91618] üöÄ Preparing ChartInk API request
2025-04-19 00:49:51,618 - data.chartink - INFO - [CHARTINK-91618] Rate limiting: Sleeping for 1.88s
2025-04-19 00:49:53,501 - data.chartink - INFO - [CHARTINK-91618] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:49:53,756 - data.chartink - INFO - [CHARTINK-91618] ‚úÖ CSRF token obtained successfully
2025-04-19 00:49:53,756 - data.chartink - INFO - [CHARTINK-91618] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:49:53,756 - data.chartink - INFO - [CHARTINK-91618] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 00:49:53,756 - data.chartink - INFO - [CHARTINK-91618] ‚è±Ô∏è API call started at 00:49:53.756
2025-04-19 00:49:53,879 - data.chartink - INFO - [CHARTINK-91618] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:49:53,879 - data.chartink - INFO - [CHARTINK-91618] Response type: dict
2025-04-19 00:49:53,879 - data.chartink - INFO - [CHARTINK-91618] Data entries: 0
2025-04-19 00:49:53,880 - data.chartink - INFO - [CHARTINK-91618] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:49:53,883 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:49:53,883 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'Momentum Leaders'
2025-04-19 00:49:53,883 - data.chartink - INFO - [CHARTINK-93883] üöÄ Preparing ChartInk API request
2025-04-19 00:49:53,883 - data.chartink - INFO - [CHARTINK-93883] Rate limiting: Sleeping for 1.87s
2025-04-19 00:49:55,761 - data.chartink - INFO - [CHARTINK-93883] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:49:56,119 - data.chartink - INFO - [CHARTINK-93883] ‚úÖ CSRF token obtained successfully
2025-04-19 00:49:56,120 - data.chartink - INFO - [CHARTINK-93883] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:49:56,120 - data.chartink - INFO - [CHARTINK-93883] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 00:49:56,120 - data.chartink - INFO - [CHARTINK-93883] ‚è±Ô∏è API call started at 00:49:56.120
2025-04-19 00:49:56,235 - data.chartink - INFO - [CHARTINK-93883] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 00:49:56,235 - data.chartink - INFO - [CHARTINK-93883] Response type: dict
2025-04-19 00:49:56,235 - data.chartink - INFO - [CHARTINK-93883] Data entries: 0
2025-04-19 00:49:56,236 - data.chartink - INFO - [CHARTINK-93883] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:49:56,240 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:49:56,240 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'Simple Test Query'
2025-04-19 00:49:56,240 - data.chartink - INFO - [CHARTINK-96240] üöÄ Preparing ChartInk API request
2025-04-19 00:49:56,240 - data.chartink - INFO - [CHARTINK-96240] Rate limiting: Sleeping for 1.88s
2025-04-19 00:49:58,126 - data.chartink - INFO - [CHARTINK-96240] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:49:58,484 - data.chartink - INFO - [CHARTINK-96240] ‚úÖ CSRF token obtained successfully
2025-04-19 00:49:58,484 - data.chartink - INFO - [CHARTINK-96240] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:49:58,484 - data.chartink - INFO - [CHARTINK-96240] Query: latest close > 0 and          latest volume > 100000
2025-04-19 00:49:58,484 - data.chartink - INFO - [CHARTINK-96240] ‚è±Ô∏è API call started at 00:49:58.484
2025-04-19 00:49:58,715 - data.chartink - INFO - [CHARTINK-96240] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 00:49:58,720 - data.chartink - INFO - [CHARTINK-96240] Response type: dict
2025-04-19 00:49:58,720 - data.chartink - INFO - [CHARTINK-96240] Data entries: 1220
2025-04-19 00:49:58,724 - data.chartink - INFO - [CHARTINK-96240] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:49:58,725 - data.chartink - INFO - [CHARTINK-96240] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:49:58,725 - data.chartink - INFO - [CHARTINK-96240] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:49:58,729 - data.top_stocks_service - INFO - Added 10 unique stocks from 'Simple Test Query'
2025-04-19 00:49:58,729 - data.top_stocks_service - INFO - Reached max stocks (10), truncating results
2025-04-19 00:49:58,729 - data.top_stocks_service - INFO - Waterfall complete! Found 10 stocks using 1 queries
2025-04-19 00:49:58,730 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Simple Test Query
2025-04-19 00:49:58,733 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 00:49:58,754 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:49:58,759 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:49:58,759 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:49:58,759 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:49:58,759 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:49:58,759 - data.chartink - INFO - [CHARTINK-98759] üöÄ Preparing ChartInk API request
2025-04-19 00:49:58,760 - data.chartink - INFO - [CHARTINK-98759] Rate limiting: Sleeping for 1.72s
2025-04-19 00:50:00,490 - data.chartink - INFO - [CHARTINK-98759] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:50:00,745 - data.chartink - INFO - [CHARTINK-98759] ‚úÖ CSRF token obtained successfully
2025-04-19 00:50:00,746 - data.chartink - INFO - [CHARTINK-98759] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:50:00,746 - data.chartink - INFO - [CHARTINK-98759] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:50:00,746 - data.chartink - INFO - [CHARTINK-98759] ‚è±Ô∏è API call started at 00:50:00.746
2025-04-19 00:50:00,937 - data.chartink - INFO - [CHARTINK-98759] ‚¨áÔ∏è Received response in 0.19s with status code 200
2025-04-19 00:50:00,941 - data.chartink - INFO - [CHARTINK-98759] Response type: dict
2025-04-19 00:50:00,941 - data.chartink - INFO - [CHARTINK-98759] Data entries: 1220
2025-04-19 00:50:00,945 - data.chartink - INFO - [CHARTINK-98759] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:50:00,945 - data.chartink - INFO - [CHARTINK-98759] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:50:00,945 - data.chartink - INFO - [CHARTINK-98759] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:50:00,948 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 2.19s
2025-04-19 00:50:00,948 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:50:00,949 - dashboard.page_modules.swing_watchlist - INFO - Initial load of watchlist data
2025-04-19 00:50:00,950 - dashboard.page_modules.swing_watchlist - INFO - Fetching watchlist from data service
2025-04-19 00:50:00,950 - dashboard.page_modules.swing_watchlist - ERROR - Error fetching watchlist: get_watchlist() got an unexpected keyword argument 'watch_type'
2025-04-19 00:53:05,855 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 00:53:08,015 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:53:08,016 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:53:08,016 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:53:08,016 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:53:08,016 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:53:08,017 - data.chartink - INFO - [CHARTINK-88017] üöÄ Preparing ChartInk API request
2025-04-19 00:53:08,017 - data.chartink - INFO - [CHARTINK-88017] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:53:08,261 - data.chartink - INFO - [CHARTINK-88017] ‚úÖ CSRF token obtained successfully
2025-04-19 00:53:08,262 - data.chartink - INFO - [CHARTINK-88017] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:53:08,262 - data.chartink - INFO - [CHARTINK-88017] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:53:08,262 - data.chartink - INFO - [CHARTINK-88017] ‚è±Ô∏è API call started at 00:53:08.262
2025-04-19 00:53:08,476 - data.chartink - INFO - [CHARTINK-88017] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 00:53:08,482 - data.chartink - INFO - [CHARTINK-88017] Response type: dict
2025-04-19 00:53:08,482 - data.chartink - INFO - [CHARTINK-88017] Data entries: 1220
2025-04-19 00:53:08,486 - data.chartink - INFO - [CHARTINK-88017] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:53:08,487 - data.chartink - INFO - [CHARTINK-88017] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:53:08,487 - data.chartink - INFO - [CHARTINK-88017] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:53:08,490 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.47s
2025-04-19 00:53:08,490 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:53:08,490 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:53:08,491 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:53:08,492 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:53:08,492 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:53:08,492 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:53:08,493 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:53:08,493 - data.chartink - INFO - [CHARTINK-88493] üöÄ Preparing ChartInk API request
2025-04-19 00:53:08,493 - data.chartink - INFO - [CHARTINK-88493] Rate limiting: Sleeping for 1.77s
2025-04-19 00:53:10,267 - data.chartink - INFO - [CHARTINK-88493] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:53:10,528 - data.chartink - INFO - [CHARTINK-88493] ‚úÖ CSRF token obtained successfully
2025-04-19 00:53:10,528 - data.chartink - INFO - [CHARTINK-88493] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:53:10,528 - data.chartink - INFO - [CHARTINK-88493] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:53:10,528 - data.chartink - INFO - [CHARTINK-88493] ‚è±Ô∏è API call started at 00:53:10.528
2025-04-19 00:53:10,766 - data.chartink - INFO - [CHARTINK-88493] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 00:53:10,768 - data.chartink - INFO - [CHARTINK-88493] Response type: dict
2025-04-19 00:53:10,769 - data.chartink - INFO - [CHARTINK-88493] Data entries: 1220
2025-04-19 00:53:10,770 - data.chartink - INFO - [CHARTINK-88493] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:53:10,770 - data.chartink - INFO - [CHARTINK-88493] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:53:10,770 - data.chartink - INFO - [CHARTINK-88493] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:53:10,772 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 2.28s
2025-04-19 00:53:10,772 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:53:10,772 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:53:10,773 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:53:10,773 - data.top_stocks_service - INFO - [FETCH #46356] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 00:53:10,773 - data.top_stocks_service - INFO - [FETCH #46356] Using waterfall algorithm
2025-04-19 00:53:10,773 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 00:53:10,774 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 00:53:10,774 - data.chartink - INFO - [CHARTINK-90774] üöÄ Preparing ChartInk API request
2025-04-19 00:53:10,774 - data.chartink - INFO - [CHARTINK-90774] Rate limiting: Sleeping for 1.75s
2025-04-19 00:53:12,534 - data.chartink - INFO - [CHARTINK-90774] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:53:12,842 - data.chartink - INFO - [CHARTINK-90774] ‚úÖ CSRF token obtained successfully
2025-04-19 00:53:12,843 - data.chartink - INFO - [CHARTINK-90774] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:53:12,843 - data.chartink - INFO - [CHARTINK-90774] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 00:53:12,843 - data.chartink - INFO - [CHARTINK-90774] ‚è±Ô∏è API call started at 00:53:12.843
2025-04-19 00:53:12,984 - data.chartink - INFO - [CHARTINK-90774] ‚¨áÔ∏è Received response in 0.14s with status code 200
2025-04-19 00:53:12,985 - data.chartink - INFO - [CHARTINK-90774] Response type: dict
2025-04-19 00:53:12,985 - data.chartink - INFO - [CHARTINK-90774] Data entries: 0
2025-04-19 00:53:12,987 - data.chartink - INFO - [CHARTINK-90774] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:53:12,991 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:53:12,991 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 00:53:12,991 - data.chartink - INFO - [CHARTINK-92991] üöÄ Preparing ChartInk API request
2025-04-19 00:53:12,992 - data.chartink - INFO - [CHARTINK-92991] Rate limiting: Sleeping for 1.85s
2025-04-19 00:53:14,843 - data.chartink - INFO - [CHARTINK-92991] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:53:15,113 - data.chartink - INFO - [CHARTINK-92991] ‚úÖ CSRF token obtained successfully
2025-04-19 00:53:15,114 - data.chartink - INFO - [CHARTINK-92991] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:53:15,114 - data.chartink - INFO - [CHARTINK-92991] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 00:53:15,114 - data.chartink - INFO - [CHARTINK-92991] ‚è±Ô∏è API call started at 00:53:15.114
2025-04-19 00:53:15,229 - data.chartink - INFO - [CHARTINK-92991] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 00:53:15,229 - data.chartink - INFO - [CHARTINK-92991] Response type: dict
2025-04-19 00:53:15,230 - data.chartink - INFO - [CHARTINK-92991] Data entries: 0
2025-04-19 00:53:15,231 - data.chartink - INFO - [CHARTINK-92991] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:53:15,235 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:53:15,235 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 00:53:15,235 - data.chartink - INFO - [CHARTINK-95235] üöÄ Preparing ChartInk API request
2025-04-19 00:53:15,235 - data.chartink - INFO - [CHARTINK-95235] Rate limiting: Sleeping for 1.88s
2025-04-19 00:53:17,119 - data.chartink - INFO - [CHARTINK-95235] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:53:17,382 - data.chartink - INFO - [CHARTINK-95235] ‚úÖ CSRF token obtained successfully
2025-04-19 00:53:17,382 - data.chartink - INFO - [CHARTINK-95235] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:53:17,382 - data.chartink - INFO - [CHARTINK-95235] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 00:53:17,382 - data.chartink - INFO - [CHARTINK-95235] ‚è±Ô∏è API call started at 00:53:17.382
2025-04-19 00:53:17,501 - data.chartink - INFO - [CHARTINK-95235] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:53:17,501 - data.chartink - INFO - [CHARTINK-95235] Response type: dict
2025-04-19 00:53:17,502 - data.chartink - INFO - [CHARTINK-95235] Data entries: 0
2025-04-19 00:53:17,502 - data.chartink - INFO - [CHARTINK-95235] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:53:17,505 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:53:17,505 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 00:53:17,505 - data.chartink - INFO - [CHARTINK-97505] üöÄ Preparing ChartInk API request
2025-04-19 00:53:17,506 - data.chartink - INFO - [CHARTINK-97505] Rate limiting: Sleeping for 1.88s
2025-04-19 00:53:19,388 - data.chartink - INFO - [CHARTINK-97505] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:53:19,662 - data.chartink - INFO - [CHARTINK-97505] ‚úÖ CSRF token obtained successfully
2025-04-19 00:53:19,662 - data.chartink - INFO - [CHARTINK-97505] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:53:19,662 - data.chartink - INFO - [CHARTINK-97505] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 00:53:19,662 - data.chartink - INFO - [CHARTINK-97505] ‚è±Ô∏è API call started at 00:53:19.662
2025-04-19 00:53:19,784 - data.chartink - INFO - [CHARTINK-97505] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:53:19,784 - data.chartink - INFO - [CHARTINK-97505] Response type: dict
2025-04-19 00:53:19,785 - data.chartink - INFO - [CHARTINK-97505] Data entries: 0
2025-04-19 00:53:19,786 - data.chartink - INFO - [CHARTINK-97505] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:53:19,789 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:53:19,790 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 00:53:19,790 - data.chartink - INFO - [CHARTINK-99790] üöÄ Preparing ChartInk API request
2025-04-19 00:53:19,790 - data.chartink - INFO - [CHARTINK-99790] Rate limiting: Sleeping for 1.87s
2025-04-19 00:53:21,668 - data.chartink - INFO - [CHARTINK-99790] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:53:21,923 - data.chartink - INFO - [CHARTINK-99790] ‚úÖ CSRF token obtained successfully
2025-04-19 00:53:21,923 - data.chartink - INFO - [CHARTINK-99790] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:53:21,923 - data.chartink - INFO - [CHARTINK-99790] Query: latest close > 0 and          latest volume > 100000
2025-04-19 00:53:21,923 - data.chartink - INFO - [CHARTINK-99790] ‚è±Ô∏è API call started at 00:53:21.923
2025-04-19 00:53:22,139 - data.chartink - INFO - [CHARTINK-99790] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 00:53:22,143 - data.chartink - INFO - [CHARTINK-99790] Response type: dict
2025-04-19 00:53:22,144 - data.chartink - INFO - [CHARTINK-99790] Data entries: 1220
2025-04-19 00:53:22,146 - data.chartink - INFO - [CHARTINK-99790] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:53:22,147 - data.chartink - INFO - [CHARTINK-99790] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:53:22,147 - data.chartink - INFO - [CHARTINK-99790] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:53:22,151 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 00:53:22,151 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 00:53:22,151 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 00:53:22,151 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 00:53:22,151 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 00:53:22,151 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 00:53:22,151 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 00:53:22,151 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 00:53:22,153 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 00:53:22,153 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 00:53:22,153 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 00:53:22,172 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:53:22,204 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:53:22,215 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:53:22,217 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:53:22,217 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:53:22,217 - data.chartink - INFO - [CHARTINK-2217] üöÄ Preparing ChartInk API request
2025-04-19 00:53:22,218 - data.chartink - INFO - [CHARTINK-2217] Rate limiting: Sleeping for 1.70s
2025-04-19 00:53:23,931 - data.chartink - INFO - [CHARTINK-2217] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:53:24,283 - data.chartink - INFO - [CHARTINK-2217] ‚úÖ CSRF token obtained successfully
2025-04-19 00:53:24,284 - data.chartink - INFO - [CHARTINK-2217] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:53:24,285 - data.chartink - INFO - [CHARTINK-2217] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:53:24,285 - data.chartink - INFO - [CHARTINK-2217] ‚è±Ô∏è API call started at 00:53:24.285
2025-04-19 00:53:24,536 - data.chartink - INFO - [CHARTINK-2217] ‚¨áÔ∏è Received response in 0.25s with status code 200
2025-04-19 00:53:24,538 - data.chartink - INFO - [CHARTINK-2217] Response type: dict
2025-04-19 00:53:24,538 - data.chartink - INFO - [CHARTINK-2217] Data entries: 1220
2025-04-19 00:53:24,542 - data.chartink - INFO - [CHARTINK-2217] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:53:24,542 - data.chartink - INFO - [CHARTINK-2217] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:53:24,543 - data.chartink - INFO - [CHARTINK-2217] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:53:24,544 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 2.33s
2025-04-19 00:53:24,544 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:53:24,546 - dashboard.page_modules.swing_watchlist - INFO - Initial load of watchlist data
2025-04-19 00:53:24,546 - dashboard.page_modules.swing_watchlist - INFO - Fetching watchlist from data service
2025-04-19 00:53:24,546 - data.top_stocks_service - INFO - get_watchlist method called (not fully implemented) - type: swing
2025-04-19 00:53:24,546 - dashboard.page_modules.swing_watchlist - INFO - Found 0 watchlist items
2025-04-19 00:57:11,954 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 00:57:13,957 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:57:13,958 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:13,958 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:13,958 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:13,958 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:13,958 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 00:57:14,203 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.25s
2025-04-19 00:57:14,206 - data.chartink - INFO - [CHARTINK-34206] üöÄ Preparing ChartInk API request
2025-04-19 00:57:14,206 - data.chartink - INFO - [CHARTINK-34206] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:57:14,446 - data.chartink - INFO - [CHARTINK-34206] ‚úÖ CSRF token obtained successfully
2025-04-19 00:57:14,446 - data.chartink - INFO - [CHARTINK-34206] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:57:14,446 - data.chartink - INFO - [CHARTINK-34206] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:57:14,446 - data.chartink - INFO - [CHARTINK-34206] ‚è±Ô∏è API call started at 00:57:14.446
2025-04-19 00:57:14,669 - data.chartink - INFO - [CHARTINK-34206] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 00:57:14,675 - data.chartink - INFO - [CHARTINK-34206] Response type: dict
2025-04-19 00:57:14,675 - data.chartink - INFO - [CHARTINK-34206] Data entries: 1220
2025-04-19 00:57:14,678 - data.chartink - INFO - [CHARTINK-34206] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:57:14,678 - data.chartink - INFO - [CHARTINK-34206] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:57:14,679 - data.chartink - INFO - [CHARTINK-34206] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:57:14,682 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.72s
2025-04-19 00:57:14,682 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:14,682 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:57:14,682 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:57:14,683 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:14,683 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:14,683 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:14,683 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:14,684 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 00:57:14,684 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:14,684 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:14,684 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:57:14,687 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:57:14,687 - data.top_stocks_service - INFO - [FETCH #51383] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 00:57:14,687 - data.top_stocks_service - INFO - [FETCH #51383] Using waterfall algorithm
2025-04-19 00:57:14,687 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 00:57:14,687 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 00:57:14,687 - data.chartink - INFO - [CHARTINK-34687] üöÄ Preparing ChartInk API request
2025-04-19 00:57:14,688 - data.chartink - INFO - [CHARTINK-34687] Rate limiting: Sleeping for 1.76s
2025-04-19 00:57:16,452 - data.chartink - INFO - [CHARTINK-34687] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:57:16,713 - data.chartink - INFO - [CHARTINK-34687] ‚úÖ CSRF token obtained successfully
2025-04-19 00:57:16,713 - data.chartink - INFO - [CHARTINK-34687] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:57:16,713 - data.chartink - INFO - [CHARTINK-34687] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 00:57:16,713 - data.chartink - INFO - [CHARTINK-34687] ‚è±Ô∏è API call started at 00:57:16.713
2025-04-19 00:57:16,834 - data.chartink - INFO - [CHARTINK-34687] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:57:16,834 - data.chartink - INFO - [CHARTINK-34687] Response type: dict
2025-04-19 00:57:16,835 - data.chartink - INFO - [CHARTINK-34687] Data entries: 0
2025-04-19 00:57:16,836 - data.chartink - INFO - [CHARTINK-34687] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:57:16,840 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:57:16,841 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 00:57:16,841 - data.chartink - INFO - [CHARTINK-36841] üöÄ Preparing ChartInk API request
2025-04-19 00:57:16,841 - data.chartink - INFO - [CHARTINK-36841] Rate limiting: Sleeping for 1.87s
2025-04-19 00:57:18,719 - data.chartink - INFO - [CHARTINK-36841] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:57:18,956 - data.chartink - INFO - [CHARTINK-36841] ‚úÖ CSRF token obtained successfully
2025-04-19 00:57:18,956 - data.chartink - INFO - [CHARTINK-36841] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:57:18,956 - data.chartink - INFO - [CHARTINK-36841] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 00:57:18,956 - data.chartink - INFO - [CHARTINK-36841] ‚è±Ô∏è API call started at 00:57:18.956
2025-04-19 00:57:19,060 - data.chartink - INFO - [CHARTINK-36841] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 00:57:19,060 - data.chartink - INFO - [CHARTINK-36841] Response type: dict
2025-04-19 00:57:19,060 - data.chartink - INFO - [CHARTINK-36841] Data entries: 0
2025-04-19 00:57:19,061 - data.chartink - INFO - [CHARTINK-36841] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:57:19,063 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:57:19,063 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 00:57:19,063 - data.chartink - INFO - [CHARTINK-39063] üöÄ Preparing ChartInk API request
2025-04-19 00:57:19,063 - data.chartink - INFO - [CHARTINK-39063] Rate limiting: Sleeping for 1.89s
2025-04-19 00:57:20,820 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:57:20,821 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:20,822 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:20,822 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:20,822 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:20,822 - data.chartink - INFO - Using cached results for query (age: 6.1s)
2025-04-19 00:57:20,822 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:20,823 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:20,823 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:57:20,823 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:57:20,824 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:20,825 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:20,825 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:20,825 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:20,825 - data.chartink - INFO - Using cached results for query (age: 6.1s)
2025-04-19 00:57:20,825 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:20,826 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:20,826 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:57:20,827 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:57:20,827 - data.top_stocks_service - INFO - [FETCH #20006] Getting hot swing stocks (limit=10, query=simple_test)
2025-04-19 00:57:20,827 - data.top_stocks_service - INFO - [FETCH #20006] Using specific query: simple_test
2025-04-19 00:57:20,827 - data.top_stocks_service - INFO - Running single query: simple_test - Simple Test Query
2025-04-19 00:57:20,827 - data.chartink - INFO - [CHARTINK-40827] üöÄ Preparing ChartInk API request
2025-04-19 00:57:20,827 - data.chartink - INFO - [CHARTINK-40827] Rate limiting: Sleeping for 0.13s
2025-04-19 00:57:20,961 - data.chartink - INFO - [CHARTINK-39063] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:57:20,962 - data.chartink - INFO - [CHARTINK-40827] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:57:21,189 - data.chartink - INFO - [CHARTINK-39063] ‚úÖ CSRF token obtained successfully
2025-04-19 00:57:21,190 - data.chartink - INFO - [CHARTINK-39063] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:57:21,190 - data.chartink - INFO - [CHARTINK-39063] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 00:57:21,190 - data.chartink - INFO - [CHARTINK-39063] ‚è±Ô∏è API call started at 00:57:21.190
2025-04-19 00:57:21,201 - data.chartink - INFO - [CHARTINK-40827] ‚úÖ CSRF token obtained successfully
2025-04-19 00:57:21,201 - data.chartink - INFO - [CHARTINK-40827] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:57:21,202 - data.chartink - INFO - [CHARTINK-40827] Query: latest close > 0 and          latest volume > 100000
2025-04-19 00:57:21,202 - data.chartink - INFO - [CHARTINK-40827] ‚è±Ô∏è API call started at 00:57:21.202
2025-04-19 00:57:21,305 - data.chartink - INFO - [CHARTINK-39063] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 00:57:21,305 - data.chartink - INFO - [CHARTINK-39063] Response type: dict
2025-04-19 00:57:21,305 - data.chartink - INFO - [CHARTINK-39063] Data entries: 0
2025-04-19 00:57:21,306 - data.chartink - INFO - [CHARTINK-39063] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:57:21,307 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:57:21,307 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 00:57:21,307 - data.chartink - INFO - [CHARTINK-41307] üöÄ Preparing ChartInk API request
2025-04-19 00:57:21,307 - data.chartink - INFO - [CHARTINK-41307] Rate limiting: Sleeping for 1.89s
2025-04-19 00:57:21,428 - data.chartink - INFO - [CHARTINK-40827] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 00:57:21,430 - data.chartink - INFO - [CHARTINK-40827] Response type: dict
2025-04-19 00:57:21,430 - data.chartink - INFO - [CHARTINK-40827] Data entries: 1220
2025-04-19 00:57:21,432 - data.chartink - INFO - [CHARTINK-40827] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:57:21,432 - data.chartink - INFO - [CHARTINK-40827] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:57:21,433 - data.chartink - INFO - [CHARTINK-40827] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:57:21,438 - data.top_stocks_service - INFO - Returning 50 stocks from query 'Simple Test Query'
2025-04-19 00:57:21,438 - data.top_stocks_service - INFO - Stock symbols: DIXON, POWERINDIA, ULTRACEMCO, MARUTI, BAJFINANCE
2025-04-19 00:57:21,438 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 00:57:21,438 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 00:57:21,438 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Simple Test Query
2025-04-19 00:57:21,440 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 00:57:21,440 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 00:57:21,440 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'name': 'Hitachi Energy India Ltd', 'change': '4.03%', 'per_chg': 4.03, 'volume': 119534, 'close': 13206.0, 'pattern': 'Simple Test Query', 'query_key': 'simple_test', 'company': 'Hitachi Energy India Ltd', 'signal': 'bullish'}
2025-04-19 00:57:21,454 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:57:21,459 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:21,459 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:21,459 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:21,459 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:21,459 - data.chartink - INFO - Using cached results for query (age: 6.8s)
2025-04-19 00:57:21,460 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:21,460 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:21,461 - dashboard.page_modules.swing_watchlist - INFO - Initial load of watchlist data
2025-04-19 00:57:21,461 - dashboard.page_modules.swing_watchlist - INFO - Fetching watchlist from data service
2025-04-19 00:57:21,461 - data.top_stocks_service - INFO - get_watchlist method called (not fully implemented) - type: swing
2025-04-19 00:57:21,461 - dashboard.page_modules.swing_watchlist - INFO - Found 0 watchlist items
2025-04-19 00:57:23,207 - data.chartink - INFO - [CHARTINK-41307] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:57:23,444 - data.chartink - INFO - [CHARTINK-41307] ‚úÖ CSRF token obtained successfully
2025-04-19 00:57:23,444 - data.chartink - INFO - [CHARTINK-41307] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:57:23,444 - data.chartink - INFO - [CHARTINK-41307] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 00:57:23,444 - data.chartink - INFO - [CHARTINK-41307] ‚è±Ô∏è API call started at 00:57:23.444
2025-04-19 00:57:23,562 - data.chartink - INFO - [CHARTINK-41307] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:57:23,563 - data.chartink - INFO - [CHARTINK-41307] Response type: dict
2025-04-19 00:57:23,563 - data.chartink - INFO - [CHARTINK-41307] Data entries: 0
2025-04-19 00:57:23,564 - data.chartink - INFO - [CHARTINK-41307] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:57:23,567 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:57:23,567 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 00:57:23,567 - data.chartink - INFO - Using cached results for query (age: 2.1s)
2025-04-19 00:57:23,572 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 00:57:23,572 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 00:57:23,572 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 00:57:23,572 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 00:57:23,572 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 00:57:23,572 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 00:57:23,572 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 00:57:23,573 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 00:57:28,348 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:57:28,349 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:28,349 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:28,349 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:28,349 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:28,349 - data.chartink - INFO - Using cached results for query (age: 13.7s)
2025-04-19 00:57:28,349 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:28,349 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:28,349 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:57:28,350 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:57:28,350 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:28,350 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:28,350 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:28,350 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:28,350 - data.chartink - INFO - Using cached results for query (age: 13.7s)
2025-04-19 00:57:28,350 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:28,351 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:28,351 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:57:28,352 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:57:28,352 - data.top_stocks_service - INFO - [FETCH #31077] Getting hot swing stocks (limit=10, query=momentum)
2025-04-19 00:57:28,352 - data.top_stocks_service - INFO - [FETCH #31077] Using specific query: momentum
2025-04-19 00:57:28,352 - data.top_stocks_service - INFO - Running single query: momentum - Momentum Leaders
2025-04-19 00:57:28,352 - data.chartink - INFO - Using cached results for query (age: 4.8s)
2025-04-19 00:57:28,352 - data.top_stocks_service - WARNING - Query 'Momentum Leaders' returned no results
2025-04-19 00:57:28,352 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: No results for Momentum Leaders
2025-04-19 00:57:28,355 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:28,355 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:28,355 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:28,355 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:28,355 - data.chartink - INFO - Using cached results for query (age: 13.7s)
2025-04-19 00:57:28,355 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:28,355 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:32,005 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:57:32,006 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:32,006 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:32,006 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:32,006 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:32,006 - data.chartink - INFO - Using cached results for query (age: 17.3s)
2025-04-19 00:57:32,006 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:32,007 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:32,007 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:57:32,007 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:57:32,007 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:32,008 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:32,008 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:32,008 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:32,008 - data.chartink - INFO - Using cached results for query (age: 17.3s)
2025-04-19 00:57:32,008 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:32,008 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:32,008 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:57:32,009 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:57:32,010 - data.top_stocks_service - INFO - [FETCH #14393] Getting hot swing stocks (limit=10, query=bullish_engulfing)
2025-04-19 00:57:32,010 - data.top_stocks_service - INFO - [FETCH #14393] Using specific query: bullish_engulfing
2025-04-19 00:57:32,010 - data.top_stocks_service - INFO - Running single query: bullish_engulfing - Bullish Engulfing
2025-04-19 00:57:32,010 - data.chartink - INFO - Using cached results for query (age: 10.7s)
2025-04-19 00:57:32,010 - data.top_stocks_service - WARNING - Query 'Bullish Engulfing' returned no results
2025-04-19 00:57:32,010 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: No results for Bullish Engulfing
2025-04-19 00:57:32,012 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:32,013 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:32,013 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:32,013 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:32,013 - data.chartink - INFO - Using cached results for query (age: 17.3s)
2025-04-19 00:57:32,014 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:32,014 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:34,635 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:57:34,635 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:34,636 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:34,636 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:34,636 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:34,637 - data.chartink - INFO - Using cached results for query (age: 20.0s)
2025-04-19 00:57:34,637 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:34,637 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:34,637 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:57:34,637 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:57:34,638 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:34,638 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:34,638 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:34,638 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:34,638 - data.chartink - INFO - Using cached results for query (age: 20.0s)
2025-04-19 00:57:34,638 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:34,639 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:34,639 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:57:34,641 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:57:34,641 - data.top_stocks_service - INFO - [FETCH #18723] Getting hot swing stocks (limit=10, query=None)
2025-04-19 00:57:34,641 - data.top_stocks_service - INFO - [FETCH #18723] Using waterfall algorithm
2025-04-19 00:57:34,641 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 00:57:34,641 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 00:57:34,641 - data.chartink - INFO - Using cached results for query (age: 17.8s)
2025-04-19 00:57:34,642 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:57:34,642 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 00:57:34,642 - data.chartink - INFO - Using cached results for query (age: 15.6s)
2025-04-19 00:57:34,643 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:57:34,643 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 00:57:34,644 - data.chartink - INFO - Using cached results for query (age: 13.3s)
2025-04-19 00:57:34,644 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:57:34,644 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 00:57:34,645 - data.chartink - INFO - Using cached results for query (age: 11.1s)
2025-04-19 00:57:34,645 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:57:34,645 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 00:57:34,645 - data.chartink - INFO - Using cached results for query (age: 13.2s)
2025-04-19 00:57:34,647 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 00:57:34,647 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 00:57:34,647 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 00:57:34,647 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 00:57:34,648 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 00:57:34,648 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 00:57:34,648 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 00:57:34,648 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 00:57:34,649 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 00:57:34,650 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 00:57:34,650 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 00:57:34,652 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:57:34,655 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:34,655 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:34,655 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:34,655 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:34,655 - data.chartink - INFO - Using cached results for query (age: 20.0s)
2025-04-19 00:57:34,656 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:34,656 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:42,822 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:57:42,822 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:42,822 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:42,822 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:42,822 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:42,822 - data.chartink - INFO - Using cached results for query (age: 28.1s)
2025-04-19 00:57:42,822 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:42,823 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:42,823 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:57:42,823 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:57:42,823 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:42,823 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:42,823 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:42,823 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:42,823 - data.chartink - INFO - Using cached results for query (age: 28.1s)
2025-04-19 00:57:42,824 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:42,824 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:42,824 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:57:42,825 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:57:42,826 - data.top_stocks_service - INFO - [FETCH #25649] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 00:57:42,826 - data.top_stocks_service - INFO - [FETCH #25649] Using waterfall algorithm
2025-04-19 00:57:42,826 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 00:57:42,826 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 00:57:42,826 - data.chartink - INFO - Using cached results for query (age: 26.0s)
2025-04-19 00:57:42,826 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:57:42,826 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 00:57:42,826 - data.chartink - INFO - Using cached results for query (age: 23.8s)
2025-04-19 00:57:42,826 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:57:42,826 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 00:57:42,826 - data.chartink - INFO - Using cached results for query (age: 21.5s)
2025-04-19 00:57:42,826 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:57:42,826 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 00:57:42,826 - data.chartink - INFO - Using cached results for query (age: 19.3s)
2025-04-19 00:57:42,827 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:57:42,827 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 00:57:42,827 - data.chartink - INFO - Using cached results for query (age: 21.4s)
2025-04-19 00:57:42,829 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 00:57:42,829 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 00:57:42,830 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 00:57:42,830 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 00:57:42,830 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 00:57:42,830 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 00:57:42,830 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 00:57:42,830 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 00:57:42,832 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 00:57:42,832 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 00:57:42,832 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 00:57:42,834 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:57:42,837 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:42,838 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:42,838 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:42,839 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:42,839 - data.chartink - INFO - Using cached results for query (age: 28.2s)
2025-04-19 00:57:42,839 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:42,839 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:50,020 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:57:50,021 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:50,021 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:50,021 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:50,021 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:50,022 - data.chartink - INFO - Using cached results for query (age: 35.3s)
2025-04-19 00:57:50,022 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:50,022 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:50,022 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:57:50,022 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:57:50,023 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:50,023 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:50,023 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:50,024 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:50,024 - data.chartink - INFO - Using cached results for query (age: 35.3s)
2025-04-19 00:57:50,024 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:50,025 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:50,025 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:57:50,026 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:57:50,027 - data.top_stocks_service - INFO - [FETCH #37140] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 00:57:50,027 - data.top_stocks_service - INFO - [FETCH #37140] Using waterfall algorithm
2025-04-19 00:57:50,027 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 00:57:50,027 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 00:57:50,027 - data.chartink - INFO - Using cached results for query (age: 33.2s)
2025-04-19 00:57:50,027 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:57:50,027 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 00:57:50,027 - data.chartink - INFO - Using cached results for query (age: 31.0s)
2025-04-19 00:57:50,027 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:57:50,028 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 00:57:50,028 - data.chartink - INFO - Using cached results for query (age: 28.7s)
2025-04-19 00:57:50,028 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:57:50,028 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 00:57:50,029 - data.chartink - INFO - Using cached results for query (age: 26.5s)
2025-04-19 00:57:50,029 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:57:50,029 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 00:57:50,029 - data.chartink - INFO - Using cached results for query (age: 28.6s)
2025-04-19 00:57:50,032 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 00:57:50,032 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 00:57:50,032 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 00:57:50,032 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 00:57:50,032 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 00:57:50,032 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 00:57:50,032 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 00:57:50,033 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 00:57:50,034 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 00:57:50,034 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 00:57:50,034 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 00:57:50,036 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:57:50,039 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:50,039 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:50,039 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:50,039 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:50,039 - data.chartink - INFO - Using cached results for query (age: 35.4s)
2025-04-19 00:57:50,040 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:50,040 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:51,370 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:57:51,370 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:51,370 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:51,371 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:51,371 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:51,371 - data.chartink - INFO - Using cached results for query (age: 36.7s)
2025-04-19 00:57:51,371 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:51,371 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:51,371 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:57:51,371 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:57:51,372 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:51,372 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:51,372 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:51,372 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:51,372 - data.chartink - INFO - Using cached results for query (age: 36.7s)
2025-04-19 00:57:51,372 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:51,372 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:51,372 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:57:51,431 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:57:51,432 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:51,432 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:51,432 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:51,432 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:51,432 - data.chartink - INFO - Using cached results for query (age: 36.8s)
2025-04-19 00:57:51,433 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:51,433 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:51,433 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:57:51,433 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:57:51,433 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:51,433 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:51,433 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:51,433 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:51,434 - data.chartink - INFO - Using cached results for query (age: 36.8s)
2025-04-19 00:57:51,434 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:51,434 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:57:51,434 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:57:51,435 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:57:51,435 - data.top_stocks_service - INFO - [FETCH #67979] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 00:57:51,435 - data.top_stocks_service - INFO - [FETCH #67979] Using waterfall algorithm
2025-04-19 00:57:51,435 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 00:57:51,435 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 00:57:51,435 - data.chartink - INFO - Using cached results for query (age: 34.6s)
2025-04-19 00:57:51,435 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:57:51,435 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 00:57:51,435 - data.chartink - INFO - Using cached results for query (age: 32.4s)
2025-04-19 00:57:51,435 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:57:51,435 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 00:57:51,435 - data.chartink - INFO - Using cached results for query (age: 30.1s)
2025-04-19 00:57:51,436 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:57:51,436 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 00:57:51,436 - data.chartink - INFO - Using cached results for query (age: 27.9s)
2025-04-19 00:57:51,436 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:57:51,436 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 00:57:51,436 - data.chartink - INFO - Using cached results for query (age: 30.0s)
2025-04-19 00:57:51,438 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 00:57:51,438 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 00:57:51,438 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 00:57:51,438 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 00:57:51,438 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 00:57:51,438 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 00:57:51,438 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 00:57:51,438 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 00:57:51,440 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 00:57:51,440 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 00:57:51,441 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 00:57:51,442 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:57:51,445 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:57:51,445 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:57:51,445 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:57:51,446 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:57:51,446 - data.chartink - INFO - Using cached results for query (age: 36.8s)
2025-04-19 00:57:51,446 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:57:51,446 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:58:04,802 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:58:04,802 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:58:04,802 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:58:04,802 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:58:04,802 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:58:04,802 - data.chartink - INFO - Using cached results for query (age: 50.1s)
2025-04-19 00:58:04,803 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:58:04,804 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:58:04,804 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:58:04,804 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:58:04,805 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:58:04,805 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:58:04,805 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:58:04,805 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:58:04,805 - data.chartink - INFO - Using cached results for query (age: 50.1s)
2025-04-19 00:58:04,805 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:58:04,805 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:58:04,806 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:58:04,807 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:58:04,807 - data.top_stocks_service - INFO - [FETCH #64181] Getting hot swing stocks (limit=10, query=None)
2025-04-19 00:58:04,807 - data.top_stocks_service - INFO - [FETCH #64181] Using waterfall algorithm
2025-04-19 00:58:04,807 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 00:58:04,807 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 00:58:04,807 - data.chartink - INFO - Using cached results for query (age: 48.0s)
2025-04-19 00:58:04,807 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:58:04,807 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 00:58:04,807 - data.chartink - INFO - Using cached results for query (age: 45.7s)
2025-04-19 00:58:04,807 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:58:04,807 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 00:58:04,807 - data.chartink - INFO - Using cached results for query (age: 43.5s)
2025-04-19 00:58:04,807 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:58:04,807 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 00:58:04,807 - data.chartink - INFO - Using cached results for query (age: 41.2s)
2025-04-19 00:58:04,808 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:58:04,808 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 00:58:04,808 - data.chartink - INFO - Using cached results for query (age: 43.4s)
2025-04-19 00:58:04,811 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 00:58:04,811 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 00:58:04,811 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 00:58:04,812 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 00:58:04,812 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 00:58:04,812 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 00:58:04,812 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 00:58:04,812 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 00:58:04,814 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 00:58:04,815 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 00:58:04,815 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 00:58:04,819 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:58:04,825 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:58:04,826 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:58:04,826 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:58:04,826 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:58:04,827 - data.chartink - INFO - Using cached results for query (age: 50.1s)
2025-04-19 00:58:04,827 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:58:04,828 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:58:09,222 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:58:09,223 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:58:09,223 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:58:09,223 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:58:09,223 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:58:09,223 - data.chartink - INFO - Using cached results for query (age: 54.5s)
2025-04-19 00:58:09,224 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:58:09,224 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:58:09,224 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:58:09,224 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:58:09,224 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:58:09,224 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:58:09,224 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:58:09,224 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:58:09,225 - data.chartink - INFO - Using cached results for query (age: 54.5s)
2025-04-19 00:58:09,225 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:58:09,225 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:58:09,225 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:58:09,226 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:58:09,226 - data.top_stocks_service - INFO - [FETCH #45756] Getting hot swing stocks (limit=10, query=bullish_engulfing)
2025-04-19 00:58:09,226 - data.top_stocks_service - INFO - [FETCH #45756] Using specific query: bullish_engulfing
2025-04-19 00:58:09,227 - data.top_stocks_service - INFO - Running single query: bullish_engulfing - Bullish Engulfing
2025-04-19 00:58:09,227 - data.chartink - INFO - Using cached results for query (age: 47.9s)
2025-04-19 00:58:09,227 - data.top_stocks_service - WARNING - Query 'Bullish Engulfing' returned no results
2025-04-19 00:58:09,227 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: No results for Bullish Engulfing
2025-04-19 00:58:09,229 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:58:09,229 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:58:09,229 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:58:09,229 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:58:09,229 - data.chartink - INFO - Using cached results for query (age: 54.5s)
2025-04-19 00:58:09,229 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:58:09,230 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:58:27,497 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 00:58:33,422 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 00:58:33,422 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:58:33,423 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:58:33,423 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:58:33,423 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:58:33,423 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 00:58:33,671 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.25s
2025-04-19 00:58:33,673 - data.chartink - INFO - [CHARTINK-13673] üöÄ Preparing ChartInk API request
2025-04-19 00:58:33,673 - data.chartink - INFO - [CHARTINK-13673] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:58:33,892 - data.chartink - INFO - [CHARTINK-13673] ‚úÖ CSRF token obtained successfully
2025-04-19 00:58:33,892 - data.chartink - INFO - [CHARTINK-13673] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:58:33,892 - data.chartink - INFO - [CHARTINK-13673] Query: latest close > 0 and latest volume > 100000
2025-04-19 00:58:33,892 - data.chartink - INFO - [CHARTINK-13673] ‚è±Ô∏è API call started at 00:58:33.892
2025-04-19 00:58:34,114 - data.chartink - INFO - [CHARTINK-13673] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 00:58:34,121 - data.chartink - INFO - [CHARTINK-13673] Response type: dict
2025-04-19 00:58:34,121 - data.chartink - INFO - [CHARTINK-13673] Data entries: 1220
2025-04-19 00:58:34,126 - data.chartink - INFO - [CHARTINK-13673] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:58:34,126 - data.chartink - INFO - [CHARTINK-13673] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:58:34,126 - data.chartink - INFO - [CHARTINK-13673] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:58:34,128 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.71s
2025-04-19 00:58:34,128 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:58:34,128 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 00:58:34,128 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 00:58:34,129 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:58:34,129 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:58:34,129 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:58:34,129 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:58:34,129 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 00:58:34,129 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:58:34,129 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:58:34,130 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 00:58:34,131 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 00:58:34,131 - data.top_stocks_service - INFO - [FETCH #12478] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 00:58:34,131 - data.top_stocks_service - INFO - [FETCH #12478] Using waterfall algorithm
2025-04-19 00:58:34,131 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 00:58:34,131 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 00:58:34,131 - data.chartink - INFO - [CHARTINK-14131] üöÄ Preparing ChartInk API request
2025-04-19 00:58:34,131 - data.chartink - INFO - [CHARTINK-14131] Rate limiting: Sleeping for 1.76s
2025-04-19 00:58:35,897 - data.chartink - INFO - [CHARTINK-14131] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:58:36,140 - data.chartink - INFO - [CHARTINK-14131] ‚úÖ CSRF token obtained successfully
2025-04-19 00:58:36,140 - data.chartink - INFO - [CHARTINK-14131] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:58:36,140 - data.chartink - INFO - [CHARTINK-14131] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 00:58:36,140 - data.chartink - INFO - [CHARTINK-14131] ‚è±Ô∏è API call started at 00:58:36.140
2025-04-19 00:58:36,270 - data.chartink - INFO - [CHARTINK-14131] ‚¨áÔ∏è Received response in 0.13s with status code 200
2025-04-19 00:58:36,271 - data.chartink - INFO - [CHARTINK-14131] Response type: dict
2025-04-19 00:58:36,271 - data.chartink - INFO - [CHARTINK-14131] Data entries: 0
2025-04-19 00:58:36,272 - data.chartink - INFO - [CHARTINK-14131] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:58:36,275 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 00:58:36,275 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 00:58:36,275 - data.chartink - INFO - [CHARTINK-16275] üöÄ Preparing ChartInk API request
2025-04-19 00:58:36,275 - data.chartink - INFO - [CHARTINK-16275] Rate limiting: Sleeping for 1.86s
2025-04-19 00:58:38,146 - data.chartink - INFO - [CHARTINK-16275] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:58:38,440 - data.chartink - INFO - [CHARTINK-16275] ‚úÖ CSRF token obtained successfully
2025-04-19 00:58:38,441 - data.chartink - INFO - [CHARTINK-16275] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:58:38,441 - data.chartink - INFO - [CHARTINK-16275] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 00:58:38,441 - data.chartink - INFO - [CHARTINK-16275] ‚è±Ô∏è API call started at 00:58:38.441
2025-04-19 00:58:38,558 - data.chartink - INFO - [CHARTINK-16275] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:58:38,559 - data.chartink - INFO - [CHARTINK-16275] Response type: dict
2025-04-19 00:58:38,559 - data.chartink - INFO - [CHARTINK-16275] Data entries: 0
2025-04-19 00:58:38,560 - data.chartink - INFO - [CHARTINK-16275] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:58:38,563 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 00:58:38,563 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 00:58:38,563 - data.chartink - INFO - [CHARTINK-18563] üöÄ Preparing ChartInk API request
2025-04-19 00:58:38,563 - data.chartink - INFO - [CHARTINK-18563] Rate limiting: Sleeping for 1.88s
2025-04-19 00:58:40,447 - data.chartink - INFO - [CHARTINK-18563] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:58:40,677 - data.chartink - INFO - [CHARTINK-18563] ‚úÖ CSRF token obtained successfully
2025-04-19 00:58:40,684 - data.chartink - INFO - [CHARTINK-18563] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:58:40,684 - data.chartink - INFO - [CHARTINK-18563] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 00:58:40,684 - data.chartink - INFO - [CHARTINK-18563] ‚è±Ô∏è API call started at 00:58:40.684
2025-04-19 00:58:40,794 - data.chartink - INFO - [CHARTINK-18563] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 00:58:40,794 - data.chartink - INFO - [CHARTINK-18563] Response type: dict
2025-04-19 00:58:40,795 - data.chartink - INFO - [CHARTINK-18563] Data entries: 0
2025-04-19 00:58:40,795 - data.chartink - INFO - [CHARTINK-18563] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:58:40,798 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 00:58:40,798 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 00:58:40,798 - data.chartink - INFO - [CHARTINK-20798] üöÄ Preparing ChartInk API request
2025-04-19 00:58:40,798 - data.chartink - INFO - [CHARTINK-20798] Rate limiting: Sleeping for 1.89s
2025-04-19 00:58:42,690 - data.chartink - INFO - [CHARTINK-20798] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:58:42,935 - data.chartink - INFO - [CHARTINK-20798] ‚úÖ CSRF token obtained successfully
2025-04-19 00:58:42,936 - data.chartink - INFO - [CHARTINK-20798] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:58:42,936 - data.chartink - INFO - [CHARTINK-20798] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 00:58:42,936 - data.chartink - INFO - [CHARTINK-20798] ‚è±Ô∏è API call started at 00:58:42.936
2025-04-19 00:58:43,057 - data.chartink - INFO - [CHARTINK-20798] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 00:58:43,058 - data.chartink - INFO - [CHARTINK-20798] Response type: dict
2025-04-19 00:58:43,058 - data.chartink - INFO - [CHARTINK-20798] Data entries: 0
2025-04-19 00:58:43,059 - data.chartink - INFO - [CHARTINK-20798] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 00:58:43,061 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 00:58:43,061 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 00:58:43,061 - data.chartink - INFO - [CHARTINK-23061] üöÄ Preparing ChartInk API request
2025-04-19 00:58:43,061 - data.chartink - INFO - [CHARTINK-23061] Rate limiting: Sleeping for 1.87s
2025-04-19 00:58:44,941 - data.chartink - INFO - [CHARTINK-23061] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 00:58:45,202 - data.chartink - INFO - [CHARTINK-23061] ‚úÖ CSRF token obtained successfully
2025-04-19 00:58:45,203 - data.chartink - INFO - [CHARTINK-23061] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 00:58:45,203 - data.chartink - INFO - [CHARTINK-23061] Query: latest close > 0 and          latest volume > 100000
2025-04-19 00:58:45,203 - data.chartink - INFO - [CHARTINK-23061] ‚è±Ô∏è API call started at 00:58:45.203
2025-04-19 00:58:45,470 - data.chartink - INFO - [CHARTINK-23061] ‚¨áÔ∏è Received response in 0.27s with status code 200
2025-04-19 00:58:45,473 - data.chartink - INFO - [CHARTINK-23061] Response type: dict
2025-04-19 00:58:45,473 - data.chartink - INFO - [CHARTINK-23061] Data entries: 1220
2025-04-19 00:58:45,477 - data.chartink - INFO - [CHARTINK-23061] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 00:58:45,477 - data.chartink - INFO - [CHARTINK-23061] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 00:58:45,478 - data.chartink - INFO - [CHARTINK-23061] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 00:58:45,485 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 00:58:45,485 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 00:58:45,485 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 00:58:45,485 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 00:58:45,485 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 00:58:45,485 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 00:58:45,485 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 00:58:45,486 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 00:58:45,489 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 00:58:45,490 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 00:58:45,490 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 00:58:45,530 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 00:58:45,535 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 00:58:45,535 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 00:58:45,535 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 00:58:45,535 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 00:58:45,535 - data.chartink - INFO - Using cached results for query (age: 11.4s)
2025-04-19 00:58:45,536 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 00:58:45,536 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 00:58:45,537 - dashboard.page_modules.swing_watchlist - INFO - Initial load of watchlist data
2025-04-19 00:58:45,537 - dashboard.page_modules.swing_watchlist - INFO - Fetching watchlist from data service
2025-04-19 00:58:45,537 - data.top_stocks_service - INFO - get_watchlist method called (not fully implemented) - type: swing
2025-04-19 00:58:45,537 - dashboard.page_modules.swing_watchlist - INFO - Found 0 watchlist items
2025-04-19 01:02:01,285 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 01:02:05,852 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 01:02:05,853 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:02:05,853 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:02:05,853 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:02:05,853 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:02:05,853 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 01:02:06,085 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.23s
2025-04-19 01:02:06,088 - data.chartink - INFO - [CHARTINK-26088] üöÄ Preparing ChartInk API request
2025-04-19 01:02:06,088 - data.chartink - INFO - [CHARTINK-26088] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:02:06,348 - data.chartink - INFO - [CHARTINK-26088] ‚úÖ CSRF token obtained successfully
2025-04-19 01:02:06,348 - data.chartink - INFO - [CHARTINK-26088] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:02:06,348 - data.chartink - INFO - [CHARTINK-26088] Query: latest close > 0 and latest volume > 100000
2025-04-19 01:02:06,348 - data.chartink - INFO - [CHARTINK-26088] ‚è±Ô∏è API call started at 01:02:06.348
2025-04-19 01:02:06,578 - data.chartink - INFO - [CHARTINK-26088] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 01:02:06,582 - data.chartink - INFO - [CHARTINK-26088] Response type: dict
2025-04-19 01:02:06,582 - data.chartink - INFO - [CHARTINK-26088] Data entries: 1220
2025-04-19 01:02:06,584 - data.chartink - INFO - [CHARTINK-26088] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:02:06,584 - data.chartink - INFO - [CHARTINK-26088] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:02:06,584 - data.chartink - INFO - [CHARTINK-26088] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:02:06,587 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.73s
2025-04-19 01:02:06,587 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:02:06,587 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 01:02:06,587 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 01:02:06,588 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:02:06,588 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:02:06,588 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:02:06,589 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:02:06,589 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 01:02:06,589 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:02:06,590 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:02:06,590 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:02:06,592 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:02:06,592 - data.top_stocks_service - INFO - [FETCH #13061] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:02:06,592 - data.top_stocks_service - INFO - [FETCH #13061] Using waterfall algorithm
2025-04-19 01:02:06,592 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:02:06,592 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:02:06,593 - data.chartink - INFO - [CHARTINK-26592] üöÄ Preparing ChartInk API request
2025-04-19 01:02:06,593 - data.chartink - INFO - [CHARTINK-26592] Rate limiting: Sleeping for 1.76s
2025-04-19 01:02:08,354 - data.chartink - INFO - [CHARTINK-26592] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:02:08,618 - data.chartink - INFO - [CHARTINK-26592] ‚úÖ CSRF token obtained successfully
2025-04-19 01:02:08,619 - data.chartink - INFO - [CHARTINK-26592] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:02:08,619 - data.chartink - INFO - [CHARTINK-26592] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 01:02:08,619 - data.chartink - INFO - [CHARTINK-26592] ‚è±Ô∏è API call started at 01:02:08.619
2025-04-19 01:02:08,727 - data.chartink - INFO - [CHARTINK-26592] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:02:08,727 - data.chartink - INFO - [CHARTINK-26592] Response type: dict
2025-04-19 01:02:08,727 - data.chartink - INFO - [CHARTINK-26592] Data entries: 0
2025-04-19 01:02:08,728 - data.chartink - INFO - [CHARTINK-26592] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:02:08,730 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:02:08,730 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:02:08,730 - data.chartink - INFO - [CHARTINK-28730] üöÄ Preparing ChartInk API request
2025-04-19 01:02:08,730 - data.chartink - INFO - [CHARTINK-28730] Rate limiting: Sleeping for 1.89s
2025-04-19 01:02:10,625 - data.chartink - INFO - [CHARTINK-28730] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:02:10,897 - data.chartink - INFO - [CHARTINK-28730] ‚úÖ CSRF token obtained successfully
2025-04-19 01:02:10,897 - data.chartink - INFO - [CHARTINK-28730] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:02:10,897 - data.chartink - INFO - [CHARTINK-28730] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 01:02:10,897 - data.chartink - INFO - [CHARTINK-28730] ‚è±Ô∏è API call started at 01:02:10.897
2025-04-19 01:02:11,005 - data.chartink - INFO - [CHARTINK-28730] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:02:11,006 - data.chartink - INFO - [CHARTINK-28730] Response type: dict
2025-04-19 01:02:11,006 - data.chartink - INFO - [CHARTINK-28730] Data entries: 0
2025-04-19 01:02:11,008 - data.chartink - INFO - [CHARTINK-28730] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:02:11,012 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:02:11,012 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:02:11,012 - data.chartink - INFO - [CHARTINK-31012] üöÄ Preparing ChartInk API request
2025-04-19 01:02:11,012 - data.chartink - INFO - [CHARTINK-31012] Rate limiting: Sleeping for 1.88s
2025-04-19 01:02:12,903 - data.chartink - INFO - [CHARTINK-31012] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:02:13,168 - data.chartink - INFO - [CHARTINK-31012] ‚úÖ CSRF token obtained successfully
2025-04-19 01:02:13,168 - data.chartink - INFO - [CHARTINK-31012] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:02:13,168 - data.chartink - INFO - [CHARTINK-31012] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 01:02:13,169 - data.chartink - INFO - [CHARTINK-31012] ‚è±Ô∏è API call started at 01:02:13.169
2025-04-19 01:02:13,286 - data.chartink - INFO - [CHARTINK-31012] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 01:02:13,287 - data.chartink - INFO - [CHARTINK-31012] Response type: dict
2025-04-19 01:02:13,287 - data.chartink - INFO - [CHARTINK-31012] Data entries: 0
2025-04-19 01:02:13,288 - data.chartink - INFO - [CHARTINK-31012] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:02:13,292 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:02:13,292 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:02:13,293 - data.chartink - INFO - [CHARTINK-33293] üöÄ Preparing ChartInk API request
2025-04-19 01:02:13,293 - data.chartink - INFO - [CHARTINK-33293] Rate limiting: Sleeping for 1.88s
2025-04-19 01:02:15,174 - data.chartink - INFO - [CHARTINK-33293] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:02:15,432 - data.chartink - INFO - [CHARTINK-33293] ‚úÖ CSRF token obtained successfully
2025-04-19 01:02:15,433 - data.chartink - INFO - [CHARTINK-33293] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:02:15,433 - data.chartink - INFO - [CHARTINK-33293] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 01:02:15,433 - data.chartink - INFO - [CHARTINK-33293] ‚è±Ô∏è API call started at 01:02:15.433
2025-04-19 01:02:15,542 - data.chartink - INFO - [CHARTINK-33293] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:02:15,543 - data.chartink - INFO - [CHARTINK-33293] Response type: dict
2025-04-19 01:02:15,543 - data.chartink - INFO - [CHARTINK-33293] Data entries: 0
2025-04-19 01:02:15,545 - data.chartink - INFO - [CHARTINK-33293] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:02:15,549 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:02:15,550 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:02:15,550 - data.chartink - INFO - [CHARTINK-35550] üöÄ Preparing ChartInk API request
2025-04-19 01:02:15,550 - data.chartink - INFO - [CHARTINK-35550] Rate limiting: Sleeping for 1.88s
2025-04-19 01:02:17,439 - data.chartink - INFO - [CHARTINK-35550] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:02:17,681 - data.chartink - INFO - [CHARTINK-35550] ‚úÖ CSRF token obtained successfully
2025-04-19 01:02:17,681 - data.chartink - INFO - [CHARTINK-35550] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:02:17,681 - data.chartink - INFO - [CHARTINK-35550] Query: latest close > 0 and          latest volume > 100000
2025-04-19 01:02:17,681 - data.chartink - INFO - [CHARTINK-35550] ‚è±Ô∏è API call started at 01:02:17.681
2025-04-19 01:02:17,918 - data.chartink - INFO - [CHARTINK-35550] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 01:02:17,922 - data.chartink - INFO - [CHARTINK-35550] Response type: dict
2025-04-19 01:02:17,922 - data.chartink - INFO - [CHARTINK-35550] Data entries: 1220
2025-04-19 01:02:17,926 - data.chartink - INFO - [CHARTINK-35550] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:02:17,927 - data.chartink - INFO - [CHARTINK-35550] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:02:17,927 - data.chartink - INFO - [CHARTINK-35550] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:02:17,934 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:02:17,935 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:02:17,935 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:02:17,935 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:02:17,935 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:02:17,935 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:02:17,935 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:02:17,935 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:02:17,938 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:02:17,938 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:02:17,938 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 01:02:17,966 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:02:17,973 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:02:17,973 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:02:17,973 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:02:17,974 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:02:17,975 - data.chartink - INFO - Using cached results for query (age: 11.4s)
2025-04-19 01:02:17,975 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:02:17,975 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:02:17,976 - dashboard.page_modules.swing_watchlist - INFO - Initial load of watchlist data
2025-04-19 01:02:17,976 - dashboard.page_modules.swing_watchlist - INFO - Fetching watchlist from data service
2025-04-19 01:02:17,977 - data.top_stocks_service - INFO - get_watchlist method called (not fully implemented) - type: swing
2025-04-19 01:02:17,977 - dashboard.page_modules.swing_watchlist - INFO - Found 0 watchlist items
2025-04-19 01:12:43,692 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 01:12:48,588 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 01:12:48,588 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:12:48,588 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:12:48,588 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:12:48,588 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:12:48,588 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 01:12:48,821 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.23s
2025-04-19 01:12:48,823 - data.chartink - INFO - [CHARTINK-68823] üöÄ Preparing ChartInk API request
2025-04-19 01:12:48,824 - data.chartink - INFO - [CHARTINK-68823] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:12:49,119 - data.chartink - INFO - [CHARTINK-68823] ‚úÖ CSRF token obtained successfully
2025-04-19 01:12:49,119 - data.chartink - INFO - [CHARTINK-68823] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:12:49,120 - data.chartink - INFO - [CHARTINK-68823] Query: latest close > 0 and latest volume > 100000
2025-04-19 01:12:49,120 - data.chartink - INFO - [CHARTINK-68823] ‚è±Ô∏è API call started at 01:12:49.120
2025-04-19 01:12:49,326 - data.chartink - INFO - [CHARTINK-68823] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 01:12:49,328 - data.chartink - INFO - [CHARTINK-68823] Response type: dict
2025-04-19 01:12:49,328 - data.chartink - INFO - [CHARTINK-68823] Data entries: 1220
2025-04-19 01:12:49,330 - data.chartink - INFO - [CHARTINK-68823] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:12:49,330 - data.chartink - INFO - [CHARTINK-68823] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:12:49,330 - data.chartink - INFO - [CHARTINK-68823] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:12:49,331 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.74s
2025-04-19 01:12:49,332 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:12:49,332 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 01:12:49,332 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 01:12:49,332 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:12:49,333 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:12:49,333 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:12:49,333 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:12:49,333 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 01:12:49,333 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:12:49,334 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:12:49,334 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:12:49,335 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:12:49,336 - data.top_stocks_service - INFO - [FETCH #63553] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:12:49,336 - data.top_stocks_service - INFO - [FETCH #63553] Using waterfall algorithm
2025-04-19 01:12:49,336 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:12:49,336 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:12:49,336 - data.chartink - INFO - [CHARTINK-69336] üöÄ Preparing ChartInk API request
2025-04-19 01:12:49,336 - data.chartink - INFO - [CHARTINK-69336] Rate limiting: Sleeping for 1.78s
2025-04-19 01:12:51,125 - data.chartink - INFO - [CHARTINK-69336] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:12:51,388 - data.chartink - INFO - [CHARTINK-69336] ‚úÖ CSRF token obtained successfully
2025-04-19 01:12:51,388 - data.chartink - INFO - [CHARTINK-69336] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:12:51,388 - data.chartink - INFO - [CHARTINK-69336] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 01:12:51,388 - data.chartink - INFO - [CHARTINK-69336] ‚è±Ô∏è API call started at 01:12:51.388
2025-04-19 01:12:51,498 - data.chartink - INFO - [CHARTINK-69336] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:12:51,498 - data.chartink - INFO - [CHARTINK-69336] Response type: dict
2025-04-19 01:12:51,499 - data.chartink - INFO - [CHARTINK-69336] Data entries: 0
2025-04-19 01:12:51,499 - data.chartink - INFO - [CHARTINK-69336] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:12:51,502 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:12:51,502 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:12:51,502 - data.chartink - INFO - [CHARTINK-71502] üöÄ Preparing ChartInk API request
2025-04-19 01:12:51,502 - data.chartink - INFO - [CHARTINK-71502] Rate limiting: Sleeping for 1.89s
2025-04-19 01:12:53,394 - data.chartink - INFO - [CHARTINK-71502] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:12:53,767 - data.chartink - INFO - [CHARTINK-71502] ‚úÖ CSRF token obtained successfully
2025-04-19 01:12:53,767 - data.chartink - INFO - [CHARTINK-71502] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:12:53,767 - data.chartink - INFO - [CHARTINK-71502] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 01:12:53,767 - data.chartink - INFO - [CHARTINK-71502] ‚è±Ô∏è API call started at 01:12:53.767
2025-04-19 01:12:53,877 - data.chartink - INFO - [CHARTINK-71502] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:12:53,878 - data.chartink - INFO - [CHARTINK-71502] Response type: dict
2025-04-19 01:12:53,878 - data.chartink - INFO - [CHARTINK-71502] Data entries: 0
2025-04-19 01:12:53,878 - data.chartink - INFO - [CHARTINK-71502] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:12:53,879 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:12:53,880 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:12:53,880 - data.chartink - INFO - [CHARTINK-73880] üöÄ Preparing ChartInk API request
2025-04-19 01:12:53,880 - data.chartink - INFO - [CHARTINK-73880] Rate limiting: Sleeping for 1.89s
2025-04-19 01:12:55,769 - data.chartink - INFO - [CHARTINK-73880] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:12:56,043 - data.chartink - INFO - [CHARTINK-73880] ‚úÖ CSRF token obtained successfully
2025-04-19 01:12:56,044 - data.chartink - INFO - [CHARTINK-73880] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:12:56,044 - data.chartink - INFO - [CHARTINK-73880] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 01:12:56,044 - data.chartink - INFO - [CHARTINK-73880] ‚è±Ô∏è API call started at 01:12:56.044
2025-04-19 01:12:56,150 - data.chartink - INFO - [CHARTINK-73880] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:12:56,150 - data.chartink - INFO - [CHARTINK-73880] Response type: dict
2025-04-19 01:12:56,150 - data.chartink - INFO - [CHARTINK-73880] Data entries: 0
2025-04-19 01:12:56,151 - data.chartink - INFO - [CHARTINK-73880] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:12:56,154 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:12:56,154 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:12:56,154 - data.chartink - INFO - [CHARTINK-76154] üöÄ Preparing ChartInk API request
2025-04-19 01:12:56,154 - data.chartink - INFO - [CHARTINK-76154] Rate limiting: Sleeping for 1.89s
2025-04-19 01:12:58,054 - data.chartink - INFO - [CHARTINK-76154] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:12:58,523 - data.chartink - INFO - [CHARTINK-76154] ‚úÖ CSRF token obtained successfully
2025-04-19 01:12:58,523 - data.chartink - INFO - [CHARTINK-76154] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:12:58,523 - data.chartink - INFO - [CHARTINK-76154] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 01:12:58,523 - data.chartink - INFO - [CHARTINK-76154] ‚è±Ô∏è API call started at 01:12:58.523
2025-04-19 01:12:58,675 - data.chartink - INFO - [CHARTINK-76154] ‚¨áÔ∏è Received response in 0.15s with status code 200
2025-04-19 01:12:58,675 - data.chartink - INFO - [CHARTINK-76154] Response type: dict
2025-04-19 01:12:58,675 - data.chartink - INFO - [CHARTINK-76154] Data entries: 0
2025-04-19 01:12:58,676 - data.chartink - INFO - [CHARTINK-76154] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:12:58,678 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:12:58,678 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:12:58,678 - data.chartink - INFO - [CHARTINK-78678] üöÄ Preparing ChartInk API request
2025-04-19 01:12:58,678 - data.chartink - INFO - [CHARTINK-78678] Rate limiting: Sleeping for 1.84s
2025-04-19 01:13:00,528 - data.chartink - INFO - [CHARTINK-78678] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:00,780 - data.chartink - INFO - [CHARTINK-78678] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:00,780 - data.chartink - INFO - [CHARTINK-78678] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:00,780 - data.chartink - INFO - [CHARTINK-78678] Query: latest close > 0 and          latest volume > 100000
2025-04-19 01:13:00,780 - data.chartink - INFO - [CHARTINK-78678] ‚è±Ô∏è API call started at 01:13:00.780
2025-04-19 01:13:00,986 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 01:13:00,986 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:00,986 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:00,987 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:00,987 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:00,987 - data.chartink - INFO - Using cached results for query (age: 11.7s)
2025-04-19 01:13:00,987 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:00,987 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:00,987 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 01:13:00,987 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 01:13:00,987 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:00,988 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:00,988 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:00,988 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:00,988 - data.chartink - INFO - Using cached results for query (age: 11.7s)
2025-04-19 01:13:00,988 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:00,988 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:00,988 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:13:00,989 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:13:00,989 - data.top_stocks_service - INFO - [FETCH #49712] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:13:00,989 - data.top_stocks_service - INFO - [FETCH #49712] Using waterfall algorithm
2025-04-19 01:13:00,989 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:13:00,989 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:13:00,989 - data.chartink - INFO - Using cached results for query (age: 9.5s)
2025-04-19 01:13:00,989 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:13:00,990 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:13:00,990 - data.chartink - INFO - Using cached results for query (age: 7.1s)
2025-04-19 01:13:00,990 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:13:00,990 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:13:00,990 - data.chartink - INFO - Using cached results for query (age: 4.8s)
2025-04-19 01:13:00,990 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:13:00,990 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:13:00,990 - data.chartink - INFO - Using cached results for query (age: 2.3s)
2025-04-19 01:13:00,990 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:13:00,990 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:13:00,990 - data.chartink - INFO - [CHARTINK-80990] üöÄ Preparing ChartInk API request
2025-04-19 01:13:00,990 - data.chartink - INFO - [CHARTINK-80990] Rate limiting: Sleeping for 1.79s
2025-04-19 01:13:01,018 - data.chartink - INFO - [CHARTINK-78678] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 01:13:01,020 - data.chartink - INFO - [CHARTINK-78678] Response type: dict
2025-04-19 01:13:01,020 - data.chartink - INFO - [CHARTINK-78678] Data entries: 1225
2025-04-19 01:13:01,022 - data.chartink - INFO - [CHARTINK-78678] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 01:13:01,022 - data.chartink - INFO - [CHARTINK-78678] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:13:01,022 - data.chartink - INFO - [CHARTINK-78678] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:13:01,026 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:13:01,026 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:13:01,026 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:13:01,026 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:13:01,026 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:13:01,027 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:13:01,027 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:13:01,027 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:13:02,786 - data.chartink - INFO - [CHARTINK-80990] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:03,031 - data.chartink - INFO - [CHARTINK-80990] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:03,031 - data.chartink - INFO - [CHARTINK-80990] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:03,031 - data.chartink - INFO - [CHARTINK-80990] Query: latest close > 0 and          latest volume > 100000
2025-04-19 01:13:03,031 - data.chartink - INFO - [CHARTINK-80990] ‚è±Ô∏è API call started at 01:13:03.031
2025-04-19 01:13:03,250 - data.chartink - INFO - [CHARTINK-80990] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 01:13:03,252 - data.chartink - INFO - [CHARTINK-80990] Response type: dict
2025-04-19 01:13:03,252 - data.chartink - INFO - [CHARTINK-80990] Data entries: 1220
2025-04-19 01:13:03,255 - data.chartink - INFO - [CHARTINK-80990] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:13:03,255 - data.chartink - INFO - [CHARTINK-80990] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:13:03,255 - data.chartink - INFO - [CHARTINK-80990] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:13:03,261 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:13:03,261 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:13:03,261 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:13:03,261 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:13:03,261 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:13:03,261 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:13:03,261 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:13:03,261 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:13:03,264 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:13:03,264 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:13:03,264 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 01:13:03,293 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:13:03,297 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:03,297 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:03,297 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:03,297 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:03,298 - data.chartink - INFO - Using cached results for query (age: 14.0s)
2025-04-19 01:13:03,298 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:03,298 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:03,299 - dashboard.page_modules.swing_watchlist - INFO - Initial load of watchlist data
2025-04-19 01:13:03,299 - dashboard.page_modules.swing_watchlist - INFO - Fetching watchlist from data service
2025-04-19 01:13:03,300 - data.top_stocks_service - INFO - get_watchlist method called (not fully implemented) - type: swing
2025-04-19 01:13:03,300 - dashboard.page_modules.swing_watchlist - INFO - Found 0 watchlist items
2025-04-19 01:13:12,132 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 01:13:12,132 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:12,132 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:12,132 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:12,132 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:12,132 - data.chartink - INFO - Using cached results for query (age: 22.8s)
2025-04-19 01:13:12,133 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:12,133 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:12,133 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 01:13:12,133 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 01:13:12,133 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:12,133 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:12,133 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:12,134 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:12,134 - data.chartink - INFO - Using cached results for query (age: 22.8s)
2025-04-19 01:13:12,134 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:12,134 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:12,134 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:13:12,135 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:13:12,135 - data.top_stocks_service - INFO - [FETCH #24863] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:13:12,135 - data.top_stocks_service - INFO - [FETCH #24863] Using waterfall algorithm
2025-04-19 01:13:12,135 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:13:12,135 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:13:12,135 - data.chartink - INFO - Using cached results for query (age: 20.6s)
2025-04-19 01:13:12,136 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:13:12,136 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:13:12,136 - data.chartink - INFO - Using cached results for query (age: 18.3s)
2025-04-19 01:13:12,136 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:13:12,136 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:13:12,136 - data.chartink - INFO - Using cached results for query (age: 16.0s)
2025-04-19 01:13:12,137 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:13:12,137 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:13:12,137 - data.chartink - INFO - Using cached results for query (age: 13.5s)
2025-04-19 01:13:12,137 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:13:12,137 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:13:12,137 - data.chartink - INFO - Using cached results for query (age: 8.9s)
2025-04-19 01:13:12,139 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:13:12,139 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:13:12,140 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:13:12,140 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:13:12,140 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:13:12,140 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:13:12,140 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:13:12,140 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:13:12,141 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:13:12,142 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:13:12,142 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 01:13:12,146 - dashboard.page_modules.swing - ERROR - Swing page error: module 'streamlit' has no attribute 'popover'
2025-04-19 01:13:29,656 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 01:13:29,657 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:29,657 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:29,657 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:29,657 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:29,657 - data.chartink - INFO - Cache expired for query (age: 40.3s)
2025-04-19 01:13:29,657 - data.chartink - INFO - [CHARTINK-9657] üöÄ Preparing ChartInk API request
2025-04-19 01:13:29,658 - data.chartink - INFO - [CHARTINK-9657] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:29,935 - data.chartink - INFO - [CHARTINK-9657] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:29,935 - data.chartink - INFO - [CHARTINK-9657] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:29,935 - data.chartink - INFO - [CHARTINK-9657] Query: latest close > 0 and latest volume > 100000
2025-04-19 01:13:29,935 - data.chartink - INFO - [CHARTINK-9657] ‚è±Ô∏è API call started at 01:13:29.935
2025-04-19 01:13:30,164 - data.chartink - INFO - [CHARTINK-9657] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 01:13:30,168 - data.chartink - INFO - [CHARTINK-9657] Response type: dict
2025-04-19 01:13:30,169 - data.chartink - INFO - [CHARTINK-9657] Data entries: 1220
2025-04-19 01:13:30,173 - data.chartink - INFO - [CHARTINK-9657] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:13:30,174 - data.chartink - INFO - [CHARTINK-9657] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:13:30,175 - data.chartink - INFO - [CHARTINK-9657] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:13:30,177 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.52s
2025-04-19 01:13:30,178 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:30,178 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 01:13:30,178 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 01:13:30,179 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:30,179 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:30,180 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:30,180 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:30,180 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 01:13:30,180 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:30,180 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:30,181 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:13:30,183 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:13:30,184 - data.top_stocks_service - INFO - [FETCH #57740] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:13:30,184 - data.top_stocks_service - INFO - [FETCH #57740] Using waterfall algorithm
2025-04-19 01:13:30,185 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:13:30,185 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:13:30,185 - data.chartink - INFO - Cache expired for query (age: 38.7s)
2025-04-19 01:13:30,185 - data.chartink - INFO - [CHARTINK-10185] üöÄ Preparing ChartInk API request
2025-04-19 01:13:30,185 - data.chartink - INFO - [CHARTINK-10185] Rate limiting: Sleeping for 1.75s
2025-04-19 01:13:30,680 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 01:13:30,681 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:30,681 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:30,681 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:30,681 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:30,681 - data.chartink - INFO - Using cached results for query (age: 0.5s)
2025-04-19 01:13:30,681 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:30,681 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:30,681 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 01:13:30,681 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 01:13:30,682 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:30,682 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:30,682 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:30,682 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:30,682 - data.chartink - INFO - Using cached results for query (age: 0.5s)
2025-04-19 01:13:30,682 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:30,682 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:30,682 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:13:30,780 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 01:13:30,780 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:30,781 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:30,781 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:30,781 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:30,781 - data.chartink - INFO - Using cached results for query (age: 0.6s)
2025-04-19 01:13:30,781 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:30,781 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:30,781 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 01:13:30,781 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 01:13:30,781 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:30,782 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:30,782 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:30,782 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:30,782 - data.chartink - INFO - Using cached results for query (age: 0.6s)
2025-04-19 01:13:30,782 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:30,782 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:30,782 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:13:30,783 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:13:30,783 - data.top_stocks_service - INFO - [FETCH #63177] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:13:30,783 - data.top_stocks_service - INFO - [FETCH #63177] Using waterfall algorithm
2025-04-19 01:13:30,783 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:13:30,783 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:13:30,783 - data.chartink - INFO - Cache expired for query (age: 39.3s)
2025-04-19 01:13:30,783 - data.chartink - INFO - [CHARTINK-10783] üöÄ Preparing ChartInk API request
2025-04-19 01:13:30,784 - data.chartink - INFO - [CHARTINK-10783] Rate limiting: Sleeping for 1.15s
2025-04-19 01:13:31,941 - data.chartink - INFO - [CHARTINK-10783] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:31,942 - data.chartink - INFO - [CHARTINK-10185] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:32,216 - data.chartink - INFO - [CHARTINK-10783] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:32,216 - data.chartink - INFO - [CHARTINK-10783] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:32,216 - data.chartink - INFO - [CHARTINK-10783] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 01:13:32,216 - data.chartink - INFO - [CHARTINK-10783] ‚è±Ô∏è API call started at 01:13:32.216
2025-04-19 01:13:32,305 - data.chartink - INFO - [CHARTINK-10185] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:32,306 - data.chartink - INFO - [CHARTINK-10185] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:32,306 - data.chartink - INFO - [CHARTINK-10185] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 01:13:32,306 - data.chartink - INFO - [CHARTINK-10185] ‚è±Ô∏è API call started at 01:13:32.306
2025-04-19 01:13:32,363 - data.chartink - INFO - [CHARTINK-10783] ‚¨áÔ∏è Received response in 0.15s with status code 200
2025-04-19 01:13:32,363 - data.chartink - INFO - [CHARTINK-10783] Response type: dict
2025-04-19 01:13:32,363 - data.chartink - INFO - [CHARTINK-10783] Data entries: 0
2025-04-19 01:13:32,364 - data.chartink - INFO - [CHARTINK-10783] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:13:32,366 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:13:32,366 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:13:32,366 - data.chartink - INFO - Cache expired for query (age: 38.5s)
2025-04-19 01:13:32,366 - data.chartink - INFO - [CHARTINK-12366] üöÄ Preparing ChartInk API request
2025-04-19 01:13:32,366 - data.chartink - INFO - [CHARTINK-12366] Rate limiting: Sleeping for 1.94s
2025-04-19 01:13:32,417 - data.chartink - INFO - [CHARTINK-10185] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:13:32,417 - data.chartink - INFO - [CHARTINK-10185] Response type: dict
2025-04-19 01:13:32,417 - data.chartink - INFO - [CHARTINK-10185] Data entries: 0
2025-04-19 01:13:32,418 - data.chartink - INFO - [CHARTINK-10185] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:13:32,420 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:13:32,420 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:13:32,420 - data.chartink - INFO - Cache expired for query (age: 38.5s)
2025-04-19 01:13:32,420 - data.chartink - INFO - [CHARTINK-12420] üöÄ Preparing ChartInk API request
2025-04-19 01:13:32,420 - data.chartink - INFO - [CHARTINK-12420] Rate limiting: Sleeping for 1.89s
2025-04-19 01:13:34,312 - data.chartink - INFO - [CHARTINK-12420] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:34,313 - data.chartink - INFO - [CHARTINK-12366] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:34,547 - data.chartink - INFO - [CHARTINK-12420] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:34,547 - data.chartink - INFO - [CHARTINK-12420] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:34,547 - data.chartink - INFO - [CHARTINK-12420] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 01:13:34,547 - data.chartink - INFO - [CHARTINK-12420] ‚è±Ô∏è API call started at 01:13:34.547
2025-04-19 01:13:34,556 - data.chartink - INFO - [CHARTINK-12366] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:34,556 - data.chartink - INFO - [CHARTINK-12366] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:34,556 - data.chartink - INFO - [CHARTINK-12366] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 01:13:34,557 - data.chartink - INFO - [CHARTINK-12366] ‚è±Ô∏è API call started at 01:13:34.557
2025-04-19 01:13:34,668 - data.chartink - INFO - [CHARTINK-12420] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 01:13:34,669 - data.chartink - INFO - [CHARTINK-12420] Response type: dict
2025-04-19 01:13:34,669 - data.chartink - INFO - [CHARTINK-12420] Data entries: 0
2025-04-19 01:13:34,669 - data.chartink - INFO - [CHARTINK-12420] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:13:34,671 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:13:34,672 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:13:34,672 - data.chartink - INFO - Cache expired for query (age: 38.5s)
2025-04-19 01:13:34,672 - data.chartink - INFO - [CHARTINK-14672] üöÄ Preparing ChartInk API request
2025-04-19 01:13:34,672 - data.chartink - INFO - [CHARTINK-14672] Rate limiting: Sleeping for 1.89s
2025-04-19 01:13:34,704 - data.chartink - INFO - [CHARTINK-12366] ‚¨áÔ∏è Received response in 0.15s with status code 200
2025-04-19 01:13:34,704 - data.chartink - INFO - [CHARTINK-12366] Response type: dict
2025-04-19 01:13:34,704 - data.chartink - INFO - [CHARTINK-12366] Data entries: 0
2025-04-19 01:13:34,705 - data.chartink - INFO - [CHARTINK-12366] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:13:34,707 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:13:34,707 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:13:34,707 - data.chartink - INFO - Cache expired for query (age: 38.6s)
2025-04-19 01:13:34,707 - data.chartink - INFO - [CHARTINK-14707] üöÄ Preparing ChartInk API request
2025-04-19 01:13:34,707 - data.chartink - INFO - [CHARTINK-14707] Rate limiting: Sleeping for 1.85s
2025-04-19 01:13:36,563 - data.chartink - INFO - [CHARTINK-14707] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:36,563 - data.chartink - INFO - [CHARTINK-14672] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:36,810 - data.chartink - INFO - [CHARTINK-14672] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:36,812 - data.chartink - INFO - [CHARTINK-14707] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:36,812 - data.chartink - INFO - [CHARTINK-14672] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:36,812 - data.chartink - INFO - [CHARTINK-14707] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:36,812 - data.chartink - INFO - [CHARTINK-14672] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 01:13:36,812 - data.chartink - INFO - [CHARTINK-14672] ‚è±Ô∏è API call started at 01:13:36.812
2025-04-19 01:13:36,812 - data.chartink - INFO - [CHARTINK-14707] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 01:13:36,812 - data.chartink - INFO - [CHARTINK-14707] ‚è±Ô∏è API call started at 01:13:36.812
2025-04-19 01:13:36,923 - data.chartink - INFO - [CHARTINK-14707] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:13:36,923 - data.chartink - INFO - [CHARTINK-14707] Response type: dict
2025-04-19 01:13:36,924 - data.chartink - INFO - [CHARTINK-14707] Data entries: 0
2025-04-19 01:13:36,924 - data.chartink - INFO - [CHARTINK-14707] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:13:36,925 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:13:36,925 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:13:36,925 - data.chartink - INFO - Cache expired for query (age: 38.2s)
2025-04-19 01:13:36,925 - data.chartink - INFO - [CHARTINK-16925] üöÄ Preparing ChartInk API request
2025-04-19 01:13:36,925 - data.chartink - INFO - [CHARTINK-16925] Rate limiting: Sleeping for 1.89s
2025-04-19 01:13:36,927 - data.chartink - INFO - [CHARTINK-14672] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:13:36,927 - data.chartink - INFO - [CHARTINK-14672] Response type: dict
2025-04-19 01:13:36,927 - data.chartink - INFO - [CHARTINK-14672] Data entries: 0
2025-04-19 01:13:36,927 - data.chartink - INFO - [CHARTINK-14672] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:13:36,929 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:13:36,929 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:13:36,929 - data.chartink - INFO - Cache expired for query (age: 38.3s)
2025-04-19 01:13:36,929 - data.chartink - INFO - [CHARTINK-16929] üöÄ Preparing ChartInk API request
2025-04-19 01:13:36,929 - data.chartink - INFO - [CHARTINK-16929] Rate limiting: Sleeping for 1.88s
2025-04-19 01:13:38,818 - data.chartink - INFO - [CHARTINK-16925] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:38,819 - data.chartink - INFO - [CHARTINK-16929] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:39,052 - data.chartink - INFO - [CHARTINK-16929] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:39,052 - data.chartink - INFO - [CHARTINK-16929] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:39,052 - data.chartink - INFO - [CHARTINK-16929] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 01:13:39,053 - data.chartink - INFO - [CHARTINK-16929] ‚è±Ô∏è API call started at 01:13:39.052
2025-04-19 01:13:39,060 - data.chartink - INFO - [CHARTINK-16925] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:39,060 - data.chartink - INFO - [CHARTINK-16925] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:39,060 - data.chartink - INFO - [CHARTINK-16925] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 01:13:39,060 - data.chartink - INFO - [CHARTINK-16925] ‚è±Ô∏è API call started at 01:13:39.060
2025-04-19 01:13:39,160 - data.chartink - INFO - [CHARTINK-16929] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:13:39,160 - data.chartink - INFO - [CHARTINK-16929] Response type: dict
2025-04-19 01:13:39,160 - data.chartink - INFO - [CHARTINK-16929] Data entries: 0
2025-04-19 01:13:39,161 - data.chartink - INFO - [CHARTINK-16929] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:13:39,162 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:13:39,162 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:13:39,162 - data.chartink - INFO - Cache expired for query (age: 35.9s)
2025-04-19 01:13:39,162 - data.chartink - INFO - [CHARTINK-19162] üöÄ Preparing ChartInk API request
2025-04-19 01:13:39,162 - data.chartink - INFO - [CHARTINK-19162] Rate limiting: Sleeping for 1.90s
2025-04-19 01:13:39,163 - data.chartink - INFO - [CHARTINK-16925] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 01:13:39,163 - data.chartink - INFO - [CHARTINK-16925] Response type: dict
2025-04-19 01:13:39,163 - data.chartink - INFO - [CHARTINK-16925] Data entries: 0
2025-04-19 01:13:39,163 - data.chartink - INFO - [CHARTINK-16925] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:13:39,165 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:13:39,165 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:13:39,165 - data.chartink - INFO - Cache expired for query (age: 35.9s)
2025-04-19 01:13:39,165 - data.chartink - INFO - [CHARTINK-19165] üöÄ Preparing ChartInk API request
2025-04-19 01:13:39,165 - data.chartink - INFO - [CHARTINK-19165] Rate limiting: Sleeping for 1.90s
2025-04-19 01:13:41,066 - data.chartink - INFO - [CHARTINK-19165] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:41,066 - data.chartink - INFO - [CHARTINK-19162] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:13:41,308 - data.chartink - INFO - [CHARTINK-19162] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:41,309 - data.chartink - INFO - [CHARTINK-19162] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:41,309 - data.chartink - INFO - [CHARTINK-19162] Query: latest close > 0 and          latest volume > 100000
2025-04-19 01:13:41,310 - data.chartink - INFO - [CHARTINK-19162] ‚è±Ô∏è API call started at 01:13:41.310
2025-04-19 01:13:41,318 - data.chartink - INFO - [CHARTINK-19165] ‚úÖ CSRF token obtained successfully
2025-04-19 01:13:41,319 - data.chartink - INFO - [CHARTINK-19165] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:13:41,319 - data.chartink - INFO - [CHARTINK-19165] Query: latest close > 0 and          latest volume > 100000
2025-04-19 01:13:41,319 - data.chartink - INFO - [CHARTINK-19165] ‚è±Ô∏è API call started at 01:13:41.319
2025-04-19 01:13:41,538 - data.chartink - INFO - [CHARTINK-19165] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 01:13:41,542 - data.chartink - INFO - [CHARTINK-19165] Response type: dict
2025-04-19 01:13:41,544 - data.chartink - INFO - [CHARTINK-19165] Data entries: 1220
2025-04-19 01:13:41,547 - data.chartink - INFO - [CHARTINK-19165] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:13:41,548 - data.chartink - INFO - [CHARTINK-19165] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:13:41,548 - data.chartink - INFO - [CHARTINK-19165] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:13:41,554 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:13:41,555 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:13:41,555 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:13:41,555 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:13:41,555 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:13:41,555 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:13:41,555 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:13:41,556 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:13:41,558 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:13:41,559 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:13:41,559 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 01:13:41,571 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:13:41,576 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:13:41,576 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:13:41,576 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:13:41,576 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:13:41,576 - data.chartink - INFO - Using cached results for query (age: 11.4s)
2025-04-19 01:13:41,577 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:13:41,576 - data.chartink - INFO - [CHARTINK-19162] ‚¨áÔ∏è Received response in 0.27s with status code 200
2025-04-19 01:13:41,577 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:13:41,623 - data.chartink - INFO - [CHARTINK-19162] Response type: dict
2025-04-19 01:13:41,624 - data.chartink - INFO - [CHARTINK-19162] Data entries: 1220
2025-04-19 01:13:41,627 - data.chartink - INFO - [CHARTINK-19162] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:13:41,628 - data.chartink - INFO - [CHARTINK-19162] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:13:41,628 - data.chartink - INFO - [CHARTINK-19162] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:13:41,633 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:13:41,633 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:13:41,633 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:13:41,633 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:13:41,633 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:13:41,633 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:13:41,633 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:13:41,634 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:15:55,247 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 01:16:00,807 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 01:16:00,807 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:16:00,807 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:16:00,807 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:16:00,807 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:16:00,807 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 01:16:01,020 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.21s
2025-04-19 01:16:01,022 - data.chartink - INFO - [CHARTINK-61022] üöÄ Preparing ChartInk API request
2025-04-19 01:16:01,022 - data.chartink - INFO - [CHARTINK-61022] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:16:01,253 - data.chartink - INFO - [CHARTINK-61022] ‚úÖ CSRF token obtained successfully
2025-04-19 01:16:01,253 - data.chartink - INFO - [CHARTINK-61022] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:16:01,253 - data.chartink - INFO - [CHARTINK-61022] Query: latest close > 0 and latest volume > 100000
2025-04-19 01:16:01,253 - data.chartink - INFO - [CHARTINK-61022] ‚è±Ô∏è API call started at 01:16:01.253
2025-04-19 01:16:01,440 - data.chartink - INFO - [CHARTINK-61022] ‚¨áÔ∏è Received response in 0.19s with status code 200
2025-04-19 01:16:01,441 - data.chartink - INFO - [CHARTINK-61022] Response type: dict
2025-04-19 01:16:01,441 - data.chartink - INFO - [CHARTINK-61022] Data entries: 1220
2025-04-19 01:16:01,443 - data.chartink - INFO - [CHARTINK-61022] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:16:01,443 - data.chartink - INFO - [CHARTINK-61022] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:16:01,443 - data.chartink - INFO - [CHARTINK-61022] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:16:01,445 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.64s
2025-04-19 01:16:01,445 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:16:01,445 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 01:16:01,445 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 01:16:01,446 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:16:01,446 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:16:01,446 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:16:01,446 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:16:01,446 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 01:16:01,446 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:16:01,447 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:16:01,447 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:16:01,448 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:16:01,448 - data.top_stocks_service - INFO - [FETCH #82671] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:16:01,448 - data.top_stocks_service - INFO - [FETCH #82671] Using waterfall algorithm
2025-04-19 01:16:01,448 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:16:01,448 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:16:01,448 - data.chartink - INFO - [CHARTINK-61448] üöÄ Preparing ChartInk API request
2025-04-19 01:16:01,448 - data.chartink - INFO - [CHARTINK-61448] Rate limiting: Sleeping for 1.80s
2025-04-19 01:16:03,256 - data.chartink - INFO - [CHARTINK-61448] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:16:03,491 - data.chartink - INFO - [CHARTINK-61448] ‚úÖ CSRF token obtained successfully
2025-04-19 01:16:03,491 - data.chartink - INFO - [CHARTINK-61448] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:16:03,491 - data.chartink - INFO - [CHARTINK-61448] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 01:16:03,491 - data.chartink - INFO - [CHARTINK-61448] ‚è±Ô∏è API call started at 01:16:03.491
2025-04-19 01:16:03,592 - data.chartink - INFO - [CHARTINK-61448] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 01:16:03,592 - data.chartink - INFO - [CHARTINK-61448] Response type: dict
2025-04-19 01:16:03,592 - data.chartink - INFO - [CHARTINK-61448] Data entries: 0
2025-04-19 01:16:03,592 - data.chartink - INFO - [CHARTINK-61448] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:16:03,595 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:16:03,595 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:16:03,595 - data.chartink - INFO - [CHARTINK-63595] üöÄ Preparing ChartInk API request
2025-04-19 01:16:03,595 - data.chartink - INFO - [CHARTINK-63595] Rate limiting: Sleeping for 1.90s
2025-04-19 01:16:05,497 - data.chartink - INFO - [CHARTINK-63595] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:16:05,763 - data.chartink - INFO - [CHARTINK-63595] ‚úÖ CSRF token obtained successfully
2025-04-19 01:16:05,763 - data.chartink - INFO - [CHARTINK-63595] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:16:05,763 - data.chartink - INFO - [CHARTINK-63595] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 01:16:05,763 - data.chartink - INFO - [CHARTINK-63595] ‚è±Ô∏è API call started at 01:16:05.763
2025-04-19 01:16:05,869 - data.chartink - INFO - [CHARTINK-63595] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:16:05,869 - data.chartink - INFO - [CHARTINK-63595] Response type: dict
2025-04-19 01:16:05,869 - data.chartink - INFO - [CHARTINK-63595] Data entries: 0
2025-04-19 01:16:05,870 - data.chartink - INFO - [CHARTINK-63595] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:16:05,873 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:16:05,873 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:16:05,873 - data.chartink - INFO - [CHARTINK-65873] üöÄ Preparing ChartInk API request
2025-04-19 01:16:05,873 - data.chartink - INFO - [CHARTINK-65873] Rate limiting: Sleeping for 1.89s
2025-04-19 01:16:07,769 - data.chartink - INFO - [CHARTINK-65873] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:16:08,034 - data.chartink - INFO - [CHARTINK-65873] ‚úÖ CSRF token obtained successfully
2025-04-19 01:16:08,034 - data.chartink - INFO - [CHARTINK-65873] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:16:08,034 - data.chartink - INFO - [CHARTINK-65873] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 01:16:08,034 - data.chartink - INFO - [CHARTINK-65873] ‚è±Ô∏è API call started at 01:16:08.034
2025-04-19 01:16:08,151 - data.chartink - INFO - [CHARTINK-65873] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 01:16:08,151 - data.chartink - INFO - [CHARTINK-65873] Response type: dict
2025-04-19 01:16:08,151 - data.chartink - INFO - [CHARTINK-65873] Data entries: 0
2025-04-19 01:16:08,151 - data.chartink - INFO - [CHARTINK-65873] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:16:08,153 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:16:08,153 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:16:08,153 - data.chartink - INFO - [CHARTINK-68153] üöÄ Preparing ChartInk API request
2025-04-19 01:16:08,153 - data.chartink - INFO - [CHARTINK-68153] Rate limiting: Sleeping for 1.88s
2025-04-19 01:16:10,040 - data.chartink - INFO - [CHARTINK-68153] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:16:10,388 - data.chartink - INFO - [CHARTINK-68153] ‚úÖ CSRF token obtained successfully
2025-04-19 01:16:10,388 - data.chartink - INFO - [CHARTINK-68153] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:16:10,388 - data.chartink - INFO - [CHARTINK-68153] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 01:16:10,388 - data.chartink - INFO - [CHARTINK-68153] ‚è±Ô∏è API call started at 01:16:10.388
2025-04-19 01:16:10,499 - data.chartink - INFO - [CHARTINK-68153] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:16:10,499 - data.chartink - INFO - [CHARTINK-68153] Response type: dict
2025-04-19 01:16:10,500 - data.chartink - INFO - [CHARTINK-68153] Data entries: 0
2025-04-19 01:16:10,501 - data.chartink - INFO - [CHARTINK-68153] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:16:10,506 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:16:10,506 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:16:10,506 - data.chartink - INFO - [CHARTINK-70506] üöÄ Preparing ChartInk API request
2025-04-19 01:16:10,506 - data.chartink - INFO - [CHARTINK-70506] Rate limiting: Sleeping for 1.88s
2025-04-19 01:16:12,394 - data.chartink - INFO - [CHARTINK-70506] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:16:12,684 - data.chartink - INFO - [CHARTINK-70506] ‚úÖ CSRF token obtained successfully
2025-04-19 01:16:12,684 - data.chartink - INFO - [CHARTINK-70506] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:16:12,684 - data.chartink - INFO - [CHARTINK-70506] Query: latest close > 0 and          latest volume > 100000
2025-04-19 01:16:12,685 - data.chartink - INFO - [CHARTINK-70506] ‚è±Ô∏è API call started at 01:16:12.684
2025-04-19 01:16:12,910 - data.chartink - INFO - [CHARTINK-70506] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 01:16:12,914 - data.chartink - INFO - [CHARTINK-70506] Response type: dict
2025-04-19 01:16:12,915 - data.chartink - INFO - [CHARTINK-70506] Data entries: 1225
2025-04-19 01:16:12,919 - data.chartink - INFO - [CHARTINK-70506] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 01:16:12,920 - data.chartink - INFO - [CHARTINK-70506] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:16:12,920 - data.chartink - INFO - [CHARTINK-70506] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:16:12,927 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:16:12,927 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:16:12,927 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:16:12,927 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:16:12,927 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:16:12,928 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:16:12,928 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:16:12,928 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:16:12,931 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:16:12,932 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:16:12,932 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 01:16:12,952 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:16:12,957 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:16:12,958 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:16:12,958 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:16:12,958 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:16:12,958 - data.chartink - INFO - Using cached results for query (age: 11.5s)
2025-04-19 01:16:12,958 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:16:12,958 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:16:12,959 - dashboard.page_modules.swing_watchlist - INFO - Initial load of watchlist data
2025-04-19 01:16:12,959 - dashboard.page_modules.swing_watchlist - INFO - Fetching watchlist from data service
2025-04-19 01:16:12,959 - data.top_stocks_service - INFO - get_watchlist method called (not fully implemented) - type: swing
2025-04-19 01:16:12,959 - dashboard.page_modules.swing_watchlist - INFO - Found 0 watchlist items
2025-04-19 01:16:25,004 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 01:16:25,004 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:16:25,004 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:16:25,004 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:16:25,004 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:16:25,004 - data.chartink - INFO - Using cached results for query (age: 23.6s)
2025-04-19 01:16:25,005 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:16:25,006 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:16:25,006 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 01:16:25,006 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 01:16:25,006 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:16:25,007 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:16:25,007 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:16:25,007 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:16:25,007 - data.chartink - INFO - Using cached results for query (age: 23.6s)
2025-04-19 01:16:25,007 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:16:25,007 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:16:25,007 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:16:25,010 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:16:25,011 - data.top_stocks_service - INFO - [FETCH #94752] Getting hot swing stocks (limit=10, query=simple_test)
2025-04-19 01:16:25,011 - data.top_stocks_service - INFO - [FETCH #94752] Using specific query: simple_test
2025-04-19 01:16:25,011 - data.top_stocks_service - INFO - Running single query: simple_test - Simple Test Query
2025-04-19 01:16:25,011 - data.chartink - INFO - Using cached results for query (age: 12.1s)
2025-04-19 01:16:25,018 - data.top_stocks_service - INFO - Returning 50 stocks from query 'Simple Test Query'
2025-04-19 01:16:25,019 - data.top_stocks_service - INFO - Stock symbols: DIXON, POWERINDIA, ULTRACEMCO, MARUTI, BAJFINANCE
2025-04-19 01:16:25,020 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:16:25,020 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:16:25,021 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Simple Test Query
2025-04-19 01:16:25,024 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:16:25,024 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:16:25,024 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'name': 'Hitachi Energy India Ltd', 'change': '4.03%', 'per_chg': 4.03, 'volume': 119534, 'close': 13206.0, 'pattern': 'Simple Test Query', 'query_key': 'simple_test', 'company': 'Hitachi Energy India Ltd', 'signal': 'bullish'}
2025-04-19 01:16:25,028 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:16:25,050 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:16:25,052 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:16:25,052 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:16:25,052 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:16:25,052 - data.chartink - INFO - Using cached results for query (age: 23.6s)
2025-04-19 01:16:25,053 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:16:25,054 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:18:07,166 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 01:18:10,516 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:19:26,379 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 01:19:33,125 - dashboard.page_modules.swing - INFO - SWING PAGE received data_service of type: dict
2025-04-19 01:19:33,126 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:19:33,126 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:19:33,126 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:19:33,126 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:19:33,126 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 01:19:33,425 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.30s
2025-04-19 01:19:33,427 - data.chartink - INFO - [CHARTINK-73427] üöÄ Preparing ChartInk API request
2025-04-19 01:19:33,427 - data.chartink - INFO - [CHARTINK-73427] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:19:33,667 - data.chartink - INFO - [CHARTINK-73427] ‚úÖ CSRF token obtained successfully
2025-04-19 01:19:33,667 - data.chartink - INFO - [CHARTINK-73427] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:19:33,667 - data.chartink - INFO - [CHARTINK-73427] Query: latest close > 0 and latest volume > 100000
2025-04-19 01:19:33,667 - data.chartink - INFO - [CHARTINK-73427] ‚è±Ô∏è API call started at 01:19:33.667
2025-04-19 01:19:33,894 - data.chartink - INFO - [CHARTINK-73427] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 01:19:33,897 - data.chartink - INFO - [CHARTINK-73427] Response type: dict
2025-04-19 01:19:33,898 - data.chartink - INFO - [CHARTINK-73427] Data entries: 1220
2025-04-19 01:19:33,899 - data.chartink - INFO - [CHARTINK-73427] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:19:33,900 - data.chartink - INFO - [CHARTINK-73427] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:19:33,900 - data.chartink - INFO - [CHARTINK-73427] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:19:33,901 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.78s
2025-04-19 01:19:33,901 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:19:33,901 - dashboard.page_modules.swing - INFO - After ensure_data_service, now using: TopStocksService
2025-04-19 01:19:33,902 - dashboard.page_modules.swing - INFO - ‚úÖ Data service has get_hot_swing_stocks method
2025-04-19 01:19:33,902 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:19:33,903 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:19:33,903 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:19:33,903 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:19:33,903 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 01:19:33,903 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:19:33,903 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:19:33,904 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:19:33,906 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:19:33,906 - data.top_stocks_service - INFO - [FETCH #68417] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:19:33,906 - data.top_stocks_service - INFO - [FETCH #68417] Using waterfall algorithm
2025-04-19 01:19:33,906 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:19:33,907 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:19:33,907 - data.chartink - INFO - [CHARTINK-73907] üöÄ Preparing ChartInk API request
2025-04-19 01:19:33,907 - data.chartink - INFO - [CHARTINK-73907] Rate limiting: Sleeping for 1.76s
2025-04-19 01:19:35,677 - data.chartink - INFO - [CHARTINK-73907] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:19:35,899 - data.chartink - INFO - [CHARTINK-73907] ‚úÖ CSRF token obtained successfully
2025-04-19 01:19:35,899 - data.chartink - INFO - [CHARTINK-73907] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:19:35,900 - data.chartink - INFO - [CHARTINK-73907] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 01:19:35,900 - data.chartink - INFO - [CHARTINK-73907] ‚è±Ô∏è API call started at 01:19:35.900
2025-04-19 01:19:36,014 - data.chartink - INFO - [CHARTINK-73907] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:19:36,014 - data.chartink - INFO - [CHARTINK-73907] Response type: dict
2025-04-19 01:19:36,014 - data.chartink - INFO - [CHARTINK-73907] Data entries: 0
2025-04-19 01:19:36,015 - data.chartink - INFO - [CHARTINK-73907] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:19:36,017 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:19:36,017 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:19:36,017 - data.chartink - INFO - [CHARTINK-76017] üöÄ Preparing ChartInk API request
2025-04-19 01:19:36,017 - data.chartink - INFO - [CHARTINK-76017] Rate limiting: Sleeping for 1.88s
2025-04-19 01:19:37,906 - data.chartink - INFO - [CHARTINK-76017] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:19:38,165 - data.chartink - INFO - [CHARTINK-76017] ‚úÖ CSRF token obtained successfully
2025-04-19 01:19:38,166 - data.chartink - INFO - [CHARTINK-76017] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:19:38,166 - data.chartink - INFO - [CHARTINK-76017] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 01:19:38,166 - data.chartink - INFO - [CHARTINK-76017] ‚è±Ô∏è API call started at 01:19:38.166
2025-04-19 01:19:38,278 - data.chartink - INFO - [CHARTINK-76017] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:19:38,278 - data.chartink - INFO - [CHARTINK-76017] Response type: dict
2025-04-19 01:19:38,278 - data.chartink - INFO - [CHARTINK-76017] Data entries: 0
2025-04-19 01:19:38,280 - data.chartink - INFO - [CHARTINK-76017] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:19:38,283 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:19:38,283 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:19:38,283 - data.chartink - INFO - [CHARTINK-78283] üöÄ Preparing ChartInk API request
2025-04-19 01:19:38,283 - data.chartink - INFO - [CHARTINK-78283] Rate limiting: Sleeping for 1.88s
2025-04-19 01:19:40,171 - data.chartink - INFO - [CHARTINK-78283] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:19:40,426 - data.chartink - INFO - [CHARTINK-78283] ‚úÖ CSRF token obtained successfully
2025-04-19 01:19:40,427 - data.chartink - INFO - [CHARTINK-78283] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:19:40,427 - data.chartink - INFO - [CHARTINK-78283] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 01:19:40,427 - data.chartink - INFO - [CHARTINK-78283] ‚è±Ô∏è API call started at 01:19:40.427
2025-04-19 01:19:40,545 - data.chartink - INFO - [CHARTINK-78283] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 01:19:40,546 - data.chartink - INFO - [CHARTINK-78283] Response type: dict
2025-04-19 01:19:40,546 - data.chartink - INFO - [CHARTINK-78283] Data entries: 0
2025-04-19 01:19:40,547 - data.chartink - INFO - [CHARTINK-78283] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:19:40,550 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:19:40,550 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:19:40,550 - data.chartink - INFO - [CHARTINK-80550] üöÄ Preparing ChartInk API request
2025-04-19 01:19:40,550 - data.chartink - INFO - [CHARTINK-80550] Rate limiting: Sleeping for 1.88s
2025-04-19 01:19:42,433 - data.chartink - INFO - [CHARTINK-80550] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:19:42,701 - data.chartink - INFO - [CHARTINK-80550] ‚úÖ CSRF token obtained successfully
2025-04-19 01:19:42,701 - data.chartink - INFO - [CHARTINK-80550] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:19:42,701 - data.chartink - INFO - [CHARTINK-80550] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 01:19:42,701 - data.chartink - INFO - [CHARTINK-80550] ‚è±Ô∏è API call started at 01:19:42.701
2025-04-19 01:19:42,818 - data.chartink - INFO - [CHARTINK-80550] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 01:19:42,819 - data.chartink - INFO - [CHARTINK-80550] Response type: dict
2025-04-19 01:19:42,819 - data.chartink - INFO - [CHARTINK-80550] Data entries: 0
2025-04-19 01:19:42,821 - data.chartink - INFO - [CHARTINK-80550] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:19:42,824 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:19:42,824 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:19:42,824 - data.chartink - INFO - [CHARTINK-82824] üöÄ Preparing ChartInk API request
2025-04-19 01:19:42,824 - data.chartink - INFO - [CHARTINK-82824] Rate limiting: Sleeping for 1.88s
2025-04-19 01:19:44,708 - data.chartink - INFO - [CHARTINK-82824] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:19:44,935 - data.chartink - INFO - [CHARTINK-82824] ‚úÖ CSRF token obtained successfully
2025-04-19 01:19:44,935 - data.chartink - INFO - [CHARTINK-82824] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:19:44,935 - data.chartink - INFO - [CHARTINK-82824] Query: latest close > 0 and          latest volume > 100000
2025-04-19 01:19:44,935 - data.chartink - INFO - [CHARTINK-82824] ‚è±Ô∏è API call started at 01:19:44.935
2025-04-19 01:19:45,148 - data.chartink - INFO - [CHARTINK-82824] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 01:19:45,153 - data.chartink - INFO - [CHARTINK-82824] Response type: dict
2025-04-19 01:19:45,154 - data.chartink - INFO - [CHARTINK-82824] Data entries: 1220
2025-04-19 01:19:45,159 - data.chartink - INFO - [CHARTINK-82824] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:19:45,159 - data.chartink - INFO - [CHARTINK-82824] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:19:45,160 - data.chartink - INFO - [CHARTINK-82824] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:19:45,167 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:19:45,167 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:19:45,167 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:19:45,167 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:19:45,167 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:19:45,168 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:19:45,168 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:19:45,168 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:19:45,172 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:19:45,173 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:19:45,173 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 01:19:45,178 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:19:45,197 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:19:45,197 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:19:45,198 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:19:45,198 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:19:45,198 - data.chartink - INFO - Using cached results for query (age: 11.3s)
2025-04-19 01:19:45,198 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:19:45,199 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:19:45,199 - dashboard.page_modules.swing_watchlist - INFO - Initial load of watchlist data
2025-04-19 01:19:45,200 - dashboard.page_modules.swing_watchlist - INFO - Fetching watchlist from data service
2025-04-19 01:19:45,200 - data.top_stocks_service - INFO - get_watchlist method called (not fully implemented) - type: swing
2025-04-19 01:19:45,201 - dashboard.page_modules.swing_watchlist - INFO - Found 0 watchlist items
2025-04-19 01:21:09,398 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 01:21:11,311 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:21:11,312 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:21:11,352 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:21:11,353 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:21:11,353 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:21:11,354 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:06,629 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 01:22:07,495 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:10,103 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:10,103 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:12,078 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:12,078 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:52,903 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 01:22:53,045 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:22:53,046 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:22:53,046 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:53,046 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:53,061 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:22:53,061 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:53,061 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:57,845 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:22:57,864 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:22:57,995 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:22:57,998 - __main__ - ERROR - Swing page error: name 'show_swing_page' is not defined
2025-04-19 01:22:58,661 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:22:58,674 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 01:22:58,711 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:22:58,891 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:23:16,421 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:23:16,495 - __main__ - ERROR - Error importing page modules: cannot import name 'get_data_service' from 'utils.data_wrapper' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/utils/data_wrapper.py)
2025-04-19 01:23:16,498 - __main__ - ERROR - Swing page error: name 'show_swing_page' is not defined
2025-04-19 01:23:58,398 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 01:24:05,798 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:24:05,799 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:24:05,800 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:24:05,800 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:24:05,800 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 01:24:06,031 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.23s
2025-04-19 01:24:06,034 - data.chartink - INFO - [CHARTINK-46034] üöÄ Preparing ChartInk API request
2025-04-19 01:24:06,035 - data.chartink - INFO - [CHARTINK-46034] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:24:06,269 - data.chartink - INFO - [CHARTINK-46034] ‚úÖ CSRF token obtained successfully
2025-04-19 01:24:06,270 - data.chartink - INFO - [CHARTINK-46034] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:24:06,270 - data.chartink - INFO - [CHARTINK-46034] Query: latest close > 0 and latest volume > 100000
2025-04-19 01:24:06,270 - data.chartink - INFO - [CHARTINK-46034] ‚è±Ô∏è API call started at 01:24:06.270
2025-04-19 01:24:06,605 - data.chartink - INFO - [CHARTINK-46034] ‚¨áÔ∏è Received response in 0.34s with status code 200
2025-04-19 01:24:06,607 - data.chartink - INFO - [CHARTINK-46034] Response type: dict
2025-04-19 01:24:06,607 - data.chartink - INFO - [CHARTINK-46034] Data entries: 1220
2025-04-19 01:24:06,609 - data.chartink - INFO - [CHARTINK-46034] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:24:06,609 - data.chartink - INFO - [CHARTINK-46034] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:24:06,609 - data.chartink - INFO - [CHARTINK-46034] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:24:06,610 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.81s
2025-04-19 01:24:06,611 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:24:06,611 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:24:06,611 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:24:06,611 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:24:06,611 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:24:06,611 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 01:24:06,612 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:24:06,612 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:24:06,612 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:24:06,614 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:24:06,614 - data.top_stocks_service - INFO - [FETCH #64589] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:24:06,614 - data.top_stocks_service - INFO - [FETCH #64589] Using waterfall algorithm
2025-04-19 01:24:06,614 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:24:06,614 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:24:06,614 - data.chartink - INFO - [CHARTINK-46614] üöÄ Preparing ChartInk API request
2025-04-19 01:24:06,614 - data.chartink - INFO - [CHARTINK-46614] Rate limiting: Sleeping for 1.66s
2025-04-19 01:24:08,276 - data.chartink - INFO - [CHARTINK-46614] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:24:08,569 - data.chartink - INFO - [CHARTINK-46614] ‚úÖ CSRF token obtained successfully
2025-04-19 01:24:08,569 - data.chartink - INFO - [CHARTINK-46614] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:24:08,569 - data.chartink - INFO - [CHARTINK-46614] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 01:24:08,570 - data.chartink - INFO - [CHARTINK-46614] ‚è±Ô∏è API call started at 01:24:08.569
2025-04-19 01:24:08,688 - data.chartink - INFO - [CHARTINK-46614] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 01:24:08,688 - data.chartink - INFO - [CHARTINK-46614] Response type: dict
2025-04-19 01:24:08,688 - data.chartink - INFO - [CHARTINK-46614] Data entries: 0
2025-04-19 01:24:08,688 - data.chartink - INFO - [CHARTINK-46614] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:24:08,689 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:24:08,690 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:24:08,690 - data.chartink - INFO - [CHARTINK-48690] üöÄ Preparing ChartInk API request
2025-04-19 01:24:08,690 - data.chartink - INFO - [CHARTINK-48690] Rate limiting: Sleeping for 1.88s
2025-04-19 01:24:10,575 - data.chartink - INFO - [CHARTINK-48690] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:24:10,836 - data.chartink - INFO - [CHARTINK-48690] ‚úÖ CSRF token obtained successfully
2025-04-19 01:24:10,836 - data.chartink - INFO - [CHARTINK-48690] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:24:10,836 - data.chartink - INFO - [CHARTINK-48690] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 01:24:10,836 - data.chartink - INFO - [CHARTINK-48690] ‚è±Ô∏è API call started at 01:24:10.836
2025-04-19 01:24:10,954 - data.chartink - INFO - [CHARTINK-48690] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 01:24:10,954 - data.chartink - INFO - [CHARTINK-48690] Response type: dict
2025-04-19 01:24:10,955 - data.chartink - INFO - [CHARTINK-48690] Data entries: 0
2025-04-19 01:24:10,955 - data.chartink - INFO - [CHARTINK-48690] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:24:10,959 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:24:10,959 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:24:10,959 - data.chartink - INFO - [CHARTINK-50959] üöÄ Preparing ChartInk API request
2025-04-19 01:24:10,959 - data.chartink - INFO - [CHARTINK-50959] Rate limiting: Sleeping for 1.88s
2025-04-19 01:24:12,842 - data.chartink - INFO - [CHARTINK-50959] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:24:13,126 - data.chartink - INFO - [CHARTINK-50959] ‚úÖ CSRF token obtained successfully
2025-04-19 01:24:13,126 - data.chartink - INFO - [CHARTINK-50959] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:24:13,127 - data.chartink - INFO - [CHARTINK-50959] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 01:24:13,127 - data.chartink - INFO - [CHARTINK-50959] ‚è±Ô∏è API call started at 01:24:13.127
2025-04-19 01:24:13,256 - data.chartink - INFO - [CHARTINK-50959] ‚¨áÔ∏è Received response in 0.13s with status code 200
2025-04-19 01:24:13,256 - data.chartink - INFO - [CHARTINK-50959] Response type: dict
2025-04-19 01:24:13,256 - data.chartink - INFO - [CHARTINK-50959] Data entries: 0
2025-04-19 01:24:13,256 - data.chartink - INFO - [CHARTINK-50959] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:24:13,258 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:24:13,258 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:24:13,258 - data.chartink - INFO - [CHARTINK-53258] üöÄ Preparing ChartInk API request
2025-04-19 01:24:13,258 - data.chartink - INFO - [CHARTINK-53258] Rate limiting: Sleeping for 1.87s
2025-04-19 01:24:15,132 - data.chartink - INFO - [CHARTINK-53258] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:24:15,473 - data.chartink - INFO - [CHARTINK-53258] ‚úÖ CSRF token obtained successfully
2025-04-19 01:24:15,473 - data.chartink - INFO - [CHARTINK-53258] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:24:15,473 - data.chartink - INFO - [CHARTINK-53258] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 01:24:15,473 - data.chartink - INFO - [CHARTINK-53258] ‚è±Ô∏è API call started at 01:24:15.473
2025-04-19 01:24:15,585 - data.chartink - INFO - [CHARTINK-53258] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:24:15,585 - data.chartink - INFO - [CHARTINK-53258] Response type: dict
2025-04-19 01:24:15,585 - data.chartink - INFO - [CHARTINK-53258] Data entries: 0
2025-04-19 01:24:15,586 - data.chartink - INFO - [CHARTINK-53258] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:24:15,588 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:24:15,588 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:24:15,588 - data.chartink - INFO - [CHARTINK-55588] üöÄ Preparing ChartInk API request
2025-04-19 01:24:15,588 - data.chartink - INFO - [CHARTINK-55588] Rate limiting: Sleeping for 1.88s
2025-04-19 01:24:17,474 - data.chartink - INFO - [CHARTINK-55588] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:24:17,733 - data.chartink - INFO - [CHARTINK-55588] ‚úÖ CSRF token obtained successfully
2025-04-19 01:24:17,733 - data.chartink - INFO - [CHARTINK-55588] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:24:17,734 - data.chartink - INFO - [CHARTINK-55588] Query: latest close > 0 and          latest volume > 100000
2025-04-19 01:24:17,734 - data.chartink - INFO - [CHARTINK-55588] ‚è±Ô∏è API call started at 01:24:17.734
2025-04-19 01:24:17,949 - data.chartink - INFO - [CHARTINK-55588] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 01:24:17,952 - data.chartink - INFO - [CHARTINK-55588] Response type: dict
2025-04-19 01:24:17,953 - data.chartink - INFO - [CHARTINK-55588] Data entries: 1220
2025-04-19 01:24:17,956 - data.chartink - INFO - [CHARTINK-55588] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:24:17,957 - data.chartink - INFO - [CHARTINK-55588] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:24:17,957 - data.chartink - INFO - [CHARTINK-55588] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:24:17,964 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:24:17,964 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:24:17,964 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:24:17,964 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:24:17,964 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:24:17,965 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:24:17,965 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:24:17,965 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:24:17,967 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:24:17,967 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:24:17,968 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 01:24:17,971 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:24:27,062 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:24:27,062 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:24:27,062 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:24:27,062 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:24:27,063 - data.chartink - INFO - Using cached results for query (age: 20.5s)
2025-04-19 01:24:27,064 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:24:27,064 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:24:27,064 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:24:27,065 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:24:27,065 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:24:27,065 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:24:27,065 - data.chartink - INFO - Using cached results for query (age: 20.5s)
2025-04-19 01:24:27,065 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:24:27,065 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:24:27,065 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:24:27,066 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - [FETCH #91153] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - [FETCH #91153] Using waterfall algorithm
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:24:27,067 - data.chartink - INFO - Using cached results for query (age: 18.4s)
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:24:27,067 - data.chartink - INFO - Using cached results for query (age: 16.1s)
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:24:27,067 - data.chartink - INFO - Using cached results for query (age: 13.8s)
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:24:27,067 - data.chartink - INFO - Using cached results for query (age: 11.5s)
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:24:27,067 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:24:27,067 - data.chartink - INFO - Using cached results for query (age: 9.1s)
2025-04-19 01:24:27,070 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:24:27,070 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:24:27,070 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:24:27,070 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:24:27,071 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:24:27,071 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:24:27,071 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:24:27,071 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:24:27,073 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:24:27,073 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:24:27,074 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 01:24:27,078 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:25:28,828 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:25:28,829 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:25:28,829 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:25:28,829 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:25:28,829 - data.chartink - INFO - Cache expired for query (age: 82.2s)
2025-04-19 01:25:28,829 - data.chartink - INFO - [CHARTINK-28829] üöÄ Preparing ChartInk API request
2025-04-19 01:25:28,830 - data.chartink - INFO - [CHARTINK-28829] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:25:29,061 - data.chartink - INFO - [CHARTINK-28829] ‚úÖ CSRF token obtained successfully
2025-04-19 01:25:29,061 - data.chartink - INFO - [CHARTINK-28829] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:25:29,061 - data.chartink - INFO - [CHARTINK-28829] Query: latest close > 0 and latest volume > 100000
2025-04-19 01:25:29,061 - data.chartink - INFO - [CHARTINK-28829] ‚è±Ô∏è API call started at 01:25:29.061
2025-04-19 01:25:29,275 - data.chartink - INFO - [CHARTINK-28829] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 01:25:29,277 - data.chartink - INFO - [CHARTINK-28829] Response type: dict
2025-04-19 01:25:29,278 - data.chartink - INFO - [CHARTINK-28829] Data entries: 1220
2025-04-19 01:25:29,281 - data.chartink - INFO - [CHARTINK-28829] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:25:29,281 - data.chartink - INFO - [CHARTINK-28829] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:25:29,281 - data.chartink - INFO - [CHARTINK-28829] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:25:29,284 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.45s
2025-04-19 01:25:29,285 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:25:29,285 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:25:29,285 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:25:29,285 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:25:29,285 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:25:29,286 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 01:25:29,286 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 01:25:29,286 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:25:29,287 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:25:29,288 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:25:29,288 - data.top_stocks_service - INFO - [FETCH #52914] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:25:29,288 - data.top_stocks_service - INFO - [FETCH #52914] Using waterfall algorithm
2025-04-19 01:25:29,288 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:25:29,288 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:25:29,288 - data.chartink - INFO - Cache expired for query (age: 80.6s)
2025-04-19 01:25:29,289 - data.chartink - INFO - [CHARTINK-29289] üöÄ Preparing ChartInk API request
2025-04-19 01:25:29,289 - data.chartink - INFO - [CHARTINK-29289] Rate limiting: Sleeping for 1.77s
2025-04-19 01:25:31,066 - data.chartink - INFO - [CHARTINK-29289] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:25:31,310 - data.chartink - INFO - [CHARTINK-29289] ‚úÖ CSRF token obtained successfully
2025-04-19 01:25:31,310 - data.chartink - INFO - [CHARTINK-29289] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:25:31,310 - data.chartink - INFO - [CHARTINK-29289] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 01:25:31,310 - data.chartink - INFO - [CHARTINK-29289] ‚è±Ô∏è API call started at 01:25:31.310
2025-04-19 01:25:31,426 - data.chartink - INFO - [CHARTINK-29289] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 01:25:31,427 - data.chartink - INFO - [CHARTINK-29289] Response type: dict
2025-04-19 01:25:31,427 - data.chartink - INFO - [CHARTINK-29289] Data entries: 0
2025-04-19 01:25:31,427 - data.chartink - INFO - [CHARTINK-29289] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:25:31,430 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:25:31,430 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:25:31,430 - data.chartink - INFO - Cache expired for query (age: 80.5s)
2025-04-19 01:25:31,430 - data.chartink - INFO - [CHARTINK-31430] üöÄ Preparing ChartInk API request
2025-04-19 01:25:31,430 - data.chartink - INFO - [CHARTINK-31430] Rate limiting: Sleeping for 1.88s
2025-04-19 01:25:33,316 - data.chartink - INFO - [CHARTINK-31430] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:25:33,553 - data.chartink - INFO - [CHARTINK-31430] ‚úÖ CSRF token obtained successfully
2025-04-19 01:25:33,553 - data.chartink - INFO - [CHARTINK-31430] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:25:33,553 - data.chartink - INFO - [CHARTINK-31430] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 01:25:33,553 - data.chartink - INFO - [CHARTINK-31430] ‚è±Ô∏è API call started at 01:25:33.553
2025-04-19 01:25:33,688 - data.chartink - INFO - [CHARTINK-31430] ‚¨áÔ∏è Received response in 0.13s with status code 200
2025-04-19 01:25:33,688 - data.chartink - INFO - [CHARTINK-31430] Response type: dict
2025-04-19 01:25:33,688 - data.chartink - INFO - [CHARTINK-31430] Data entries: 0
2025-04-19 01:25:33,689 - data.chartink - INFO - [CHARTINK-31430] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:25:33,692 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:25:33,692 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:25:33,692 - data.chartink - INFO - Cache expired for query (age: 80.4s)
2025-04-19 01:25:33,693 - data.chartink - INFO - [CHARTINK-33692] üöÄ Preparing ChartInk API request
2025-04-19 01:25:33,693 - data.chartink - INFO - [CHARTINK-33692] Rate limiting: Sleeping for 1.86s
2025-04-19 01:25:35,559 - data.chartink - INFO - [CHARTINK-33692] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:25:35,807 - data.chartink - INFO - [CHARTINK-33692] ‚úÖ CSRF token obtained successfully
2025-04-19 01:25:35,807 - data.chartink - INFO - [CHARTINK-33692] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:25:35,807 - data.chartink - INFO - [CHARTINK-33692] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 01:25:35,807 - data.chartink - INFO - [CHARTINK-33692] ‚è±Ô∏è API call started at 01:25:35.807
2025-04-19 01:25:35,925 - data.chartink - INFO - [CHARTINK-33692] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 01:25:35,925 - data.chartink - INFO - [CHARTINK-33692] Response type: dict
2025-04-19 01:25:35,926 - data.chartink - INFO - [CHARTINK-33692] Data entries: 0
2025-04-19 01:25:35,926 - data.chartink - INFO - [CHARTINK-33692] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:25:35,929 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:25:35,929 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:25:35,929 - data.chartink - INFO - Cache expired for query (age: 80.3s)
2025-04-19 01:25:35,930 - data.chartink - INFO - [CHARTINK-35930] üöÄ Preparing ChartInk API request
2025-04-19 01:25:35,930 - data.chartink - INFO - [CHARTINK-35930] Rate limiting: Sleeping for 1.88s
2025-04-19 01:25:37,813 - data.chartink - INFO - [CHARTINK-35930] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:25:38,080 - data.chartink - INFO - [CHARTINK-35930] ‚úÖ CSRF token obtained successfully
2025-04-19 01:25:38,081 - data.chartink - INFO - [CHARTINK-35930] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:25:38,081 - data.chartink - INFO - [CHARTINK-35930] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 01:25:38,081 - data.chartink - INFO - [CHARTINK-35930] ‚è±Ô∏è API call started at 01:25:38.081
2025-04-19 01:25:38,192 - data.chartink - INFO - [CHARTINK-35930] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:25:38,193 - data.chartink - INFO - [CHARTINK-35930] Response type: dict
2025-04-19 01:25:38,193 - data.chartink - INFO - [CHARTINK-35930] Data entries: 0
2025-04-19 01:25:38,194 - data.chartink - INFO - [CHARTINK-35930] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:25:38,198 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:25:38,198 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:25:38,198 - data.chartink - INFO - Cache expired for query (age: 80.2s)
2025-04-19 01:25:38,198 - data.chartink - INFO - [CHARTINK-38198] üöÄ Preparing ChartInk API request
2025-04-19 01:25:38,198 - data.chartink - INFO - [CHARTINK-38198] Rate limiting: Sleeping for 1.88s
2025-04-19 01:25:40,087 - data.chartink - INFO - [CHARTINK-38198] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:25:40,341 - data.chartink - INFO - [CHARTINK-38198] ‚úÖ CSRF token obtained successfully
2025-04-19 01:25:40,341 - data.chartink - INFO - [CHARTINK-38198] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:25:40,341 - data.chartink - INFO - [CHARTINK-38198] Query: latest close > 0 and          latest volume > 100000
2025-04-19 01:25:40,341 - data.chartink - INFO - [CHARTINK-38198] ‚è±Ô∏è API call started at 01:25:40.341
2025-04-19 01:25:40,568 - data.chartink - INFO - [CHARTINK-38198] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 01:25:40,573 - data.chartink - INFO - [CHARTINK-38198] Response type: dict
2025-04-19 01:25:40,573 - data.chartink - INFO - [CHARTINK-38198] Data entries: 1220
2025-04-19 01:25:40,577 - data.chartink - INFO - [CHARTINK-38198] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:25:40,577 - data.chartink - INFO - [CHARTINK-38198] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:25:40,578 - data.chartink - INFO - [CHARTINK-38198] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:25:40,585 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:25:40,585 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:25:40,585 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:25:40,585 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:25:40,585 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:25:40,585 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:25:40,585 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:25:40,586 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:25:40,588 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:25:40,589 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:25:40,589 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 01:25:40,593 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:26:52,751 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 01:26:54,789 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:26:54,790 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:26:54,790 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:26:54,790 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:26:54,790 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 01:26:55,017 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.23s
2025-04-19 01:26:55,018 - data.chartink - INFO - [CHARTINK-15018] üöÄ Preparing ChartInk API request
2025-04-19 01:26:55,019 - data.chartink - INFO - [CHARTINK-15018] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:26:55,327 - data.chartink - INFO - [CHARTINK-15018] ‚úÖ CSRF token obtained successfully
2025-04-19 01:26:55,327 - data.chartink - INFO - [CHARTINK-15018] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:26:55,327 - data.chartink - INFO - [CHARTINK-15018] Query: latest close > 0 and latest volume > 100000
2025-04-19 01:26:55,327 - data.chartink - INFO - [CHARTINK-15018] ‚è±Ô∏è API call started at 01:26:55.327
2025-04-19 01:26:55,544 - data.chartink - INFO - [CHARTINK-15018] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 01:26:55,548 - data.chartink - INFO - [CHARTINK-15018] Response type: dict
2025-04-19 01:26:55,549 - data.chartink - INFO - [CHARTINK-15018] Data entries: 1225
2025-04-19 01:26:55,550 - data.chartink - INFO - [CHARTINK-15018] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 01:26:55,551 - data.chartink - INFO - [CHARTINK-15018] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:26:55,551 - data.chartink - INFO - [CHARTINK-15018] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:26:55,553 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.76s
2025-04-19 01:26:55,553 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:26:55,553 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:26:55,553 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:26:55,553 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:26:55,553 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:26:55,553 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 01:26:55,554 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 01:26:55,554 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:26:55,554 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:26:55,555 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:26:55,555 - data.top_stocks_service - INFO - [FETCH #52799] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 01:26:55,555 - data.top_stocks_service - INFO - [FETCH #52799] Using waterfall algorithm
2025-04-19 01:26:55,555 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 01:26:55,555 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 01:26:55,555 - data.chartink - INFO - [CHARTINK-15555] üöÄ Preparing ChartInk API request
2025-04-19 01:26:55,555 - data.chartink - INFO - [CHARTINK-15555] Rate limiting: Sleeping for 1.77s
2025-04-19 01:26:57,333 - data.chartink - INFO - [CHARTINK-15555] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:26:57,585 - data.chartink - INFO - [CHARTINK-15555] ‚úÖ CSRF token obtained successfully
2025-04-19 01:26:57,585 - data.chartink - INFO - [CHARTINK-15555] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:26:57,585 - data.chartink - INFO - [CHARTINK-15555] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 01:26:57,585 - data.chartink - INFO - [CHARTINK-15555] ‚è±Ô∏è API call started at 01:26:57.585
2025-04-19 01:26:57,698 - data.chartink - INFO - [CHARTINK-15555] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:26:57,699 - data.chartink - INFO - [CHARTINK-15555] Response type: dict
2025-04-19 01:26:57,699 - data.chartink - INFO - [CHARTINK-15555] Data entries: 0
2025-04-19 01:26:57,699 - data.chartink - INFO - [CHARTINK-15555] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:26:57,701 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 01:26:57,701 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 01:26:57,701 - data.chartink - INFO - [CHARTINK-17701] üöÄ Preparing ChartInk API request
2025-04-19 01:26:57,701 - data.chartink - INFO - [CHARTINK-17701] Rate limiting: Sleeping for 1.88s
2025-04-19 01:26:59,591 - data.chartink - INFO - [CHARTINK-17701] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:26:59,856 - data.chartink - INFO - [CHARTINK-17701] ‚úÖ CSRF token obtained successfully
2025-04-19 01:26:59,856 - data.chartink - INFO - [CHARTINK-17701] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:26:59,856 - data.chartink - INFO - [CHARTINK-17701] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 01:26:59,856 - data.chartink - INFO - [CHARTINK-17701] ‚è±Ô∏è API call started at 01:26:59.856
2025-04-19 01:26:59,964 - data.chartink - INFO - [CHARTINK-17701] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 01:26:59,964 - data.chartink - INFO - [CHARTINK-17701] Response type: dict
2025-04-19 01:26:59,964 - data.chartink - INFO - [CHARTINK-17701] Data entries: 0
2025-04-19 01:26:59,964 - data.chartink - INFO - [CHARTINK-17701] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:26:59,966 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 01:26:59,966 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 01:26:59,966 - data.chartink - INFO - [CHARTINK-19966] üöÄ Preparing ChartInk API request
2025-04-19 01:26:59,966 - data.chartink - INFO - [CHARTINK-19966] Rate limiting: Sleeping for 1.89s
2025-04-19 01:27:01,925 - data.chartink - INFO - [CHARTINK-19966] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:27:02,306 - data.chartink - INFO - [CHARTINK-19966] ‚úÖ CSRF token obtained successfully
2025-04-19 01:27:02,307 - data.chartink - INFO - [CHARTINK-19966] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:27:02,307 - data.chartink - INFO - [CHARTINK-19966] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 01:27:02,307 - data.chartink - INFO - [CHARTINK-19966] ‚è±Ô∏è API call started at 01:27:02.307
2025-04-19 01:27:02,454 - data.chartink - INFO - [CHARTINK-19966] ‚¨áÔ∏è Received response in 0.15s with status code 200
2025-04-19 01:27:02,454 - data.chartink - INFO - [CHARTINK-19966] Response type: dict
2025-04-19 01:27:02,454 - data.chartink - INFO - [CHARTINK-19966] Data entries: 0
2025-04-19 01:27:02,456 - data.chartink - INFO - [CHARTINK-19966] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:27:02,459 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 01:27:02,459 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 01:27:02,459 - data.chartink - INFO - [CHARTINK-22459] üöÄ Preparing ChartInk API request
2025-04-19 01:27:02,459 - data.chartink - INFO - [CHARTINK-22459] Rate limiting: Sleeping for 1.85s
2025-04-19 01:27:04,313 - data.chartink - INFO - [CHARTINK-22459] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:27:04,554 - data.chartink - INFO - [CHARTINK-22459] ‚úÖ CSRF token obtained successfully
2025-04-19 01:27:04,555 - data.chartink - INFO - [CHARTINK-22459] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:27:04,555 - data.chartink - INFO - [CHARTINK-22459] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 01:27:04,555 - data.chartink - INFO - [CHARTINK-22459] ‚è±Ô∏è API call started at 01:27:04.555
2025-04-19 01:27:04,683 - data.chartink - INFO - [CHARTINK-22459] ‚¨áÔ∏è Received response in 0.13s with status code 200
2025-04-19 01:27:04,684 - data.chartink - INFO - [CHARTINK-22459] Response type: dict
2025-04-19 01:27:04,684 - data.chartink - INFO - [CHARTINK-22459] Data entries: 0
2025-04-19 01:27:04,685 - data.chartink - INFO - [CHARTINK-22459] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 01:27:04,687 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 01:27:04,688 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 01:27:04,688 - data.chartink - INFO - [CHARTINK-24688] üöÄ Preparing ChartInk API request
2025-04-19 01:27:04,688 - data.chartink - INFO - [CHARTINK-24688] Rate limiting: Sleeping for 1.87s
2025-04-19 01:27:06,560 - data.chartink - INFO - [CHARTINK-24688] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 01:27:06,805 - data.chartink - INFO - [CHARTINK-24688] ‚úÖ CSRF token obtained successfully
2025-04-19 01:27:06,805 - data.chartink - INFO - [CHARTINK-24688] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 01:27:06,806 - data.chartink - INFO - [CHARTINK-24688] Query: latest close > 0 and          latest volume > 100000
2025-04-19 01:27:06,806 - data.chartink - INFO - [CHARTINK-24688] ‚è±Ô∏è API call started at 01:27:06.806
2025-04-19 01:27:07,032 - data.chartink - INFO - [CHARTINK-24688] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 01:27:07,040 - data.chartink - INFO - [CHARTINK-24688] Response type: dict
2025-04-19 01:27:07,040 - data.chartink - INFO - [CHARTINK-24688] Data entries: 1220
2025-04-19 01:27:07,043 - data.chartink - INFO - [CHARTINK-24688] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 01:27:07,044 - data.chartink - INFO - [CHARTINK-24688] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 01:27:07,044 - data.chartink - INFO - [CHARTINK-24688] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 01:27:07,050 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 01:27:07,050 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 01:27:07,050 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 01:27:07,050 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 01:27:07,050 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 01:27:07,051 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:27:07,051 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:27:07,051 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 01:27:07,054 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:27:07,054 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:27:07,054 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 01:27:07,057 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:27:07,067 - __main__ - ERROR - Swing page error: name 'buy_stock_popup' is not defined
2025-04-19 01:27:21,734 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:27:21,734 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:27:21,734 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:27:21,735 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:27:21,735 - data.chartink - INFO - Using cached results for query (age: 26.2s)
2025-04-19 01:27:21,737 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 01:27:21,738 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:27:21,739 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 01:27:21,739 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 01:27:21,739 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 01:27:21,740 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 01:27:21,740 - data.chartink - INFO - Using cached results for query (age: 26.2s)
2025-04-19 01:27:21,740 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 01:27:21,740 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 01:27:21,741 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 01:27:21,744 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 01:27:21,744 - data.top_stocks_service - INFO - [FETCH #45903] Getting hot swing stocks (limit=10, query=simple_test)
2025-04-19 01:27:21,746 - data.top_stocks_service - INFO - [FETCH #45903] Using specific query: simple_test
2025-04-19 01:27:21,746 - data.top_stocks_service - INFO - Running single query: simple_test - Simple Test Query
2025-04-19 01:27:21,746 - data.chartink - INFO - Using cached results for query (age: 14.7s)
2025-04-19 01:27:21,761 - data.top_stocks_service - INFO - Returning 50 stocks from query 'Simple Test Query'
2025-04-19 01:27:21,762 - data.top_stocks_service - INFO - Stock symbols: DIXON, POWERINDIA, ULTRACEMCO, MARUTI, BAJFINANCE
2025-04-19 01:27:21,762 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 01:27:21,762 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 01:27:21,762 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Simple Test Query
2025-04-19 01:27:21,765 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 01:27:21,766 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 01:27:21,766 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'name': 'Hitachi Energy India Ltd', 'change': '4.03%', 'per_chg': 4.03, 'volume': 119534, 'close': 13206.0, 'pattern': 'Simple Test Query', 'query_key': 'simple_test', 'company': 'Hitachi Energy India Ltd', 'signal': 'bullish'}
2025-04-19 01:27:21,771 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 01:27:21,782 - __main__ - ERROR - Swing page error: name 'buy_stock_popup' is not defined
2025-04-19 02:33:03,460 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 02:33:05,532 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 02:33:05,532 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 02:33:05,532 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 02:33:05,533 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 02:33:05,533 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 02:33:05,861 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.33s
2025-04-19 02:33:05,865 - data.chartink - INFO - [CHARTINK-85865] üöÄ Preparing ChartInk API request
2025-04-19 02:33:05,865 - data.chartink - INFO - [CHARTINK-85865] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:33:06,111 - data.chartink - INFO - [CHARTINK-85865] ‚úÖ CSRF token obtained successfully
2025-04-19 02:33:06,111 - data.chartink - INFO - [CHARTINK-85865] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:33:06,111 - data.chartink - INFO - [CHARTINK-85865] Query: latest close > 0 and latest volume > 100000
2025-04-19 02:33:06,111 - data.chartink - INFO - [CHARTINK-85865] ‚è±Ô∏è API call started at 02:33:06.111
2025-04-19 02:33:06,422 - data.chartink - INFO - [CHARTINK-85865] ‚¨áÔ∏è Received response in 0.31s with status code 200
2025-04-19 02:33:06,426 - data.chartink - INFO - [CHARTINK-85865] Response type: dict
2025-04-19 02:33:06,426 - data.chartink - INFO - [CHARTINK-85865] Data entries: 1220
2025-04-19 02:33:06,429 - data.chartink - INFO - [CHARTINK-85865] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:33:06,429 - data.chartink - INFO - [CHARTINK-85865] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:33:06,429 - data.chartink - INFO - [CHARTINK-85865] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:33:06,430 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.90s
2025-04-19 02:33:06,431 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 02:33:06,431 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 02:33:06,431 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 02:33:06,431 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 02:33:06,431 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 02:33:06,431 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 02:33:06,431 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 02:33:06,431 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 02:33:06,432 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 02:33:06,433 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 02:33:06,433 - data.top_stocks_service - INFO - [FETCH #56811] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 02:33:06,433 - data.top_stocks_service - INFO - [FETCH #56811] Using waterfall algorithm
2025-04-19 02:33:06,433 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 02:33:06,433 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 02:33:06,433 - data.chartink - INFO - [CHARTINK-86433] üöÄ Preparing ChartInk API request
2025-04-19 02:33:06,433 - data.chartink - INFO - [CHARTINK-86433] Rate limiting: Sleeping for 1.68s
2025-04-19 02:33:08,116 - data.chartink - INFO - [CHARTINK-86433] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:33:08,365 - data.chartink - INFO - [CHARTINK-86433] ‚úÖ CSRF token obtained successfully
2025-04-19 02:33:08,365 - data.chartink - INFO - [CHARTINK-86433] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:33:08,365 - data.chartink - INFO - [CHARTINK-86433] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 02:33:08,365 - data.chartink - INFO - [CHARTINK-86433] ‚è±Ô∏è API call started at 02:33:08.365
2025-04-19 02:33:08,473 - data.chartink - INFO - [CHARTINK-86433] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:33:08,473 - data.chartink - INFO - [CHARTINK-86433] Response type: dict
2025-04-19 02:33:08,473 - data.chartink - INFO - [CHARTINK-86433] Data entries: 0
2025-04-19 02:33:08,474 - data.chartink - INFO - [CHARTINK-86433] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:33:08,476 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 02:33:08,476 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 02:33:08,476 - data.chartink - INFO - [CHARTINK-88476] üöÄ Preparing ChartInk API request
2025-04-19 02:33:08,476 - data.chartink - INFO - [CHARTINK-88476] Rate limiting: Sleeping for 1.89s
2025-04-19 02:33:10,370 - data.chartink - INFO - [CHARTINK-88476] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:33:10,593 - data.chartink - INFO - [CHARTINK-88476] ‚úÖ CSRF token obtained successfully
2025-04-19 02:33:10,593 - data.chartink - INFO - [CHARTINK-88476] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:33:10,593 - data.chartink - INFO - [CHARTINK-88476] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 02:33:10,593 - data.chartink - INFO - [CHARTINK-88476] ‚è±Ô∏è API call started at 02:33:10.593
2025-04-19 02:33:10,699 - data.chartink - INFO - [CHARTINK-88476] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:33:10,700 - data.chartink - INFO - [CHARTINK-88476] Response type: dict
2025-04-19 02:33:10,700 - data.chartink - INFO - [CHARTINK-88476] Data entries: 0
2025-04-19 02:33:10,700 - data.chartink - INFO - [CHARTINK-88476] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:33:10,702 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 02:33:10,702 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 02:33:10,702 - data.chartink - INFO - [CHARTINK-90702] üöÄ Preparing ChartInk API request
2025-04-19 02:33:10,703 - data.chartink - INFO - [CHARTINK-90702] Rate limiting: Sleeping for 1.89s
2025-04-19 02:33:12,596 - data.chartink - INFO - [CHARTINK-90702] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:33:12,886 - data.chartink - INFO - [CHARTINK-90702] ‚úÖ CSRF token obtained successfully
2025-04-19 02:33:12,886 - data.chartink - INFO - [CHARTINK-90702] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:33:12,886 - data.chartink - INFO - [CHARTINK-90702] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 02:33:12,886 - data.chartink - INFO - [CHARTINK-90702] ‚è±Ô∏è API call started at 02:33:12.886
2025-04-19 02:33:12,997 - data.chartink - INFO - [CHARTINK-90702] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:33:12,998 - data.chartink - INFO - [CHARTINK-90702] Response type: dict
2025-04-19 02:33:12,998 - data.chartink - INFO - [CHARTINK-90702] Data entries: 0
2025-04-19 02:33:12,999 - data.chartink - INFO - [CHARTINK-90702] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:33:13,001 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 02:33:13,001 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 02:33:13,001 - data.chartink - INFO - [CHARTINK-93001] üöÄ Preparing ChartInk API request
2025-04-19 02:33:13,001 - data.chartink - INFO - [CHARTINK-93001] Rate limiting: Sleeping for 1.88s
2025-04-19 02:33:14,892 - data.chartink - INFO - [CHARTINK-93001] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:33:15,220 - data.chartink - INFO - [CHARTINK-93001] ‚úÖ CSRF token obtained successfully
2025-04-19 02:33:15,220 - data.chartink - INFO - [CHARTINK-93001] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:33:15,220 - data.chartink - INFO - [CHARTINK-93001] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 02:33:15,221 - data.chartink - INFO - [CHARTINK-93001] ‚è±Ô∏è API call started at 02:33:15.220
2025-04-19 02:33:15,332 - data.chartink - INFO - [CHARTINK-93001] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:33:15,332 - data.chartink - INFO - [CHARTINK-93001] Response type: dict
2025-04-19 02:33:15,332 - data.chartink - INFO - [CHARTINK-93001] Data entries: 0
2025-04-19 02:33:15,333 - data.chartink - INFO - [CHARTINK-93001] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:33:15,335 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 02:33:15,335 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 02:33:15,335 - data.chartink - INFO - [CHARTINK-95335] üöÄ Preparing ChartInk API request
2025-04-19 02:33:15,335 - data.chartink - INFO - [CHARTINK-95335] Rate limiting: Sleeping for 1.89s
2025-04-19 02:33:17,226 - data.chartink - INFO - [CHARTINK-95335] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:33:17,486 - data.chartink - INFO - [CHARTINK-95335] ‚úÖ CSRF token obtained successfully
2025-04-19 02:33:17,486 - data.chartink - INFO - [CHARTINK-95335] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:33:17,486 - data.chartink - INFO - [CHARTINK-95335] Query: latest close > 0 and          latest volume > 100000
2025-04-19 02:33:17,486 - data.chartink - INFO - [CHARTINK-95335] ‚è±Ô∏è API call started at 02:33:17.486
2025-04-19 02:33:17,692 - data.chartink - INFO - [CHARTINK-95335] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 02:33:17,697 - data.chartink - INFO - [CHARTINK-95335] Response type: dict
2025-04-19 02:33:17,697 - data.chartink - INFO - [CHARTINK-95335] Data entries: 1220
2025-04-19 02:33:17,699 - data.chartink - INFO - [CHARTINK-95335] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:33:17,699 - data.chartink - INFO - [CHARTINK-95335] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:33:17,700 - data.chartink - INFO - [CHARTINK-95335] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:33:17,702 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 02:33:17,702 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 02:33:17,702 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 02:33:17,702 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:33:17,702 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 02:33:17,703 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 02:33:17,703 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 02:33:17,703 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 02:33:17,704 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 02:33:17,704 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 02:33:17,704 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 02:33:17,709 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 02:36:01,318 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 02:36:03,846 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 02:36:03,846 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 02:36:03,846 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 02:36:03,846 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 02:36:03,846 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 02:36:04,063 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.22s
2025-04-19 02:36:04,065 - data.chartink - INFO - [CHARTINK-64065] üöÄ Preparing ChartInk API request
2025-04-19 02:36:04,065 - data.chartink - INFO - [CHARTINK-64065] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:36:04,301 - data.chartink - INFO - [CHARTINK-64065] ‚úÖ CSRF token obtained successfully
2025-04-19 02:36:04,301 - data.chartink - INFO - [CHARTINK-64065] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:36:04,301 - data.chartink - INFO - [CHARTINK-64065] Query: latest close > 0 and latest volume > 100000
2025-04-19 02:36:04,301 - data.chartink - INFO - [CHARTINK-64065] ‚è±Ô∏è API call started at 02:36:04.301
2025-04-19 02:36:04,533 - data.chartink - INFO - [CHARTINK-64065] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 02:36:04,536 - data.chartink - INFO - [CHARTINK-64065] Response type: dict
2025-04-19 02:36:04,536 - data.chartink - INFO - [CHARTINK-64065] Data entries: 1220
2025-04-19 02:36:04,538 - data.chartink - INFO - [CHARTINK-64065] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:36:04,538 - data.chartink - INFO - [CHARTINK-64065] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:36:04,539 - data.chartink - INFO - [CHARTINK-64065] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:36:04,542 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.70s
2025-04-19 02:36:04,542 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 02:36:04,542 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 02:36:04,544 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 02:36:04,544 - data.top_stocks_service - INFO - [FETCH #30694] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 02:36:04,544 - data.top_stocks_service - INFO - [FETCH #30694] Using waterfall algorithm
2025-04-19 02:36:04,544 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 02:36:04,544 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 02:36:04,545 - data.chartink - INFO - [CHARTINK-64545] üöÄ Preparing ChartInk API request
2025-04-19 02:36:04,545 - data.chartink - INFO - [CHARTINK-64545] Rate limiting: Sleeping for 1.76s
2025-04-19 02:36:06,307 - data.chartink - INFO - [CHARTINK-64545] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:36:06,545 - data.chartink - INFO - [CHARTINK-64545] ‚úÖ CSRF token obtained successfully
2025-04-19 02:36:06,545 - data.chartink - INFO - [CHARTINK-64545] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:36:06,545 - data.chartink - INFO - [CHARTINK-64545] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 02:36:06,545 - data.chartink - INFO - [CHARTINK-64545] ‚è±Ô∏è API call started at 02:36:06.545
2025-04-19 02:36:06,652 - data.chartink - INFO - [CHARTINK-64545] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:36:06,653 - data.chartink - INFO - [CHARTINK-64545] Response type: dict
2025-04-19 02:36:06,653 - data.chartink - INFO - [CHARTINK-64545] Data entries: 0
2025-04-19 02:36:06,654 - data.chartink - INFO - [CHARTINK-64545] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:36:06,656 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 02:36:06,657 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 02:36:06,657 - data.chartink - INFO - [CHARTINK-66657] üöÄ Preparing ChartInk API request
2025-04-19 02:36:06,657 - data.chartink - INFO - [CHARTINK-66657] Rate limiting: Sleeping for 1.89s
2025-04-19 02:36:08,551 - data.chartink - INFO - [CHARTINK-66657] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:36:08,790 - data.chartink - INFO - [CHARTINK-66657] ‚úÖ CSRF token obtained successfully
2025-04-19 02:36:08,791 - data.chartink - INFO - [CHARTINK-66657] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:36:08,791 - data.chartink - INFO - [CHARTINK-66657] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 02:36:08,791 - data.chartink - INFO - [CHARTINK-66657] ‚è±Ô∏è API call started at 02:36:08.791
2025-04-19 02:36:08,900 - data.chartink - INFO - [CHARTINK-66657] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:36:08,900 - data.chartink - INFO - [CHARTINK-66657] Response type: dict
2025-04-19 02:36:08,900 - data.chartink - INFO - [CHARTINK-66657] Data entries: 0
2025-04-19 02:36:08,900 - data.chartink - INFO - [CHARTINK-66657] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:36:08,902 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 02:36:08,902 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 02:36:08,902 - data.chartink - INFO - [CHARTINK-68902] üöÄ Preparing ChartInk API request
2025-04-19 02:36:08,902 - data.chartink - INFO - [CHARTINK-68902] Rate limiting: Sleeping for 1.89s
2025-04-19 02:36:10,797 - data.chartink - INFO - [CHARTINK-68902] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:36:11,030 - data.chartink - INFO - [CHARTINK-68902] ‚úÖ CSRF token obtained successfully
2025-04-19 02:36:11,030 - data.chartink - INFO - [CHARTINK-68902] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:36:11,030 - data.chartink - INFO - [CHARTINK-68902] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 02:36:11,030 - data.chartink - INFO - [CHARTINK-68902] ‚è±Ô∏è API call started at 02:36:11.030
2025-04-19 02:36:11,143 - data.chartink - INFO - [CHARTINK-68902] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:36:11,143 - data.chartink - INFO - [CHARTINK-68902] Response type: dict
2025-04-19 02:36:11,143 - data.chartink - INFO - [CHARTINK-68902] Data entries: 0
2025-04-19 02:36:11,143 - data.chartink - INFO - [CHARTINK-68902] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:36:11,144 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 02:36:11,144 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 02:36:11,144 - data.chartink - INFO - [CHARTINK-71144] üöÄ Preparing ChartInk API request
2025-04-19 02:36:11,144 - data.chartink - INFO - [CHARTINK-71144] Rate limiting: Sleeping for 1.89s
2025-04-19 02:36:13,036 - data.chartink - INFO - [CHARTINK-71144] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:36:13,422 - data.chartink - INFO - [CHARTINK-71144] ‚úÖ CSRF token obtained successfully
2025-04-19 02:36:13,422 - data.chartink - INFO - [CHARTINK-71144] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:36:13,422 - data.chartink - INFO - [CHARTINK-71144] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 02:36:13,423 - data.chartink - INFO - [CHARTINK-71144] ‚è±Ô∏è API call started at 02:36:13.423
2025-04-19 02:36:13,554 - data.chartink - INFO - [CHARTINK-71144] ‚¨áÔ∏è Received response in 0.13s with status code 200
2025-04-19 02:36:13,554 - data.chartink - INFO - [CHARTINK-71144] Response type: dict
2025-04-19 02:36:13,555 - data.chartink - INFO - [CHARTINK-71144] Data entries: 0
2025-04-19 02:36:13,556 - data.chartink - INFO - [CHARTINK-71144] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:36:13,560 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 02:36:13,561 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 02:36:13,561 - data.chartink - INFO - [CHARTINK-73561] üöÄ Preparing ChartInk API request
2025-04-19 02:36:13,561 - data.chartink - INFO - [CHARTINK-73561] Rate limiting: Sleeping for 1.86s
2025-04-19 02:36:15,428 - data.chartink - INFO - [CHARTINK-73561] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:36:15,665 - data.chartink - INFO - [CHARTINK-73561] ‚úÖ CSRF token obtained successfully
2025-04-19 02:36:15,665 - data.chartink - INFO - [CHARTINK-73561] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:36:15,665 - data.chartink - INFO - [CHARTINK-73561] Query: latest close > 0 and          latest volume > 100000
2025-04-19 02:36:15,665 - data.chartink - INFO - [CHARTINK-73561] ‚è±Ô∏è API call started at 02:36:15.665
2025-04-19 02:36:15,894 - data.chartink - INFO - [CHARTINK-73561] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 02:36:15,898 - data.chartink - INFO - [CHARTINK-73561] Response type: dict
2025-04-19 02:36:15,898 - data.chartink - INFO - [CHARTINK-73561] Data entries: 1220
2025-04-19 02:36:15,902 - data.chartink - INFO - [CHARTINK-73561] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:36:15,903 - data.chartink - INFO - [CHARTINK-73561] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:36:15,903 - data.chartink - INFO - [CHARTINK-73561] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:36:15,910 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 02:36:15,910 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 02:36:15,910 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 02:36:15,910 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:36:15,910 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 02:36:15,910 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 02:36:15,911 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 02:36:15,911 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 02:36:15,911 - ui_services.stocks.hot_stocks - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:36:15,914 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 02:36:15,914 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 02:36:15,914 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 02:36:15,917 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 02:36:21,794 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 02:36:21,794 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 02:36:21,794 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 02:36:21,795 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 02:36:21,795 - data.chartink - INFO - Using cached results for query (age: 17.3s)
2025-04-19 02:36:21,795 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 02:36:21,795 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 02:36:21,795 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 02:36:21,796 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 02:36:21,796 - data.top_stocks_service - INFO - [FETCH #61972] Getting hot swing stocks (limit=10, query=simple_test)
2025-04-19 02:36:21,797 - data.top_stocks_service - INFO - [FETCH #61972] Using specific query: simple_test
2025-04-19 02:36:21,797 - data.top_stocks_service - INFO - Running single query: simple_test - Simple Test Query
2025-04-19 02:36:21,797 - data.chartink - INFO - Using cached results for query (age: 5.9s)
2025-04-19 02:36:21,799 - data.top_stocks_service - INFO - Returning 50 stocks from query 'Simple Test Query'
2025-04-19 02:36:21,799 - data.top_stocks_service - INFO - Stock symbols: DIXON, POWERINDIA, ULTRACEMCO, MARUTI, BAJFINANCE
2025-04-19 02:36:21,799 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 02:36:21,799 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 02:36:21,799 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Simple Test Query
2025-04-19 02:36:21,800 - ui_services.stocks.hot_stocks - INFO - Sample stock data structure: ['symbol', 'name', 'change', 'per_chg', 'volume', 'close', 'pattern', 'query_key', 'company', 'signal']
2025-04-19 02:36:21,802 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 02:36:21,803 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 02:36:21,803 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'name': 'Hitachi Energy India Ltd', 'change': '4.03%', 'per_chg': 4.03, 'volume': 119534, 'close': 13206.0, 'pattern': 'Simple Test Query', 'query_key': 'simple_test', 'company': 'Hitachi Energy India Ltd', 'signal': 'bullish'}
2025-04-19 02:36:21,805 - ui_services.stocks.hot_stocks - INFO - AgGrid is available, using enhanced table
2025-04-19 02:50:03,492 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 02:50:05,756 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 02:50:05,756 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 02:50:05,756 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 02:50:05,756 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 02:50:05,757 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 02:50:05,983 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.23s
2025-04-19 02:50:05,985 - data.chartink - INFO - [CHARTINK-5985] üöÄ Preparing ChartInk API request
2025-04-19 02:50:05,985 - data.chartink - INFO - [CHARTINK-5985] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:50:06,236 - data.chartink - INFO - [CHARTINK-5985] ‚úÖ CSRF token obtained successfully
2025-04-19 02:50:06,236 - data.chartink - INFO - [CHARTINK-5985] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:50:06,236 - data.chartink - INFO - [CHARTINK-5985] Query: latest close > 0 and latest volume > 100000
2025-04-19 02:50:06,237 - data.chartink - INFO - [CHARTINK-5985] ‚è±Ô∏è API call started at 02:50:06.237
2025-04-19 02:50:06,477 - data.chartink - INFO - [CHARTINK-5985] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 02:50:06,482 - data.chartink - INFO - [CHARTINK-5985] Response type: dict
2025-04-19 02:50:06,482 - data.chartink - INFO - [CHARTINK-5985] Data entries: 1220
2025-04-19 02:50:06,487 - data.chartink - INFO - [CHARTINK-5985] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:50:06,487 - data.chartink - INFO - [CHARTINK-5985] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:50:06,487 - data.chartink - INFO - [CHARTINK-5985] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:50:06,490 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.73s
2025-04-19 02:50:06,491 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 02:50:06,492 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 02:50:06,495 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 02:50:06,496 - data.top_stocks_service - INFO - [FETCH #31027] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 02:50:06,497 - data.top_stocks_service - INFO - [FETCH #31027] Using waterfall algorithm
2025-04-19 02:50:06,497 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 02:50:06,497 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 02:50:06,498 - data.chartink - INFO - [CHARTINK-6498] üöÄ Preparing ChartInk API request
2025-04-19 02:50:06,498 - data.chartink - INFO - [CHARTINK-6498] Rate limiting: Sleeping for 1.74s
2025-04-19 02:50:08,242 - data.chartink - INFO - [CHARTINK-6498] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:50:08,486 - data.chartink - INFO - [CHARTINK-6498] ‚úÖ CSRF token obtained successfully
2025-04-19 02:50:08,486 - data.chartink - INFO - [CHARTINK-6498] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:50:08,486 - data.chartink - INFO - [CHARTINK-6498] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 02:50:08,486 - data.chartink - INFO - [CHARTINK-6498] ‚è±Ô∏è API call started at 02:50:08.486
2025-04-19 02:50:08,591 - data.chartink - INFO - [CHARTINK-6498] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:50:08,592 - data.chartink - INFO - [CHARTINK-6498] Response type: dict
2025-04-19 02:50:08,592 - data.chartink - INFO - [CHARTINK-6498] Data entries: 0
2025-04-19 02:50:08,593 - data.chartink - INFO - [CHARTINK-6498] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:50:08,596 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 02:50:08,596 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 02:50:08,596 - data.chartink - INFO - [CHARTINK-8596] üöÄ Preparing ChartInk API request
2025-04-19 02:50:08,597 - data.chartink - INFO - [CHARTINK-8596] Rate limiting: Sleeping for 1.89s
2025-04-19 02:50:09,836 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 02:50:09,837 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 02:50:09,837 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 02:50:09,837 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 02:50:09,837 - data.chartink - INFO - Using cached results for query (age: 3.3s)
2025-04-19 02:50:09,837 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 02:50:09,837 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 02:50:09,838 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 02:50:09,839 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 02:50:09,839 - data.top_stocks_service - INFO - [FETCH #42024] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 02:50:09,839 - data.top_stocks_service - INFO - [FETCH #42024] Using waterfall algorithm
2025-04-19 02:50:09,839 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 02:50:09,839 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 02:50:09,839 - data.chartink - INFO - Using cached results for query (age: 1.2s)
2025-04-19 02:50:09,839 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 02:50:09,839 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 02:50:09,839 - data.chartink - INFO - [CHARTINK-9839] üöÄ Preparing ChartInk API request
2025-04-19 02:50:09,839 - data.chartink - INFO - [CHARTINK-9839] Rate limiting: Sleeping for 0.65s
2025-04-19 02:50:10,492 - data.chartink - INFO - [CHARTINK-9839] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:50:10,492 - data.chartink - INFO - [CHARTINK-8596] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:50:10,724 - data.chartink - INFO - [CHARTINK-9839] ‚úÖ CSRF token obtained successfully
2025-04-19 02:50:10,725 - data.chartink - INFO - [CHARTINK-9839] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:50:10,725 - data.chartink - INFO - [CHARTINK-9839] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 02:50:10,726 - data.chartink - INFO - [CHARTINK-9839] ‚è±Ô∏è API call started at 02:50:10.726
2025-04-19 02:50:10,737 - data.chartink - INFO - [CHARTINK-8596] ‚úÖ CSRF token obtained successfully
2025-04-19 02:50:10,737 - data.chartink - INFO - [CHARTINK-8596] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:50:10,737 - data.chartink - INFO - [CHARTINK-8596] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 02:50:10,737 - data.chartink - INFO - [CHARTINK-8596] ‚è±Ô∏è API call started at 02:50:10.737
2025-04-19 02:50:10,844 - data.chartink - INFO - [CHARTINK-9839] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 02:50:10,844 - data.chartink - INFO - [CHARTINK-9839] Response type: dict
2025-04-19 02:50:10,844 - data.chartink - INFO - [CHARTINK-9839] Data entries: 0
2025-04-19 02:50:10,845 - data.chartink - INFO - [CHARTINK-9839] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:50:10,847 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 02:50:10,848 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 02:50:10,848 - data.chartink - INFO - [CHARTINK-10848] üöÄ Preparing ChartInk API request
2025-04-19 02:50:10,848 - data.chartink - INFO - [CHARTINK-10848] Rate limiting: Sleeping for 1.89s
2025-04-19 02:50:10,849 - data.chartink - INFO - [CHARTINK-8596] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:50:10,849 - data.chartink - INFO - [CHARTINK-8596] Response type: dict
2025-04-19 02:50:10,849 - data.chartink - INFO - [CHARTINK-8596] Data entries: 0
2025-04-19 02:50:10,849 - data.chartink - INFO - [CHARTINK-8596] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:50:10,851 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 02:50:10,851 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 02:50:10,851 - data.chartink - INFO - [CHARTINK-10851] üöÄ Preparing ChartInk API request
2025-04-19 02:50:10,851 - data.chartink - INFO - [CHARTINK-10851] Rate limiting: Sleeping for 1.89s
2025-04-19 02:50:12,743 - data.chartink - INFO - [CHARTINK-10851] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:50:12,744 - data.chartink - INFO - [CHARTINK-10848] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:50:12,974 - data.chartink - INFO - [CHARTINK-10851] ‚úÖ CSRF token obtained successfully
2025-04-19 02:50:12,974 - data.chartink - INFO - [CHARTINK-10851] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:50:12,974 - data.chartink - INFO - [CHARTINK-10851] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 02:50:12,974 - data.chartink - INFO - [CHARTINK-10851] ‚è±Ô∏è API call started at 02:50:12.974
2025-04-19 02:50:12,992 - data.chartink - INFO - [CHARTINK-10848] ‚úÖ CSRF token obtained successfully
2025-04-19 02:50:12,992 - data.chartink - INFO - [CHARTINK-10848] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:50:12,992 - data.chartink - INFO - [CHARTINK-10848] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 02:50:12,992 - data.chartink - INFO - [CHARTINK-10848] ‚è±Ô∏è API call started at 02:50:12.992
2025-04-19 02:50:13,095 - data.chartink - INFO - [CHARTINK-10851] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 02:50:13,096 - data.chartink - INFO - [CHARTINK-10851] Response type: dict
2025-04-19 02:50:13,096 - data.chartink - INFO - [CHARTINK-10851] Data entries: 0
2025-04-19 02:50:13,096 - data.chartink - INFO - [CHARTINK-10851] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:50:13,098 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 02:50:13,098 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 02:50:13,098 - data.chartink - INFO - [CHARTINK-13098] üöÄ Preparing ChartInk API request
2025-04-19 02:50:13,098 - data.chartink - INFO - [CHARTINK-13098] Rate limiting: Sleeping for 1.89s
2025-04-19 02:50:13,149 - data.chartink - INFO - [CHARTINK-10848] ‚¨áÔ∏è Received response in 0.16s with status code 200
2025-04-19 02:50:13,149 - data.chartink - INFO - [CHARTINK-10848] Response type: dict
2025-04-19 02:50:13,150 - data.chartink - INFO - [CHARTINK-10848] Data entries: 0
2025-04-19 02:50:13,150 - data.chartink - INFO - [CHARTINK-10848] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:50:13,152 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 02:50:13,152 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 02:50:13,152 - data.chartink - INFO - [CHARTINK-13152] üöÄ Preparing ChartInk API request
2025-04-19 02:50:13,153 - data.chartink - INFO - [CHARTINK-13152] Rate limiting: Sleeping for 1.84s
2025-04-19 02:50:14,998 - data.chartink - INFO - [CHARTINK-13152] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:50:14,999 - data.chartink - INFO - [CHARTINK-13098] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:50:15,232 - data.chartink - INFO - [CHARTINK-13098] ‚úÖ CSRF token obtained successfully
2025-04-19 02:50:15,232 - data.chartink - INFO - [CHARTINK-13098] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:50:15,232 - data.chartink - INFO - [CHARTINK-13098] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 02:50:15,232 - data.chartink - INFO - [CHARTINK-13098] ‚è±Ô∏è API call started at 02:50:15.232
2025-04-19 02:50:15,346 - data.chartink - INFO - [CHARTINK-13098] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:50:15,347 - data.chartink - INFO - [CHARTINK-13098] Response type: dict
2025-04-19 02:50:15,347 - data.chartink - INFO - [CHARTINK-13098] Data entries: 0
2025-04-19 02:50:15,348 - data.chartink - INFO - [CHARTINK-13098] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:50:15,351 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 02:50:15,352 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 02:50:15,352 - data.chartink - INFO - [CHARTINK-15352] üöÄ Preparing ChartInk API request
2025-04-19 02:50:15,352 - data.chartink - INFO - [CHARTINK-15352] Rate limiting: Sleeping for 1.88s
2025-04-19 02:50:15,419 - data.chartink - INFO - [CHARTINK-13152] ‚úÖ CSRF token obtained successfully
2025-04-19 02:50:15,419 - data.chartink - INFO - [CHARTINK-13152] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:50:15,420 - data.chartink - INFO - [CHARTINK-13152] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 02:50:15,420 - data.chartink - INFO - [CHARTINK-13152] ‚è±Ô∏è API call started at 02:50:15.420
2025-04-19 02:50:15,546 - data.chartink - INFO - [CHARTINK-13152] ‚¨áÔ∏è Received response in 0.13s with status code 200
2025-04-19 02:50:15,546 - data.chartink - INFO - [CHARTINK-13152] Response type: dict
2025-04-19 02:50:15,546 - data.chartink - INFO - [CHARTINK-13152] Data entries: 0
2025-04-19 02:50:15,546 - data.chartink - INFO - [CHARTINK-13152] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:50:15,548 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 02:50:15,548 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 02:50:15,548 - data.chartink - INFO - [CHARTINK-15548] üöÄ Preparing ChartInk API request
2025-04-19 02:50:15,548 - data.chartink - INFO - [CHARTINK-15548] Rate limiting: Sleeping for 1.87s
2025-04-19 02:50:17,238 - data.chartink - INFO - [CHARTINK-15352] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:50:17,425 - data.chartink - INFO - [CHARTINK-15548] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:50:17,486 - data.chartink - INFO - [CHARTINK-15352] ‚úÖ CSRF token obtained successfully
2025-04-19 02:50:17,486 - data.chartink - INFO - [CHARTINK-15352] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:50:17,486 - data.chartink - INFO - [CHARTINK-15352] Query: latest close > 0 and          latest volume > 100000
2025-04-19 02:50:17,486 - data.chartink - INFO - [CHARTINK-15352] ‚è±Ô∏è API call started at 02:50:17.486
2025-04-19 02:50:17,652 - data.chartink - INFO - [CHARTINK-15548] ‚úÖ CSRF token obtained successfully
2025-04-19 02:50:17,652 - data.chartink - INFO - [CHARTINK-15548] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:50:17,652 - data.chartink - INFO - [CHARTINK-15548] Query: latest close > 0 and          latest volume > 100000
2025-04-19 02:50:17,652 - data.chartink - INFO - [CHARTINK-15548] ‚è±Ô∏è API call started at 02:50:17.652
2025-04-19 02:50:17,674 - data.chartink - INFO - [CHARTINK-15352] ‚¨áÔ∏è Received response in 0.19s with status code 200
2025-04-19 02:50:17,677 - data.chartink - INFO - [CHARTINK-15352] Response type: dict
2025-04-19 02:50:17,677 - data.chartink - INFO - [CHARTINK-15352] Data entries: 1220
2025-04-19 02:50:17,679 - data.chartink - INFO - [CHARTINK-15352] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:50:17,680 - data.chartink - INFO - [CHARTINK-15352] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:50:17,680 - data.chartink - INFO - [CHARTINK-15352] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:50:17,685 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 02:50:17,685 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 02:50:17,686 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 02:50:17,686 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:50:17,686 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 02:50:17,686 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 02:50:17,686 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 02:50:17,686 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 02:50:17,686 - ui_services.stocks.hot_stocks - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:50:17,886 - data.chartink - INFO - [CHARTINK-15548] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 02:50:17,889 - data.chartink - INFO - [CHARTINK-15548] Response type: dict
2025-04-19 02:50:17,889 - data.chartink - INFO - [CHARTINK-15548] Data entries: 1220
2025-04-19 02:50:17,892 - data.chartink - INFO - [CHARTINK-15548] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:50:17,892 - data.chartink - INFO - [CHARTINK-15548] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:50:17,892 - data.chartink - INFO - [CHARTINK-15548] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:50:17,900 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 02:50:17,900 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 02:50:17,900 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 02:50:17,900 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:50:17,900 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 02:50:17,900 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 02:50:17,900 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 02:50:17,900 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 02:50:17,901 - ui_services.stocks.hot_stocks - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:50:17,903 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 02:50:17,903 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 02:50:17,903 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 02:50:17,905 - __main__ - ERROR - Swing page error: button() got an unexpected keyword argument 'visible'
2025-04-19 02:51:12,917 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 02:51:14,672 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 02:51:14,673 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 02:51:14,673 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 02:51:14,673 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 02:51:14,673 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 02:51:14,990 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.32s
2025-04-19 02:51:14,995 - data.chartink - INFO - [CHARTINK-74995] üöÄ Preparing ChartInk API request
2025-04-19 02:51:14,995 - data.chartink - INFO - [CHARTINK-74995] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:51:15,263 - data.chartink - INFO - [CHARTINK-74995] ‚úÖ CSRF token obtained successfully
2025-04-19 02:51:15,263 - data.chartink - INFO - [CHARTINK-74995] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:51:15,264 - data.chartink - INFO - [CHARTINK-74995] Query: latest close > 0 and latest volume > 100000
2025-04-19 02:51:15,264 - data.chartink - INFO - [CHARTINK-74995] ‚è±Ô∏è API call started at 02:51:15.264
2025-04-19 02:51:15,501 - data.chartink - INFO - [CHARTINK-74995] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 02:51:15,506 - data.chartink - INFO - [CHARTINK-74995] Response type: dict
2025-04-19 02:51:15,506 - data.chartink - INFO - [CHARTINK-74995] Data entries: 1220
2025-04-19 02:51:15,509 - data.chartink - INFO - [CHARTINK-74995] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:51:15,510 - data.chartink - INFO - [CHARTINK-74995] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:51:15,511 - data.chartink - INFO - [CHARTINK-74995] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:51:15,513 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.84s
2025-04-19 02:51:15,514 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 02:51:15,514 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 02:51:15,516 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 02:51:15,516 - data.top_stocks_service - INFO - [FETCH #26941] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 02:51:15,516 - data.top_stocks_service - INFO - [FETCH #26941] Using waterfall algorithm
2025-04-19 02:51:15,516 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 02:51:15,516 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 02:51:15,516 - data.chartink - INFO - [CHARTINK-75516] üöÄ Preparing ChartInk API request
2025-04-19 02:51:15,516 - data.chartink - INFO - [CHARTINK-75516] Rate limiting: Sleeping for 1.75s
2025-04-19 02:51:17,270 - data.chartink - INFO - [CHARTINK-75516] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:51:17,527 - data.chartink - INFO - [CHARTINK-75516] ‚úÖ CSRF token obtained successfully
2025-04-19 02:51:17,527 - data.chartink - INFO - [CHARTINK-75516] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:51:17,528 - data.chartink - INFO - [CHARTINK-75516] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 02:51:17,528 - data.chartink - INFO - [CHARTINK-75516] ‚è±Ô∏è API call started at 02:51:17.528
2025-04-19 02:51:17,638 - data.chartink - INFO - [CHARTINK-75516] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:51:17,639 - data.chartink - INFO - [CHARTINK-75516] Response type: dict
2025-04-19 02:51:17,640 - data.chartink - INFO - [CHARTINK-75516] Data entries: 0
2025-04-19 02:51:17,641 - data.chartink - INFO - [CHARTINK-75516] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:51:17,645 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 02:51:17,645 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 02:51:17,646 - data.chartink - INFO - [CHARTINK-77646] üöÄ Preparing ChartInk API request
2025-04-19 02:51:17,646 - data.chartink - INFO - [CHARTINK-77646] Rate limiting: Sleeping for 1.88s
2025-04-19 02:51:19,533 - data.chartink - INFO - [CHARTINK-77646] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:51:19,777 - data.chartink - INFO - [CHARTINK-77646] ‚úÖ CSRF token obtained successfully
2025-04-19 02:51:19,777 - data.chartink - INFO - [CHARTINK-77646] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:51:19,777 - data.chartink - INFO - [CHARTINK-77646] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 02:51:19,777 - data.chartink - INFO - [CHARTINK-77646] ‚è±Ô∏è API call started at 02:51:19.777
2025-04-19 02:51:19,888 - data.chartink - INFO - [CHARTINK-77646] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:51:19,888 - data.chartink - INFO - [CHARTINK-77646] Response type: dict
2025-04-19 02:51:19,889 - data.chartink - INFO - [CHARTINK-77646] Data entries: 0
2025-04-19 02:51:19,889 - data.chartink - INFO - [CHARTINK-77646] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:51:19,892 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 02:51:19,892 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 02:51:19,892 - data.chartink - INFO - [CHARTINK-79892] üöÄ Preparing ChartInk API request
2025-04-19 02:51:19,892 - data.chartink - INFO - [CHARTINK-79892] Rate limiting: Sleeping for 1.88s
2025-04-19 02:51:21,783 - data.chartink - INFO - [CHARTINK-79892] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:51:22,022 - data.chartink - INFO - [CHARTINK-79892] ‚úÖ CSRF token obtained successfully
2025-04-19 02:51:22,022 - data.chartink - INFO - [CHARTINK-79892] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:51:22,022 - data.chartink - INFO - [CHARTINK-79892] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 02:51:22,022 - data.chartink - INFO - [CHARTINK-79892] ‚è±Ô∏è API call started at 02:51:22.022
2025-04-19 02:51:22,136 - data.chartink - INFO - [CHARTINK-79892] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:51:22,136 - data.chartink - INFO - [CHARTINK-79892] Response type: dict
2025-04-19 02:51:22,137 - data.chartink - INFO - [CHARTINK-79892] Data entries: 0
2025-04-19 02:51:22,137 - data.chartink - INFO - [CHARTINK-79892] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:51:22,140 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 02:51:22,141 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 02:51:22,141 - data.chartink - INFO - [CHARTINK-82141] üöÄ Preparing ChartInk API request
2025-04-19 02:51:22,141 - data.chartink - INFO - [CHARTINK-82141] Rate limiting: Sleeping for 1.88s
2025-04-19 02:51:24,027 - data.chartink - INFO - [CHARTINK-82141] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:51:24,367 - data.chartink - INFO - [CHARTINK-82141] ‚úÖ CSRF token obtained successfully
2025-04-19 02:51:24,367 - data.chartink - INFO - [CHARTINK-82141] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:51:24,367 - data.chartink - INFO - [CHARTINK-82141] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 02:51:24,367 - data.chartink - INFO - [CHARTINK-82141] ‚è±Ô∏è API call started at 02:51:24.367
2025-04-19 02:51:24,483 - data.chartink - INFO - [CHARTINK-82141] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 02:51:24,483 - data.chartink - INFO - [CHARTINK-82141] Response type: dict
2025-04-19 02:51:24,483 - data.chartink - INFO - [CHARTINK-82141] Data entries: 0
2025-04-19 02:51:24,484 - data.chartink - INFO - [CHARTINK-82141] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:51:24,487 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 02:51:24,487 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 02:51:24,487 - data.chartink - INFO - [CHARTINK-84487] üöÄ Preparing ChartInk API request
2025-04-19 02:51:24,487 - data.chartink - INFO - [CHARTINK-84487] Rate limiting: Sleeping for 1.88s
2025-04-19 02:51:26,372 - data.chartink - INFO - [CHARTINK-84487] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:51:26,604 - data.chartink - INFO - [CHARTINK-84487] ‚úÖ CSRF token obtained successfully
2025-04-19 02:51:26,604 - data.chartink - INFO - [CHARTINK-84487] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:51:26,604 - data.chartink - INFO - [CHARTINK-84487] Query: latest close > 0 and          latest volume > 100000
2025-04-19 02:51:26,604 - data.chartink - INFO - [CHARTINK-84487] ‚è±Ô∏è API call started at 02:51:26.604
2025-04-19 02:51:26,825 - data.chartink - INFO - [CHARTINK-84487] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 02:51:26,829 - data.chartink - INFO - [CHARTINK-84487] Response type: dict
2025-04-19 02:51:26,829 - data.chartink - INFO - [CHARTINK-84487] Data entries: 1220
2025-04-19 02:51:26,833 - data.chartink - INFO - [CHARTINK-84487] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:51:26,833 - data.chartink - INFO - [CHARTINK-84487] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:51:26,834 - data.chartink - INFO - [CHARTINK-84487] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:51:26,841 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 02:51:26,841 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 02:51:26,842 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 02:51:26,842 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:51:26,842 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 02:51:26,842 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 02:51:26,842 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 02:51:26,842 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 02:51:26,842 - ui_services.stocks.hot_stocks - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:51:26,844 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 02:51:26,844 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 02:51:26,845 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 02:53:16,048 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 02:53:19,314 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 02:53:19,314 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 02:53:19,314 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 02:53:19,314 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 02:53:19,314 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 02:53:19,527 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.21s
2025-04-19 02:53:19,529 - data.chartink - INFO - [CHARTINK-99529] üöÄ Preparing ChartInk API request
2025-04-19 02:53:19,530 - data.chartink - INFO - [CHARTINK-99529] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:53:19,902 - data.chartink - INFO - [CHARTINK-99529] ‚úÖ CSRF token obtained successfully
2025-04-19 02:53:19,902 - data.chartink - INFO - [CHARTINK-99529] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:53:19,903 - data.chartink - INFO - [CHARTINK-99529] Query: latest close > 0 and latest volume > 100000
2025-04-19 02:53:19,903 - data.chartink - INFO - [CHARTINK-99529] ‚è±Ô∏è API call started at 02:53:19.903
2025-04-19 02:53:20,112 - data.chartink - INFO - [CHARTINK-99529] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 02:53:20,116 - data.chartink - INFO - [CHARTINK-99529] Response type: dict
2025-04-19 02:53:20,116 - data.chartink - INFO - [CHARTINK-99529] Data entries: 1220
2025-04-19 02:53:20,118 - data.chartink - INFO - [CHARTINK-99529] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:53:20,118 - data.chartink - INFO - [CHARTINK-99529] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:53:20,118 - data.chartink - INFO - [CHARTINK-99529] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:53:20,120 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.81s
2025-04-19 02:53:20,120 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 02:53:20,120 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 02:53:20,121 - ui_services.stocks.hot_stocks - INFO - Fetching hot stocks from data service
2025-04-19 02:53:20,121 - data.top_stocks_service - INFO - [FETCH #88820] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 02:53:20,121 - data.top_stocks_service - INFO - [FETCH #88820] Using waterfall algorithm
2025-04-19 02:53:20,122 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 02:53:20,122 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 02:53:20,122 - data.chartink - INFO - [CHARTINK-122] üöÄ Preparing ChartInk API request
2025-04-19 02:53:20,122 - data.chartink - INFO - [CHARTINK-122] Rate limiting: Sleeping for 1.78s
2025-04-19 02:53:21,907 - data.chartink - INFO - [CHARTINK-122] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:53:22,145 - data.chartink - INFO - [CHARTINK-122] ‚úÖ CSRF token obtained successfully
2025-04-19 02:53:22,145 - data.chartink - INFO - [CHARTINK-122] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:53:22,145 - data.chartink - INFO - [CHARTINK-122] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 02:53:22,145 - data.chartink - INFO - [CHARTINK-122] ‚è±Ô∏è API call started at 02:53:22.145
2025-04-19 02:53:22,264 - data.chartink - INFO - [CHARTINK-122] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 02:53:22,265 - data.chartink - INFO - [CHARTINK-122] Response type: dict
2025-04-19 02:53:22,265 - data.chartink - INFO - [CHARTINK-122] Data entries: 0
2025-04-19 02:53:22,266 - data.chartink - INFO - [CHARTINK-122] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:53:22,269 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 02:53:22,269 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 02:53:22,269 - data.chartink - INFO - [CHARTINK-2269] üöÄ Preparing ChartInk API request
2025-04-19 02:53:22,269 - data.chartink - INFO - [CHARTINK-2269] Rate limiting: Sleeping for 1.88s
2025-04-19 02:53:24,151 - data.chartink - INFO - [CHARTINK-2269] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:53:24,378 - data.chartink - INFO - [CHARTINK-2269] ‚úÖ CSRF token obtained successfully
2025-04-19 02:53:24,378 - data.chartink - INFO - [CHARTINK-2269] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:53:24,378 - data.chartink - INFO - [CHARTINK-2269] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 02:53:24,378 - data.chartink - INFO - [CHARTINK-2269] ‚è±Ô∏è API call started at 02:53:24.378
2025-04-19 02:53:24,491 - data.chartink - INFO - [CHARTINK-2269] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:53:24,491 - data.chartink - INFO - [CHARTINK-2269] Response type: dict
2025-04-19 02:53:24,491 - data.chartink - INFO - [CHARTINK-2269] Data entries: 0
2025-04-19 02:53:24,492 - data.chartink - INFO - [CHARTINK-2269] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:53:24,493 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 02:53:24,493 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 02:53:24,493 - data.chartink - INFO - [CHARTINK-4493] üöÄ Preparing ChartInk API request
2025-04-19 02:53:24,493 - data.chartink - INFO - [CHARTINK-4493] Rate limiting: Sleeping for 1.89s
2025-04-19 02:53:26,384 - data.chartink - INFO - [CHARTINK-4493] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:53:26,614 - data.chartink - INFO - [CHARTINK-4493] ‚úÖ CSRF token obtained successfully
2025-04-19 02:53:26,614 - data.chartink - INFO - [CHARTINK-4493] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:53:26,614 - data.chartink - INFO - [CHARTINK-4493] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 02:53:26,614 - data.chartink - INFO - [CHARTINK-4493] ‚è±Ô∏è API call started at 02:53:26.614
2025-04-19 02:53:26,729 - data.chartink - INFO - [CHARTINK-4493] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 02:53:26,730 - data.chartink - INFO - [CHARTINK-4493] Response type: dict
2025-04-19 02:53:26,730 - data.chartink - INFO - [CHARTINK-4493] Data entries: 0
2025-04-19 02:53:26,730 - data.chartink - INFO - [CHARTINK-4493] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:53:26,733 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 02:53:26,733 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 02:53:26,733 - data.chartink - INFO - [CHARTINK-6733] üöÄ Preparing ChartInk API request
2025-04-19 02:53:26,733 - data.chartink - INFO - [CHARTINK-6733] Rate limiting: Sleeping for 1.88s
2025-04-19 02:53:28,620 - data.chartink - INFO - [CHARTINK-6733] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:53:28,847 - data.chartink - INFO - [CHARTINK-6733] ‚úÖ CSRF token obtained successfully
2025-04-19 02:53:28,848 - data.chartink - INFO - [CHARTINK-6733] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:53:28,848 - data.chartink - INFO - [CHARTINK-6733] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 02:53:28,848 - data.chartink - INFO - [CHARTINK-6733] ‚è±Ô∏è API call started at 02:53:28.848
2025-04-19 02:53:28,963 - data.chartink - INFO - [CHARTINK-6733] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 02:53:28,963 - data.chartink - INFO - [CHARTINK-6733] Response type: dict
2025-04-19 02:53:28,963 - data.chartink - INFO - [CHARTINK-6733] Data entries: 0
2025-04-19 02:53:28,964 - data.chartink - INFO - [CHARTINK-6733] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 02:53:28,966 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 02:53:28,966 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 02:53:28,966 - data.chartink - INFO - [CHARTINK-8966] üöÄ Preparing ChartInk API request
2025-04-19 02:53:28,966 - data.chartink - INFO - [CHARTINK-8966] Rate limiting: Sleeping for 1.88s
2025-04-19 02:53:30,853 - data.chartink - INFO - [CHARTINK-8966] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 02:53:31,117 - data.chartink - INFO - [CHARTINK-8966] ‚úÖ CSRF token obtained successfully
2025-04-19 02:53:31,118 - data.chartink - INFO - [CHARTINK-8966] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 02:53:31,118 - data.chartink - INFO - [CHARTINK-8966] Query: latest close > 0 and          latest volume > 100000
2025-04-19 02:53:31,118 - data.chartink - INFO - [CHARTINK-8966] ‚è±Ô∏è API call started at 02:53:31.118
2025-04-19 02:53:31,330 - data.chartink - INFO - [CHARTINK-8966] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 02:53:31,338 - data.chartink - INFO - [CHARTINK-8966] Response type: dict
2025-04-19 02:53:31,339 - data.chartink - INFO - [CHARTINK-8966] Data entries: 1220
2025-04-19 02:53:31,343 - data.chartink - INFO - [CHARTINK-8966] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 02:53:31,343 - data.chartink - INFO - [CHARTINK-8966] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 02:53:31,344 - data.chartink - INFO - [CHARTINK-8966] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 02:53:31,351 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 02:53:31,351 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 02:53:31,351 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 02:53:31,351 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:53:31,351 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 02:53:31,351 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 02:53:31,351 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 02:53:31,352 - ui_services.stocks.hot_stocks - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 02:53:31,352 - ui_services.stocks.hot_stocks - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 02:53:31,356 - ui_services.stocks.hot_stocks - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 02:53:31,356 - ui_services.stocks.hot_stocks - INFO - About to create DataFrame from 10 stocks
2025-04-19 02:53:31,356 - ui_services.stocks.hot_stocks - INFO - Sample stock data: {'symbol': 'POWERINDIA', 'company': 'Hitachi Energy India Ltd', 'name': 'Hitachi Energy India Ltd', 'pattern': 'Simple Test Query', 'per_chg': 4.03, 'change': '4.03%', 'volume': 119534, 'close': 13206.0, 'query_key': 'simple_test', 'signal': 'bullish'}
2025-04-19 02:53:31,356 - __main__ - ERROR - Swing page error: module 'streamlit.components' has no attribute 'html'
2025-04-19 03:02:13,854 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:02:18,599 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:02:18,599 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:02:18,599 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:02:18,599 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:02:18,599 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:02:18,825 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.23s
2025-04-19 03:02:18,826 - data.chartink - INFO - [CHARTINK-38826] üöÄ Preparing ChartInk API request
2025-04-19 03:02:18,826 - data.chartink - INFO - [CHARTINK-38826] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:02:19,042 - data.chartink - INFO - [CHARTINK-38826] ‚úÖ CSRF token obtained successfully
2025-04-19 03:02:19,042 - data.chartink - INFO - [CHARTINK-38826] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:02:19,042 - data.chartink - INFO - [CHARTINK-38826] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:02:19,042 - data.chartink - INFO - [CHARTINK-38826] ‚è±Ô∏è API call started at 03:02:19.042
2025-04-19 03:02:19,225 - data.chartink - INFO - [CHARTINK-38826] ‚¨áÔ∏è Received response in 0.18s with status code 200
2025-04-19 03:02:19,230 - data.chartink - INFO - [CHARTINK-38826] Response type: dict
2025-04-19 03:02:19,230 - data.chartink - INFO - [CHARTINK-38826] Data entries: 1220
2025-04-19 03:02:19,233 - data.chartink - INFO - [CHARTINK-38826] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:02:19,233 - data.chartink - INFO - [CHARTINK-38826] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:02:19,233 - data.chartink - INFO - [CHARTINK-38826] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:02:19,235 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.64s
2025-04-19 03:02:19,236 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:02:19,236 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:02:19,238 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:02:19,238 - data.top_stocks_service - INFO - [FETCH #41150] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:02:19,239 - data.top_stocks_service - INFO - [FETCH #41150] Using waterfall algorithm
2025-04-19 03:02:19,239 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:02:19,239 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:02:19,239 - data.chartink - INFO - [CHARTINK-39239] üöÄ Preparing ChartInk API request
2025-04-19 03:02:19,240 - data.chartink - INFO - [CHARTINK-39239] Rate limiting: Sleeping for 1.80s
2025-04-19 03:02:21,048 - data.chartink - INFO - [CHARTINK-39239] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:02:21,287 - data.chartink - INFO - [CHARTINK-39239] ‚úÖ CSRF token obtained successfully
2025-04-19 03:02:21,287 - data.chartink - INFO - [CHARTINK-39239] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:02:21,287 - data.chartink - INFO - [CHARTINK-39239] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:02:21,287 - data.chartink - INFO - [CHARTINK-39239] ‚è±Ô∏è API call started at 03:02:21.287
2025-04-19 03:02:21,400 - data.chartink - INFO - [CHARTINK-39239] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:02:21,400 - data.chartink - INFO - [CHARTINK-39239] Response type: dict
2025-04-19 03:02:21,401 - data.chartink - INFO - [CHARTINK-39239] Data entries: 0
2025-04-19 03:02:21,401 - data.chartink - INFO - [CHARTINK-39239] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:02:21,404 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:02:21,404 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:02:21,404 - data.chartink - INFO - [CHARTINK-41404] üöÄ Preparing ChartInk API request
2025-04-19 03:02:21,404 - data.chartink - INFO - [CHARTINK-41404] Rate limiting: Sleeping for 1.88s
2025-04-19 03:02:23,293 - data.chartink - INFO - [CHARTINK-41404] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:02:23,551 - data.chartink - INFO - [CHARTINK-41404] ‚úÖ CSRF token obtained successfully
2025-04-19 03:02:23,551 - data.chartink - INFO - [CHARTINK-41404] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:02:23,551 - data.chartink - INFO - [CHARTINK-41404] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:02:23,551 - data.chartink - INFO - [CHARTINK-41404] ‚è±Ô∏è API call started at 03:02:23.551
2025-04-19 03:02:23,667 - data.chartink - INFO - [CHARTINK-41404] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:02:23,668 - data.chartink - INFO - [CHARTINK-41404] Response type: dict
2025-04-19 03:02:23,668 - data.chartink - INFO - [CHARTINK-41404] Data entries: 0
2025-04-19 03:02:23,669 - data.chartink - INFO - [CHARTINK-41404] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:02:23,672 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:02:23,672 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:02:23,672 - data.chartink - INFO - [CHARTINK-43672] üöÄ Preparing ChartInk API request
2025-04-19 03:02:23,672 - data.chartink - INFO - [CHARTINK-43672] Rate limiting: Sleeping for 1.88s
2025-04-19 03:02:25,557 - data.chartink - INFO - [CHARTINK-43672] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:02:25,780 - data.chartink - INFO - [CHARTINK-43672] ‚úÖ CSRF token obtained successfully
2025-04-19 03:02:25,780 - data.chartink - INFO - [CHARTINK-43672] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:02:25,781 - data.chartink - INFO - [CHARTINK-43672] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:02:25,781 - data.chartink - INFO - [CHARTINK-43672] ‚è±Ô∏è API call started at 03:02:25.781
2025-04-19 03:02:25,886 - data.chartink - INFO - [CHARTINK-43672] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:02:25,887 - data.chartink - INFO - [CHARTINK-43672] Response type: dict
2025-04-19 03:02:25,887 - data.chartink - INFO - [CHARTINK-43672] Data entries: 0
2025-04-19 03:02:25,887 - data.chartink - INFO - [CHARTINK-43672] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:02:25,888 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:02:25,888 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:02:25,888 - data.chartink - INFO - [CHARTINK-45888] üöÄ Preparing ChartInk API request
2025-04-19 03:02:25,888 - data.chartink - INFO - [CHARTINK-45888] Rate limiting: Sleeping for 1.89s
2025-04-19 03:02:27,786 - data.chartink - INFO - [CHARTINK-45888] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:02:28,026 - data.chartink - INFO - [CHARTINK-45888] ‚úÖ CSRF token obtained successfully
2025-04-19 03:02:28,027 - data.chartink - INFO - [CHARTINK-45888] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:02:28,027 - data.chartink - INFO - [CHARTINK-45888] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:02:28,027 - data.chartink - INFO - [CHARTINK-45888] ‚è±Ô∏è API call started at 03:02:28.027
2025-04-19 03:02:28,143 - data.chartink - INFO - [CHARTINK-45888] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:02:28,144 - data.chartink - INFO - [CHARTINK-45888] Response type: dict
2025-04-19 03:02:28,145 - data.chartink - INFO - [CHARTINK-45888] Data entries: 0
2025-04-19 03:02:28,145 - data.chartink - INFO - [CHARTINK-45888] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:02:28,147 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:02:28,147 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:02:28,147 - data.chartink - INFO - [CHARTINK-48147] üöÄ Preparing ChartInk API request
2025-04-19 03:02:28,148 - data.chartink - INFO - [CHARTINK-48147] Rate limiting: Sleeping for 1.88s
2025-04-19 03:02:30,033 - data.chartink - INFO - [CHARTINK-48147] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:02:30,281 - data.chartink - INFO - [CHARTINK-48147] ‚úÖ CSRF token obtained successfully
2025-04-19 03:02:30,281 - data.chartink - INFO - [CHARTINK-48147] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:02:30,281 - data.chartink - INFO - [CHARTINK-48147] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:02:30,281 - data.chartink - INFO - [CHARTINK-48147] ‚è±Ô∏è API call started at 03:02:30.281
2025-04-19 03:02:30,502 - data.chartink - INFO - [CHARTINK-48147] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:02:30,506 - data.chartink - INFO - [CHARTINK-48147] Response type: dict
2025-04-19 03:02:30,506 - data.chartink - INFO - [CHARTINK-48147] Data entries: 1220
2025-04-19 03:02:30,509 - data.chartink - INFO - [CHARTINK-48147] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:02:30,509 - data.chartink - INFO - [CHARTINK-48147] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:02:30,510 - data.chartink - INFO - [CHARTINK-48147] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:02:30,517 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:02:30,517 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:02:30,517 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:02:30,517 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:02:30,517 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:02:30,518 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:02:30,518 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:02:30,518 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:02:30,518 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:02:30,522 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:02:30,522 - __main__ - ERROR - Swing page error: module 'streamlit.components' has no attribute 'html'
2025-04-19 03:06:05,911 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:06:08,416 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:06:08,418 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:06:08,418 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:06:08,418 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:06:08,418 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:06:08,653 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.24s
2025-04-19 03:06:08,655 - data.chartink - INFO - [CHARTINK-68655] üöÄ Preparing ChartInk API request
2025-04-19 03:06:08,655 - data.chartink - INFO - [CHARTINK-68655] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:06:08,900 - data.chartink - INFO - [CHARTINK-68655] ‚úÖ CSRF token obtained successfully
2025-04-19 03:06:08,900 - data.chartink - INFO - [CHARTINK-68655] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:06:08,900 - data.chartink - INFO - [CHARTINK-68655] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:06:08,901 - data.chartink - INFO - [CHARTINK-68655] ‚è±Ô∏è API call started at 03:06:08.900
2025-04-19 03:06:09,134 - data.chartink - INFO - [CHARTINK-68655] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 03:06:09,136 - data.chartink - INFO - [CHARTINK-68655] Response type: dict
2025-04-19 03:06:09,136 - data.chartink - INFO - [CHARTINK-68655] Data entries: 1220
2025-04-19 03:06:09,138 - data.chartink - INFO - [CHARTINK-68655] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:06:09,138 - data.chartink - INFO - [CHARTINK-68655] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:06:09,138 - data.chartink - INFO - [CHARTINK-68655] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:06:09,140 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.72s
2025-04-19 03:06:09,140 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:06:09,141 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:06:09,143 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:06:09,143 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:06:09,144 - data.top_stocks_service - INFO - [FETCH #62110] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:06:09,144 - data.top_stocks_service - INFO - [FETCH #62110] Using waterfall algorithm
2025-04-19 03:06:09,144 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:06:09,144 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:06:09,144 - data.chartink - INFO - [CHARTINK-69144] üöÄ Preparing ChartInk API request
2025-04-19 03:06:09,145 - data.chartink - INFO - [CHARTINK-69144] Rate limiting: Sleeping for 1.76s
2025-04-19 03:06:10,906 - data.chartink - INFO - [CHARTINK-69144] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:06:11,148 - data.chartink - INFO - [CHARTINK-69144] ‚úÖ CSRF token obtained successfully
2025-04-19 03:06:11,149 - data.chartink - INFO - [CHARTINK-69144] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:06:11,149 - data.chartink - INFO - [CHARTINK-69144] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:06:11,149 - data.chartink - INFO - [CHARTINK-69144] ‚è±Ô∏è API call started at 03:06:11.149
2025-04-19 03:06:11,259 - data.chartink - INFO - [CHARTINK-69144] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:06:11,259 - data.chartink - INFO - [CHARTINK-69144] Response type: dict
2025-04-19 03:06:11,259 - data.chartink - INFO - [CHARTINK-69144] Data entries: 0
2025-04-19 03:06:11,259 - data.chartink - INFO - [CHARTINK-69144] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:06:11,261 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:06:11,261 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:06:11,261 - data.chartink - INFO - [CHARTINK-71261] üöÄ Preparing ChartInk API request
2025-04-19 03:06:11,261 - data.chartink - INFO - [CHARTINK-71261] Rate limiting: Sleeping for 1.89s
2025-04-19 03:06:13,156 - data.chartink - INFO - [CHARTINK-71261] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:06:13,448 - data.chartink - INFO - [CHARTINK-71261] ‚úÖ CSRF token obtained successfully
2025-04-19 03:06:13,448 - data.chartink - INFO - [CHARTINK-71261] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:06:13,448 - data.chartink - INFO - [CHARTINK-71261] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:06:13,448 - data.chartink - INFO - [CHARTINK-71261] ‚è±Ô∏è API call started at 03:06:13.448
2025-04-19 03:06:13,561 - data.chartink - INFO - [CHARTINK-71261] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:06:13,561 - data.chartink - INFO - [CHARTINK-71261] Response type: dict
2025-04-19 03:06:13,561 - data.chartink - INFO - [CHARTINK-71261] Data entries: 0
2025-04-19 03:06:13,561 - data.chartink - INFO - [CHARTINK-71261] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:06:13,563 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:06:13,563 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:06:13,563 - data.chartink - INFO - [CHARTINK-73563] üöÄ Preparing ChartInk API request
2025-04-19 03:06:13,563 - data.chartink - INFO - [CHARTINK-73563] Rate limiting: Sleeping for 1.88s
2025-04-19 03:06:15,454 - data.chartink - INFO - [CHARTINK-73563] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:06:15,747 - data.chartink - INFO - [CHARTINK-73563] ‚úÖ CSRF token obtained successfully
2025-04-19 03:06:15,748 - data.chartink - INFO - [CHARTINK-73563] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:06:15,748 - data.chartink - INFO - [CHARTINK-73563] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:06:15,748 - data.chartink - INFO - [CHARTINK-73563] ‚è±Ô∏è API call started at 03:06:15.748
2025-04-19 03:06:15,861 - data.chartink - INFO - [CHARTINK-73563] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:06:15,862 - data.chartink - INFO - [CHARTINK-73563] Response type: dict
2025-04-19 03:06:15,862 - data.chartink - INFO - [CHARTINK-73563] Data entries: 0
2025-04-19 03:06:15,863 - data.chartink - INFO - [CHARTINK-73563] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:06:15,866 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:06:15,866 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:06:15,866 - data.chartink - INFO - [CHARTINK-75866] üöÄ Preparing ChartInk API request
2025-04-19 03:06:15,866 - data.chartink - INFO - [CHARTINK-75866] Rate limiting: Sleeping for 1.88s
2025-04-19 03:06:17,749 - data.chartink - INFO - [CHARTINK-75866] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:06:18,016 - data.chartink - INFO - [CHARTINK-75866] ‚úÖ CSRF token obtained successfully
2025-04-19 03:06:18,016 - data.chartink - INFO - [CHARTINK-75866] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:06:18,016 - data.chartink - INFO - [CHARTINK-75866] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:06:18,016 - data.chartink - INFO - [CHARTINK-75866] ‚è±Ô∏è API call started at 03:06:18.016
2025-04-19 03:06:18,122 - data.chartink - INFO - [CHARTINK-75866] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:06:18,123 - data.chartink - INFO - [CHARTINK-75866] Response type: dict
2025-04-19 03:06:18,123 - data.chartink - INFO - [CHARTINK-75866] Data entries: 0
2025-04-19 03:06:18,124 - data.chartink - INFO - [CHARTINK-75866] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:06:18,126 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:06:18,126 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:06:18,126 - data.chartink - INFO - [CHARTINK-78126] üöÄ Preparing ChartInk API request
2025-04-19 03:06:18,126 - data.chartink - INFO - [CHARTINK-78126] Rate limiting: Sleeping for 1.89s
2025-04-19 03:06:20,018 - data.chartink - INFO - [CHARTINK-78126] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:06:20,256 - data.chartink - INFO - [CHARTINK-78126] ‚úÖ CSRF token obtained successfully
2025-04-19 03:06:20,257 - data.chartink - INFO - [CHARTINK-78126] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:06:20,257 - data.chartink - INFO - [CHARTINK-78126] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:06:20,257 - data.chartink - INFO - [CHARTINK-78126] ‚è±Ô∏è API call started at 03:06:20.257
2025-04-19 03:06:20,477 - data.chartink - INFO - [CHARTINK-78126] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:06:20,481 - data.chartink - INFO - [CHARTINK-78126] Response type: dict
2025-04-19 03:06:20,481 - data.chartink - INFO - [CHARTINK-78126] Data entries: 1220
2025-04-19 03:06:20,484 - data.chartink - INFO - [CHARTINK-78126] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:06:20,484 - data.chartink - INFO - [CHARTINK-78126] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:06:20,485 - data.chartink - INFO - [CHARTINK-78126] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:06:20,492 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:06:20,492 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:06:20,492 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:06:20,492 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:06:20,492 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:06:20,493 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:06:20,493 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:06:20,493 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:06:20,493 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:06:20,496 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:06:20,497 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:11:26,739 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:11:28,365 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:11:28,365 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:11:28,365 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:11:28,365 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:11:28,365 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:11:28,605 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.24s
2025-04-19 03:11:28,607 - data.chartink - INFO - [CHARTINK-88607] üöÄ Preparing ChartInk API request
2025-04-19 03:11:28,608 - data.chartink - INFO - [CHARTINK-88607] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:11:28,881 - data.chartink - INFO - [CHARTINK-88607] ‚úÖ CSRF token obtained successfully
2025-04-19 03:11:28,881 - data.chartink - INFO - [CHARTINK-88607] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:11:28,881 - data.chartink - INFO - [CHARTINK-88607] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:11:28,881 - data.chartink - INFO - [CHARTINK-88607] ‚è±Ô∏è API call started at 03:11:28.881
2025-04-19 03:11:29,152 - data.chartink - INFO - [CHARTINK-88607] ‚¨áÔ∏è Received response in 0.27s with status code 200
2025-04-19 03:11:29,153 - data.chartink - INFO - [CHARTINK-88607] Response type: dict
2025-04-19 03:11:29,153 - data.chartink - INFO - [CHARTINK-88607] Data entries: 1220
2025-04-19 03:11:29,155 - data.chartink - INFO - [CHARTINK-88607] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:11:29,155 - data.chartink - INFO - [CHARTINK-88607] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:11:29,156 - data.chartink - INFO - [CHARTINK-88607] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:11:29,159 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.79s
2025-04-19 03:11:29,159 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:11:29,160 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:11:29,161 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:11:29,161 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:11:29,161 - data.top_stocks_service - INFO - [FETCH #37224] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:11:29,161 - data.top_stocks_service - INFO - [FETCH #37224] Using waterfall algorithm
2025-04-19 03:11:29,161 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:11:29,161 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:11:29,162 - data.chartink - INFO - [CHARTINK-89162] üöÄ Preparing ChartInk API request
2025-04-19 03:11:29,162 - data.chartink - INFO - [CHARTINK-89162] Rate limiting: Sleeping for 1.72s
2025-04-19 03:11:30,887 - data.chartink - INFO - [CHARTINK-89162] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:11:31,104 - data.chartink - INFO - [CHARTINK-89162] ‚úÖ CSRF token obtained successfully
2025-04-19 03:11:31,104 - data.chartink - INFO - [CHARTINK-89162] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:11:31,104 - data.chartink - INFO - [CHARTINK-89162] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:11:31,104 - data.chartink - INFO - [CHARTINK-89162] ‚è±Ô∏è API call started at 03:11:31.104
2025-04-19 03:11:31,208 - data.chartink - INFO - [CHARTINK-89162] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:11:31,208 - data.chartink - INFO - [CHARTINK-89162] Response type: dict
2025-04-19 03:11:31,209 - data.chartink - INFO - [CHARTINK-89162] Data entries: 0
2025-04-19 03:11:31,209 - data.chartink - INFO - [CHARTINK-89162] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:11:31,210 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:11:31,210 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:11:31,210 - data.chartink - INFO - [CHARTINK-91210] üöÄ Preparing ChartInk API request
2025-04-19 03:11:31,210 - data.chartink - INFO - [CHARTINK-91210] Rate limiting: Sleeping for 1.89s
2025-04-19 03:11:33,110 - data.chartink - INFO - [CHARTINK-91210] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:11:33,335 - data.chartink - INFO - [CHARTINK-91210] ‚úÖ CSRF token obtained successfully
2025-04-19 03:11:33,335 - data.chartink - INFO - [CHARTINK-91210] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:11:33,336 - data.chartink - INFO - [CHARTINK-91210] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:11:33,336 - data.chartink - INFO - [CHARTINK-91210] ‚è±Ô∏è API call started at 03:11:33.336
2025-04-19 03:11:33,453 - data.chartink - INFO - [CHARTINK-91210] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:11:33,453 - data.chartink - INFO - [CHARTINK-91210] Response type: dict
2025-04-19 03:11:33,453 - data.chartink - INFO - [CHARTINK-91210] Data entries: 0
2025-04-19 03:11:33,455 - data.chartink - INFO - [CHARTINK-91210] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:11:33,457 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:11:33,457 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:11:33,457 - data.chartink - INFO - [CHARTINK-93457] üöÄ Preparing ChartInk API request
2025-04-19 03:11:33,457 - data.chartink - INFO - [CHARTINK-93457] Rate limiting: Sleeping for 1.88s
2025-04-19 03:11:35,341 - data.chartink - INFO - [CHARTINK-93457] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:11:35,615 - data.chartink - INFO - [CHARTINK-93457] ‚úÖ CSRF token obtained successfully
2025-04-19 03:11:35,616 - data.chartink - INFO - [CHARTINK-93457] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:11:35,616 - data.chartink - INFO - [CHARTINK-93457] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:11:35,616 - data.chartink - INFO - [CHARTINK-93457] ‚è±Ô∏è API call started at 03:11:35.616
2025-04-19 03:11:35,723 - data.chartink - INFO - [CHARTINK-93457] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:11:35,723 - data.chartink - INFO - [CHARTINK-93457] Response type: dict
2025-04-19 03:11:35,724 - data.chartink - INFO - [CHARTINK-93457] Data entries: 0
2025-04-19 03:11:35,724 - data.chartink - INFO - [CHARTINK-93457] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:11:35,727 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:11:35,727 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:11:35,727 - data.chartink - INFO - [CHARTINK-95727] üöÄ Preparing ChartInk API request
2025-04-19 03:11:35,727 - data.chartink - INFO - [CHARTINK-95727] Rate limiting: Sleeping for 1.89s
2025-04-19 03:11:37,620 - data.chartink - INFO - [CHARTINK-95727] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:11:37,873 - data.chartink - INFO - [CHARTINK-95727] ‚úÖ CSRF token obtained successfully
2025-04-19 03:11:37,873 - data.chartink - INFO - [CHARTINK-95727] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:11:37,874 - data.chartink - INFO - [CHARTINK-95727] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:11:37,874 - data.chartink - INFO - [CHARTINK-95727] ‚è±Ô∏è API call started at 03:11:37.874
2025-04-19 03:11:37,993 - data.chartink - INFO - [CHARTINK-95727] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:11:37,994 - data.chartink - INFO - [CHARTINK-95727] Response type: dict
2025-04-19 03:11:37,994 - data.chartink - INFO - [CHARTINK-95727] Data entries: 0
2025-04-19 03:11:37,998 - data.chartink - INFO - [CHARTINK-95727] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:11:38,002 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:11:38,003 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:11:38,003 - data.chartink - INFO - [CHARTINK-98003] üöÄ Preparing ChartInk API request
2025-04-19 03:11:38,003 - data.chartink - INFO - [CHARTINK-98003] Rate limiting: Sleeping for 1.87s
2025-04-19 03:11:39,877 - data.chartink - INFO - [CHARTINK-98003] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:11:40,121 - data.chartink - INFO - [CHARTINK-98003] ‚úÖ CSRF token obtained successfully
2025-04-19 03:11:40,121 - data.chartink - INFO - [CHARTINK-98003] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:11:40,121 - data.chartink - INFO - [CHARTINK-98003] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:11:40,121 - data.chartink - INFO - [CHARTINK-98003] ‚è±Ô∏è API call started at 03:11:40.121
2025-04-19 03:11:40,347 - data.chartink - INFO - [CHARTINK-98003] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 03:11:40,351 - data.chartink - INFO - [CHARTINK-98003] Response type: dict
2025-04-19 03:11:40,351 - data.chartink - INFO - [CHARTINK-98003] Data entries: 1220
2025-04-19 03:11:40,354 - data.chartink - INFO - [CHARTINK-98003] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:11:40,355 - data.chartink - INFO - [CHARTINK-98003] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:11:40,356 - data.chartink - INFO - [CHARTINK-98003] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:11:40,363 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:11:40,363 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:11:40,363 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:11:40,363 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:11:40,363 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:11:40,363 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:11:40,363 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:11:40,363 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:11:40,364 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:11:40,371 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:11:40,373 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:11:54,319 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:11:54,319 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:11:54,319 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:11:54,319 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:11:54,319 - data.chartink - INFO - Using cached results for query (age: 25.2s)
2025-04-19 03:11:54,320 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:11:54,321 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:11:54,321 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:11:54,325 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:11:54,325 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:11:59,983 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:11:59,983 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:11:59,983 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:11:59,983 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:11:59,983 - data.chartink - INFO - Cache expired for query (age: 30.8s)
2025-04-19 03:11:59,983 - data.chartink - INFO - [CHARTINK-19983] üöÄ Preparing ChartInk API request
2025-04-19 03:11:59,984 - data.chartink - INFO - [CHARTINK-19983] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:12:00,204 - data.chartink - INFO - [CHARTINK-19983] ‚úÖ CSRF token obtained successfully
2025-04-19 03:12:00,205 - data.chartink - INFO - [CHARTINK-19983] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:12:00,205 - data.chartink - INFO - [CHARTINK-19983] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:12:00,205 - data.chartink - INFO - [CHARTINK-19983] ‚è±Ô∏è API call started at 03:12:00.205
2025-04-19 03:12:00,425 - data.chartink - INFO - [CHARTINK-19983] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:12:00,426 - data.chartink - INFO - [CHARTINK-19983] Response type: dict
2025-04-19 03:12:00,426 - data.chartink - INFO - [CHARTINK-19983] Data entries: 1220
2025-04-19 03:12:00,428 - data.chartink - INFO - [CHARTINK-19983] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:12:00,428 - data.chartink - INFO - [CHARTINK-19983] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:12:00,428 - data.chartink - INFO - [CHARTINK-19983] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:12:00,430 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.45s
2025-04-19 03:12:00,430 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:12:00,431 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:12:00,433 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:12:00,434 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:12:00,936 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:12:00,937 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:12:00,937 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:12:00,937 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:12:00,937 - data.chartink - INFO - Using cached results for query (age: 0.5s)
2025-04-19 03:12:00,937 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:12:00,937 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:12:00,937 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:12:00,940 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:12:00,940 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:12:01,821 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:12:01,822 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:12:01,822 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:12:01,822 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:12:01,822 - data.chartink - INFO - Using cached results for query (age: 1.4s)
2025-04-19 03:12:01,822 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:12:01,823 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:12:01,823 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:12:01,825 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:12:01,826 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:12:03,020 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:12:03,020 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:12:03,020 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:12:03,021 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:12:03,021 - data.chartink - INFO - Using cached results for query (age: 2.6s)
2025-04-19 03:12:03,021 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:12:03,021 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:12:03,021 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:12:03,024 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:12:03,025 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:12:04,032 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:12:04,032 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:12:04,033 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:12:04,033 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:12:04,033 - data.chartink - INFO - Using cached results for query (age: 3.6s)
2025-04-19 03:12:04,033 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:12:04,033 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:12:04,033 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:12:04,036 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:12:04,036 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:12:05,091 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:12:05,091 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:12:05,091 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:12:05,092 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:12:05,092 - data.chartink - INFO - Using cached results for query (age: 4.7s)
2025-04-19 03:12:05,092 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:12:05,092 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:12:05,092 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:12:05,094 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:12:05,095 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:12:05,941 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:12:05,941 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:12:05,941 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:12:05,942 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:12:05,942 - data.chartink - INFO - Using cached results for query (age: 5.5s)
2025-04-19 03:12:05,942 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:12:05,942 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:12:05,942 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:12:05,946 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:12:05,946 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:12:08,447 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:12:08,447 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:12:08,447 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:12:08,447 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:12:08,447 - data.chartink - INFO - Using cached results for query (age: 8.0s)
2025-04-19 03:12:08,448 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:12:08,448 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:12:08,448 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:12:08,450 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:12:08,450 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:14:15,237 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:14:16,925 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:14:16,981 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:14:16,982 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:14:16,982 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:14:16,982 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:14:17,189 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.21s
2025-04-19 03:14:17,190 - data.chartink - INFO - [CHARTINK-57190] üöÄ Preparing ChartInk API request
2025-04-19 03:14:17,190 - data.chartink - INFO - [CHARTINK-57190] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:14:17,425 - data.chartink - INFO - [CHARTINK-57190] ‚úÖ CSRF token obtained successfully
2025-04-19 03:14:17,425 - data.chartink - INFO - [CHARTINK-57190] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:14:17,425 - data.chartink - INFO - [CHARTINK-57190] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:14:17,425 - data.chartink - INFO - [CHARTINK-57190] ‚è±Ô∏è API call started at 03:14:17.425
2025-04-19 03:14:17,635 - data.chartink - INFO - [CHARTINK-57190] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 03:14:17,636 - data.chartink - INFO - [CHARTINK-57190] Response type: dict
2025-04-19 03:14:17,637 - data.chartink - INFO - [CHARTINK-57190] Data entries: 1225
2025-04-19 03:14:17,639 - data.chartink - INFO - [CHARTINK-57190] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 03:14:17,639 - data.chartink - INFO - [CHARTINK-57190] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:14:17,639 - data.chartink - INFO - [CHARTINK-57190] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:14:17,641 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.66s
2025-04-19 03:14:17,641 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:14:17,641 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:14:17,642 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:14:17,642 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:14:17,642 - data.top_stocks_service - INFO - [FETCH #93528] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:14:17,643 - data.top_stocks_service - INFO - [FETCH #93528] Using waterfall algorithm
2025-04-19 03:14:17,643 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:14:17,643 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:14:17,643 - data.chartink - INFO - [CHARTINK-57643] üöÄ Preparing ChartInk API request
2025-04-19 03:14:17,643 - data.chartink - INFO - [CHARTINK-57643] Rate limiting: Sleeping for 1.78s
2025-04-19 03:14:19,432 - data.chartink - INFO - [CHARTINK-57643] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:14:19,680 - data.chartink - INFO - [CHARTINK-57643] ‚úÖ CSRF token obtained successfully
2025-04-19 03:14:19,680 - data.chartink - INFO - [CHARTINK-57643] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:14:19,681 - data.chartink - INFO - [CHARTINK-57643] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:14:19,681 - data.chartink - INFO - [CHARTINK-57643] ‚è±Ô∏è API call started at 03:14:19.681
2025-04-19 03:14:19,791 - data.chartink - INFO - [CHARTINK-57643] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:14:19,792 - data.chartink - INFO - [CHARTINK-57643] Response type: dict
2025-04-19 03:14:19,792 - data.chartink - INFO - [CHARTINK-57643] Data entries: 0
2025-04-19 03:14:19,793 - data.chartink - INFO - [CHARTINK-57643] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:14:19,795 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:14:19,796 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:14:19,796 - data.chartink - INFO - [CHARTINK-59796] üöÄ Preparing ChartInk API request
2025-04-19 03:14:19,796 - data.chartink - INFO - [CHARTINK-59796] Rate limiting: Sleeping for 1.88s
2025-04-19 03:14:21,686 - data.chartink - INFO - [CHARTINK-59796] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:14:21,910 - data.chartink - INFO - [CHARTINK-59796] ‚úÖ CSRF token obtained successfully
2025-04-19 03:14:21,910 - data.chartink - INFO - [CHARTINK-59796] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:14:21,910 - data.chartink - INFO - [CHARTINK-59796] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:14:21,910 - data.chartink - INFO - [CHARTINK-59796] ‚è±Ô∏è API call started at 03:14:21.910
2025-04-19 03:14:22,012 - data.chartink - INFO - [CHARTINK-59796] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:14:22,012 - data.chartink - INFO - [CHARTINK-59796] Response type: dict
2025-04-19 03:14:22,012 - data.chartink - INFO - [CHARTINK-59796] Data entries: 0
2025-04-19 03:14:22,013 - data.chartink - INFO - [CHARTINK-59796] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:14:22,015 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:14:22,015 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:14:22,015 - data.chartink - INFO - [CHARTINK-62015] üöÄ Preparing ChartInk API request
2025-04-19 03:14:22,015 - data.chartink - INFO - [CHARTINK-62015] Rate limiting: Sleeping for 1.90s
2025-04-19 03:14:23,916 - data.chartink - INFO - [CHARTINK-62015] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:14:24,151 - data.chartink - INFO - [CHARTINK-62015] ‚úÖ CSRF token obtained successfully
2025-04-19 03:14:24,151 - data.chartink - INFO - [CHARTINK-62015] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:14:24,151 - data.chartink - INFO - [CHARTINK-62015] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:14:24,151 - data.chartink - INFO - [CHARTINK-62015] ‚è±Ô∏è API call started at 03:14:24.151
2025-04-19 03:14:24,263 - data.chartink - INFO - [CHARTINK-62015] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:14:24,263 - data.chartink - INFO - [CHARTINK-62015] Response type: dict
2025-04-19 03:14:24,263 - data.chartink - INFO - [CHARTINK-62015] Data entries: 0
2025-04-19 03:14:24,264 - data.chartink - INFO - [CHARTINK-62015] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:14:24,267 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:14:24,267 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:14:24,268 - data.chartink - INFO - [CHARTINK-64268] üöÄ Preparing ChartInk API request
2025-04-19 03:14:24,268 - data.chartink - INFO - [CHARTINK-64268] Rate limiting: Sleeping for 1.88s
2025-04-19 03:14:26,156 - data.chartink - INFO - [CHARTINK-64268] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:14:26,491 - data.chartink - INFO - [CHARTINK-64268] ‚úÖ CSRF token obtained successfully
2025-04-19 03:14:26,492 - data.chartink - INFO - [CHARTINK-64268] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:14:26,492 - data.chartink - INFO - [CHARTINK-64268] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:14:26,492 - data.chartink - INFO - [CHARTINK-64268] ‚è±Ô∏è API call started at 03:14:26.492
2025-04-19 03:14:26,609 - data.chartink - INFO - [CHARTINK-64268] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:14:26,609 - data.chartink - INFO - [CHARTINK-64268] Response type: dict
2025-04-19 03:14:26,609 - data.chartink - INFO - [CHARTINK-64268] Data entries: 0
2025-04-19 03:14:26,610 - data.chartink - INFO - [CHARTINK-64268] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:14:26,612 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:14:26,612 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:14:26,612 - data.chartink - INFO - [CHARTINK-66612] üöÄ Preparing ChartInk API request
2025-04-19 03:14:26,613 - data.chartink - INFO - [CHARTINK-66612] Rate limiting: Sleeping for 1.88s
2025-04-19 03:14:28,497 - data.chartink - INFO - [CHARTINK-66612] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:14:28,736 - data.chartink - INFO - [CHARTINK-66612] ‚úÖ CSRF token obtained successfully
2025-04-19 03:14:28,736 - data.chartink - INFO - [CHARTINK-66612] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:14:28,736 - data.chartink - INFO - [CHARTINK-66612] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:14:28,736 - data.chartink - INFO - [CHARTINK-66612] ‚è±Ô∏è API call started at 03:14:28.736
2025-04-19 03:14:29,127 - data.chartink - INFO - [CHARTINK-66612] ‚¨áÔ∏è Received response in 0.39s with status code 200
2025-04-19 03:14:29,132 - data.chartink - INFO - [CHARTINK-66612] Response type: dict
2025-04-19 03:14:29,132 - data.chartink - INFO - [CHARTINK-66612] Data entries: 1220
2025-04-19 03:14:29,136 - data.chartink - INFO - [CHARTINK-66612] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:14:29,136 - data.chartink - INFO - [CHARTINK-66612] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:14:29,137 - data.chartink - INFO - [CHARTINK-66612] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:14:29,145 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:14:29,145 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:14:29,146 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:14:29,146 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:14:29,146 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:14:29,146 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:14:29,146 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:14:29,146 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:14:29,146 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:14:29,149 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:14:29,157 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:14:29,160 - __main__ - ERROR - Swing page error: There are multiple widgets with the same `key='buy_POWERINDIA'`.

To fix this, please make sure that the `key` argument is unique for each
widget you create.
2025-04-19 03:16:20,128 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:16:20,133 - __main__ - ERROR - Error importing page modules: cannot import name 'create_hidden_buttons' from 'ui_services.stocks.hot_stocks_table' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/ui_services/stocks/hot_stocks_table.py)
2025-04-19 03:16:21,779 - __main__ - ERROR - Error importing page modules: cannot import name 'create_hidden_buttons' from 'ui_services.stocks.hot_stocks_table' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/ui_services/stocks/hot_stocks_table.py)
2025-04-19 03:16:22,463 - __main__ - ERROR - Error importing page modules: cannot import name 'create_hidden_buttons' from 'ui_services.stocks.hot_stocks_table' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/ui_services/stocks/hot_stocks_table.py)
2025-04-19 03:16:22,463 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 03:16:22,463 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 03:16:22,648 - __main__ - ERROR - Error importing page modules: cannot import name 'create_hidden_buttons' from 'ui_services.stocks.hot_stocks_table' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/ui_services/stocks/hot_stocks_table.py)
2025-04-19 03:16:22,652 - __main__ - ERROR - Swing page error: name 'show_swing_page' is not defined
2025-04-19 03:16:24,547 - __main__ - ERROR - Error importing page modules: cannot import name 'create_hidden_buttons' from 'ui_services.stocks.hot_stocks_table' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/ui_services/stocks/hot_stocks_table.py)
2025-04-19 03:16:24,548 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 03:16:24,549 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 03:16:24,549 - __main__ - ERROR - Error importing page modules: cannot import name 'show_swing_page' from 'dashboard.page_modules.swing' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/dashboard/page_modules/swing.py)
2025-04-19 03:16:24,635 - __main__ - ERROR - Error importing page modules: cannot import name 'create_hidden_buttons' from 'ui_services.stocks.hot_stocks_table' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/ui_services/stocks/hot_stocks_table.py)
2025-04-19 03:16:27,760 - __main__ - ERROR - Error importing page modules: cannot import name 'create_hidden_buttons' from 'ui_services.stocks.hot_stocks_table' (/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/ui_services/stocks/hot_stocks_table.py)
2025-04-19 03:18:19,175 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:18:21,213 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:18:21,213 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:18:21,213 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:18:21,213 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:18:21,213 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:18:21,561 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.35s
2025-04-19 03:18:21,562 - data.chartink - INFO - [CHARTINK-1562] üöÄ Preparing ChartInk API request
2025-04-19 03:18:21,562 - data.chartink - INFO - [CHARTINK-1562] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:18:21,782 - data.chartink - INFO - [CHARTINK-1562] ‚úÖ CSRF token obtained successfully
2025-04-19 03:18:21,782 - data.chartink - INFO - [CHARTINK-1562] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:18:21,782 - data.chartink - INFO - [CHARTINK-1562] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:18:21,782 - data.chartink - INFO - [CHARTINK-1562] ‚è±Ô∏è API call started at 03:18:21.782
2025-04-19 03:18:22,024 - data.chartink - INFO - [CHARTINK-1562] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 03:18:22,025 - data.chartink - INFO - [CHARTINK-1562] Response type: dict
2025-04-19 03:18:22,025 - data.chartink - INFO - [CHARTINK-1562] Data entries: 1220
2025-04-19 03:18:22,027 - data.chartink - INFO - [CHARTINK-1562] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:18:22,027 - data.chartink - INFO - [CHARTINK-1562] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:18:22,027 - data.chartink - INFO - [CHARTINK-1562] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:18:22,029 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.82s
2025-04-19 03:18:22,030 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:18:22,030 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:18:22,032 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:18:22,032 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:18:22,032 - data.top_stocks_service - INFO - [FETCH #78123] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:18:22,032 - data.top_stocks_service - INFO - [FETCH #78123] Using waterfall algorithm
2025-04-19 03:18:22,032 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:18:22,032 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:18:22,032 - data.chartink - INFO - [CHARTINK-2032] üöÄ Preparing ChartInk API request
2025-04-19 03:18:22,032 - data.chartink - INFO - [CHARTINK-2032] Rate limiting: Sleeping for 1.75s
2025-04-19 03:18:23,787 - data.chartink - INFO - [CHARTINK-2032] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:18:24,018 - data.chartink - INFO - [CHARTINK-2032] ‚úÖ CSRF token obtained successfully
2025-04-19 03:18:24,018 - data.chartink - INFO - [CHARTINK-2032] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:18:24,018 - data.chartink - INFO - [CHARTINK-2032] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:18:24,018 - data.chartink - INFO - [CHARTINK-2032] ‚è±Ô∏è API call started at 03:18:24.018
2025-04-19 03:18:24,125 - data.chartink - INFO - [CHARTINK-2032] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:18:24,126 - data.chartink - INFO - [CHARTINK-2032] Response type: dict
2025-04-19 03:18:24,126 - data.chartink - INFO - [CHARTINK-2032] Data entries: 0
2025-04-19 03:18:24,127 - data.chartink - INFO - [CHARTINK-2032] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:18:24,129 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:18:24,129 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:18:24,130 - data.chartink - INFO - [CHARTINK-4129] üöÄ Preparing ChartInk API request
2025-04-19 03:18:24,130 - data.chartink - INFO - [CHARTINK-4129] Rate limiting: Sleeping for 1.89s
2025-04-19 03:18:26,024 - data.chartink - INFO - [CHARTINK-4129] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:18:26,245 - data.chartink - INFO - [CHARTINK-4129] ‚úÖ CSRF token obtained successfully
2025-04-19 03:18:26,245 - data.chartink - INFO - [CHARTINK-4129] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:18:26,245 - data.chartink - INFO - [CHARTINK-4129] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:18:26,245 - data.chartink - INFO - [CHARTINK-4129] ‚è±Ô∏è API call started at 03:18:26.245
2025-04-19 03:18:26,365 - data.chartink - INFO - [CHARTINK-4129] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:18:26,365 - data.chartink - INFO - [CHARTINK-4129] Response type: dict
2025-04-19 03:18:26,365 - data.chartink - INFO - [CHARTINK-4129] Data entries: 0
2025-04-19 03:18:26,366 - data.chartink - INFO - [CHARTINK-4129] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:18:26,368 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:18:26,368 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:18:26,368 - data.chartink - INFO - [CHARTINK-6368] üöÄ Preparing ChartInk API request
2025-04-19 03:18:26,368 - data.chartink - INFO - [CHARTINK-6368] Rate limiting: Sleeping for 1.88s
2025-04-19 03:18:28,249 - data.chartink - INFO - [CHARTINK-6368] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:18:28,491 - data.chartink - INFO - [CHARTINK-6368] ‚úÖ CSRF token obtained successfully
2025-04-19 03:18:28,491 - data.chartink - INFO - [CHARTINK-6368] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:18:28,491 - data.chartink - INFO - [CHARTINK-6368] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:18:28,491 - data.chartink - INFO - [CHARTINK-6368] ‚è±Ô∏è API call started at 03:18:28.491
2025-04-19 03:18:28,604 - data.chartink - INFO - [CHARTINK-6368] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:18:28,606 - data.chartink - INFO - [CHARTINK-6368] Response type: dict
2025-04-19 03:18:28,606 - data.chartink - INFO - [CHARTINK-6368] Data entries: 0
2025-04-19 03:18:28,607 - data.chartink - INFO - [CHARTINK-6368] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:18:28,610 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:18:28,610 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:18:28,610 - data.chartink - INFO - [CHARTINK-8610] üöÄ Preparing ChartInk API request
2025-04-19 03:18:28,610 - data.chartink - INFO - [CHARTINK-8610] Rate limiting: Sleeping for 1.88s
2025-04-19 03:18:30,494 - data.chartink - INFO - [CHARTINK-8610] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:18:30,731 - data.chartink - INFO - [CHARTINK-8610] ‚úÖ CSRF token obtained successfully
2025-04-19 03:18:30,731 - data.chartink - INFO - [CHARTINK-8610] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:18:30,732 - data.chartink - INFO - [CHARTINK-8610] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:18:30,732 - data.chartink - INFO - [CHARTINK-8610] ‚è±Ô∏è API call started at 03:18:30.732
2025-04-19 03:18:30,835 - data.chartink - INFO - [CHARTINK-8610] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:18:30,835 - data.chartink - INFO - [CHARTINK-8610] Response type: dict
2025-04-19 03:18:30,835 - data.chartink - INFO - [CHARTINK-8610] Data entries: 0
2025-04-19 03:18:30,835 - data.chartink - INFO - [CHARTINK-8610] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:18:30,836 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:18:30,836 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:18:30,836 - data.chartink - INFO - [CHARTINK-10836] üöÄ Preparing ChartInk API request
2025-04-19 03:18:30,836 - data.chartink - INFO - [CHARTINK-10836] Rate limiting: Sleeping for 1.90s
2025-04-19 03:18:32,737 - data.chartink - INFO - [CHARTINK-10836] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:18:32,976 - data.chartink - INFO - [CHARTINK-10836] ‚úÖ CSRF token obtained successfully
2025-04-19 03:18:32,977 - data.chartink - INFO - [CHARTINK-10836] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:18:32,977 - data.chartink - INFO - [CHARTINK-10836] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:18:32,977 - data.chartink - INFO - [CHARTINK-10836] ‚è±Ô∏è API call started at 03:18:32.977
2025-04-19 03:18:33,202 - data.chartink - INFO - [CHARTINK-10836] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 03:18:33,208 - data.chartink - INFO - [CHARTINK-10836] Response type: dict
2025-04-19 03:18:33,208 - data.chartink - INFO - [CHARTINK-10836] Data entries: 1220
2025-04-19 03:18:33,213 - data.chartink - INFO - [CHARTINK-10836] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:18:33,213 - data.chartink - INFO - [CHARTINK-10836] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:18:33,214 - data.chartink - INFO - [CHARTINK-10836] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:18:33,224 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:18:33,225 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:18:33,225 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:18:33,225 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:18:33,225 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:18:33,225 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:18:33,225 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:18:33,225 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:18:33,226 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:18:33,228 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:18:33,232 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:18:33,235 - __main__ - ERROR - Swing page error: There are multiple widgets with the same `key='buy_POWERINDIA_c1fe4561-a32b-40ef-8f74-0d2f8d7b3301'`.

To fix this, please make sure that the `key` argument is unique for each
widget you create.
2025-04-19 03:20:00,225 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:20:01,924 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:20:01,925 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:20:01,925 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:20:01,925 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:20:01,925 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:20:02,129 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.20s
2025-04-19 03:20:02,131 - data.chartink - INFO - [CHARTINK-2131] üöÄ Preparing ChartInk API request
2025-04-19 03:20:02,131 - data.chartink - INFO - [CHARTINK-2131] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:20:02,354 - data.chartink - INFO - [CHARTINK-2131] ‚úÖ CSRF token obtained successfully
2025-04-19 03:20:02,354 - data.chartink - INFO - [CHARTINK-2131] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:20:02,355 - data.chartink - INFO - [CHARTINK-2131] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:20:02,355 - data.chartink - INFO - [CHARTINK-2131] ‚è±Ô∏è API call started at 03:20:02.355
2025-04-19 03:20:02,572 - data.chartink - INFO - [CHARTINK-2131] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:20:02,574 - data.chartink - INFO - [CHARTINK-2131] Response type: dict
2025-04-19 03:20:02,574 - data.chartink - INFO - [CHARTINK-2131] Data entries: 1220
2025-04-19 03:20:02,575 - data.chartink - INFO - [CHARTINK-2131] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:20:02,576 - data.chartink - INFO - [CHARTINK-2131] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:20:02,576 - data.chartink - INFO - [CHARTINK-2131] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:20:02,577 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.65s
2025-04-19 03:20:02,577 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:20:02,578 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:20:02,580 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:20:02,580 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:20:02,580 - data.top_stocks_service - INFO - [FETCH #88872] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:20:02,580 - data.top_stocks_service - INFO - [FETCH #88872] Using waterfall algorithm
2025-04-19 03:20:02,580 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:20:02,581 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:20:02,581 - data.chartink - INFO - [CHARTINK-2581] üöÄ Preparing ChartInk API request
2025-04-19 03:20:02,581 - data.chartink - INFO - [CHARTINK-2581] Rate limiting: Sleeping for 1.77s
2025-04-19 03:20:04,361 - data.chartink - INFO - [CHARTINK-2581] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:20:04,645 - data.chartink - INFO - [CHARTINK-2581] ‚úÖ CSRF token obtained successfully
2025-04-19 03:20:04,645 - data.chartink - INFO - [CHARTINK-2581] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:20:04,646 - data.chartink - INFO - [CHARTINK-2581] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:20:04,646 - data.chartink - INFO - [CHARTINK-2581] ‚è±Ô∏è API call started at 03:20:04.646
2025-04-19 03:20:04,808 - data.chartink - INFO - [CHARTINK-2581] ‚¨áÔ∏è Received response in 0.16s with status code 200
2025-04-19 03:20:04,808 - data.chartink - INFO - [CHARTINK-2581] Response type: dict
2025-04-19 03:20:04,808 - data.chartink - INFO - [CHARTINK-2581] Data entries: 0
2025-04-19 03:20:04,808 - data.chartink - INFO - [CHARTINK-2581] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:20:04,810 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:20:04,810 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:20:04,810 - data.chartink - INFO - [CHARTINK-4810] üöÄ Preparing ChartInk API request
2025-04-19 03:20:04,810 - data.chartink - INFO - [CHARTINK-4810] Rate limiting: Sleeping for 1.84s
2025-04-19 03:20:06,651 - data.chartink - INFO - [CHARTINK-4810] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:20:07,179 - data.chartink - INFO - [CHARTINK-4810] ‚úÖ CSRF token obtained successfully
2025-04-19 03:20:07,179 - data.chartink - INFO - [CHARTINK-4810] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:20:07,180 - data.chartink - INFO - [CHARTINK-4810] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:20:07,180 - data.chartink - INFO - [CHARTINK-4810] ‚è±Ô∏è API call started at 03:20:07.180
2025-04-19 03:20:07,297 - data.chartink - INFO - [CHARTINK-4810] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:20:07,297 - data.chartink - INFO - [CHARTINK-4810] Response type: dict
2025-04-19 03:20:07,297 - data.chartink - INFO - [CHARTINK-4810] Data entries: 0
2025-04-19 03:20:07,298 - data.chartink - INFO - [CHARTINK-4810] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:20:07,300 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:20:07,300 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:20:07,301 - data.chartink - INFO - [CHARTINK-7301] üöÄ Preparing ChartInk API request
2025-04-19 03:20:07,301 - data.chartink - INFO - [CHARTINK-7301] Rate limiting: Sleeping for 1.88s
2025-04-19 03:20:09,184 - data.chartink - INFO - [CHARTINK-7301] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:20:09,415 - data.chartink - INFO - [CHARTINK-7301] ‚úÖ CSRF token obtained successfully
2025-04-19 03:20:09,415 - data.chartink - INFO - [CHARTINK-7301] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:20:09,415 - data.chartink - INFO - [CHARTINK-7301] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:20:09,416 - data.chartink - INFO - [CHARTINK-7301] ‚è±Ô∏è API call started at 03:20:09.416
2025-04-19 03:20:09,515 - data.chartink - INFO - [CHARTINK-7301] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:20:09,515 - data.chartink - INFO - [CHARTINK-7301] Response type: dict
2025-04-19 03:20:09,515 - data.chartink - INFO - [CHARTINK-7301] Data entries: 0
2025-04-19 03:20:09,515 - data.chartink - INFO - [CHARTINK-7301] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:20:09,517 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:20:09,517 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:20:09,517 - data.chartink - INFO - [CHARTINK-9517] üöÄ Preparing ChartInk API request
2025-04-19 03:20:09,517 - data.chartink - INFO - [CHARTINK-9517] Rate limiting: Sleeping for 1.90s
2025-04-19 03:20:11,421 - data.chartink - INFO - [CHARTINK-9517] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:20:11,656 - data.chartink - INFO - [CHARTINK-9517] ‚úÖ CSRF token obtained successfully
2025-04-19 03:20:11,657 - data.chartink - INFO - [CHARTINK-9517] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:20:11,657 - data.chartink - INFO - [CHARTINK-9517] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:20:11,657 - data.chartink - INFO - [CHARTINK-9517] ‚è±Ô∏è API call started at 03:20:11.657
2025-04-19 03:20:11,758 - data.chartink - INFO - [CHARTINK-9517] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:20:11,759 - data.chartink - INFO - [CHARTINK-9517] Response type: dict
2025-04-19 03:20:11,759 - data.chartink - INFO - [CHARTINK-9517] Data entries: 0
2025-04-19 03:20:11,759 - data.chartink - INFO - [CHARTINK-9517] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:20:11,761 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:20:11,761 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:20:11,761 - data.chartink - INFO - [CHARTINK-11761] üöÄ Preparing ChartInk API request
2025-04-19 03:20:11,762 - data.chartink - INFO - [CHARTINK-11761] Rate limiting: Sleeping for 1.90s
2025-04-19 03:20:13,657 - data.chartink - INFO - [CHARTINK-11761] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:20:13,885 - data.chartink - INFO - [CHARTINK-11761] ‚úÖ CSRF token obtained successfully
2025-04-19 03:20:13,885 - data.chartink - INFO - [CHARTINK-11761] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:20:13,885 - data.chartink - INFO - [CHARTINK-11761] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:20:13,885 - data.chartink - INFO - [CHARTINK-11761] ‚è±Ô∏è API call started at 03:20:13.885
2025-04-19 03:20:14,155 - data.chartink - INFO - [CHARTINK-11761] ‚¨áÔ∏è Received response in 0.27s with status code 200
2025-04-19 03:20:14,157 - data.chartink - INFO - [CHARTINK-11761] Response type: dict
2025-04-19 03:20:14,157 - data.chartink - INFO - [CHARTINK-11761] Data entries: 1220
2025-04-19 03:20:14,158 - data.chartink - INFO - [CHARTINK-11761] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:20:14,158 - data.chartink - INFO - [CHARTINK-11761] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:20:14,159 - data.chartink - INFO - [CHARTINK-11761] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:20:14,164 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:20:14,164 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:20:14,164 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:20:14,165 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:20:14,165 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:20:14,165 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:20:14,165 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:20:14,165 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:20:14,165 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:20:14,167 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:20:14,172 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using st.markdown
2025-04-19 03:23:30,395 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:23:31,954 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:23:31,954 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:23:31,954 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:23:31,954 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:23:31,954 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:23:32,167 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.21s
2025-04-19 03:23:32,169 - data.chartink - INFO - [CHARTINK-12169] üöÄ Preparing ChartInk API request
2025-04-19 03:23:32,169 - data.chartink - INFO - [CHARTINK-12169] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:23:32,400 - data.chartink - INFO - [CHARTINK-12169] ‚úÖ CSRF token obtained successfully
2025-04-19 03:23:32,400 - data.chartink - INFO - [CHARTINK-12169] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:23:32,400 - data.chartink - INFO - [CHARTINK-12169] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:23:32,401 - data.chartink - INFO - [CHARTINK-12169] ‚è±Ô∏è API call started at 03:23:32.401
2025-04-19 03:23:32,621 - data.chartink - INFO - [CHARTINK-12169] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:23:32,626 - data.chartink - INFO - [CHARTINK-12169] Response type: dict
2025-04-19 03:23:32,626 - data.chartink - INFO - [CHARTINK-12169] Data entries: 1220
2025-04-19 03:23:32,630 - data.chartink - INFO - [CHARTINK-12169] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:23:32,630 - data.chartink - INFO - [CHARTINK-12169] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:23:32,630 - data.chartink - INFO - [CHARTINK-12169] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:23:32,633 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.68s
2025-04-19 03:23:32,633 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:23:32,634 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:23:32,636 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:23:32,636 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:23:32,636 - data.top_stocks_service - INFO - [FETCH #76747] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:23:32,636 - data.top_stocks_service - INFO - [FETCH #76747] Using waterfall algorithm
2025-04-19 03:23:32,637 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:23:32,637 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:23:32,637 - data.chartink - INFO - [CHARTINK-12637] üöÄ Preparing ChartInk API request
2025-04-19 03:23:32,637 - data.chartink - INFO - [CHARTINK-12637] Rate limiting: Sleeping for 1.76s
2025-04-19 03:23:34,406 - data.chartink - INFO - [CHARTINK-12637] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:23:34,712 - data.chartink - INFO - [CHARTINK-12637] ‚úÖ CSRF token obtained successfully
2025-04-19 03:23:34,713 - data.chartink - INFO - [CHARTINK-12637] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:23:34,713 - data.chartink - INFO - [CHARTINK-12637] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:23:34,713 - data.chartink - INFO - [CHARTINK-12637] ‚è±Ô∏è API call started at 03:23:34.713
2025-04-19 03:23:34,820 - data.chartink - INFO - [CHARTINK-12637] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:23:34,820 - data.chartink - INFO - [CHARTINK-12637] Response type: dict
2025-04-19 03:23:34,820 - data.chartink - INFO - [CHARTINK-12637] Data entries: 0
2025-04-19 03:23:34,822 - data.chartink - INFO - [CHARTINK-12637] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:23:34,824 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:23:34,824 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:23:34,824 - data.chartink - INFO - [CHARTINK-14824] üöÄ Preparing ChartInk API request
2025-04-19 03:23:34,824 - data.chartink - INFO - [CHARTINK-14824] Rate limiting: Sleeping for 1.89s
2025-04-19 03:23:36,718 - data.chartink - INFO - [CHARTINK-14824] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:23:36,953 - data.chartink - INFO - [CHARTINK-14824] ‚úÖ CSRF token obtained successfully
2025-04-19 03:23:36,953 - data.chartink - INFO - [CHARTINK-14824] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:23:36,953 - data.chartink - INFO - [CHARTINK-14824] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:23:36,953 - data.chartink - INFO - [CHARTINK-14824] ‚è±Ô∏è API call started at 03:23:36.953
2025-04-19 03:23:37,078 - data.chartink - INFO - [CHARTINK-14824] ‚¨áÔ∏è Received response in 0.13s with status code 200
2025-04-19 03:23:37,079 - data.chartink - INFO - [CHARTINK-14824] Response type: dict
2025-04-19 03:23:37,079 - data.chartink - INFO - [CHARTINK-14824] Data entries: 0
2025-04-19 03:23:37,079 - data.chartink - INFO - [CHARTINK-14824] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:23:37,082 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:23:37,082 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:23:37,082 - data.chartink - INFO - [CHARTINK-17082] üöÄ Preparing ChartInk API request
2025-04-19 03:23:37,082 - data.chartink - INFO - [CHARTINK-17082] Rate limiting: Sleeping for 1.87s
2025-04-19 03:23:38,958 - data.chartink - INFO - [CHARTINK-17082] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:23:39,174 - data.chartink - INFO - [CHARTINK-17082] ‚úÖ CSRF token obtained successfully
2025-04-19 03:23:39,174 - data.chartink - INFO - [CHARTINK-17082] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:23:39,174 - data.chartink - INFO - [CHARTINK-17082] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:23:39,174 - data.chartink - INFO - [CHARTINK-17082] ‚è±Ô∏è API call started at 03:23:39.174
2025-04-19 03:23:39,282 - data.chartink - INFO - [CHARTINK-17082] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:23:39,282 - data.chartink - INFO - [CHARTINK-17082] Response type: dict
2025-04-19 03:23:39,282 - data.chartink - INFO - [CHARTINK-17082] Data entries: 0
2025-04-19 03:23:39,284 - data.chartink - INFO - [CHARTINK-17082] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:23:39,287 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:23:39,287 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:23:39,287 - data.chartink - INFO - [CHARTINK-19287] üöÄ Preparing ChartInk API request
2025-04-19 03:23:39,287 - data.chartink - INFO - [CHARTINK-19287] Rate limiting: Sleeping for 1.89s
2025-04-19 03:23:41,180 - data.chartink - INFO - [CHARTINK-19287] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:23:41,450 - data.chartink - INFO - [CHARTINK-19287] ‚úÖ CSRF token obtained successfully
2025-04-19 03:23:41,451 - data.chartink - INFO - [CHARTINK-19287] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:23:41,451 - data.chartink - INFO - [CHARTINK-19287] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:23:41,451 - data.chartink - INFO - [CHARTINK-19287] ‚è±Ô∏è API call started at 03:23:41.451
2025-04-19 03:23:41,577 - data.chartink - INFO - [CHARTINK-19287] ‚¨áÔ∏è Received response in 0.13s with status code 200
2025-04-19 03:23:41,577 - data.chartink - INFO - [CHARTINK-19287] Response type: dict
2025-04-19 03:23:41,577 - data.chartink - INFO - [CHARTINK-19287] Data entries: 0
2025-04-19 03:23:41,578 - data.chartink - INFO - [CHARTINK-19287] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:23:41,580 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:23:41,580 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:23:41,580 - data.chartink - INFO - [CHARTINK-21580] üöÄ Preparing ChartInk API request
2025-04-19 03:23:41,580 - data.chartink - INFO - [CHARTINK-21580] Rate limiting: Sleeping for 1.87s
2025-04-19 03:23:43,453 - data.chartink - INFO - [CHARTINK-21580] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:23:43,668 - data.chartink - INFO - [CHARTINK-21580] ‚úÖ CSRF token obtained successfully
2025-04-19 03:23:43,668 - data.chartink - INFO - [CHARTINK-21580] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:23:43,669 - data.chartink - INFO - [CHARTINK-21580] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:23:43,669 - data.chartink - INFO - [CHARTINK-21580] ‚è±Ô∏è API call started at 03:23:43.669
2025-04-19 03:23:43,882 - data.chartink - INFO - [CHARTINK-21580] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 03:23:43,886 - data.chartink - INFO - [CHARTINK-21580] Response type: dict
2025-04-19 03:23:43,886 - data.chartink - INFO - [CHARTINK-21580] Data entries: 1220
2025-04-19 03:23:43,890 - data.chartink - INFO - [CHARTINK-21580] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:23:43,890 - data.chartink - INFO - [CHARTINK-21580] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:23:43,891 - data.chartink - INFO - [CHARTINK-21580] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:23:43,898 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:23:43,898 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:23:43,898 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:23:43,898 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:23:43,898 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:23:43,899 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:23:43,899 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:23:43,899 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:23:43,899 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:23:43,901 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:23:43,916 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table using expanders
2025-04-19 03:23:43,917 - ui_services.stocks.hot_stocks_table - WARNING - create_hidden_buttons is deprecated, not needed with new table implementation
2025-04-19 03:26:39,105 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:26:41,064 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:26:41,064 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:26:41,065 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:26:41,065 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:26:41,065 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:26:41,314 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.25s
2025-04-19 03:26:41,316 - data.chartink - INFO - [CHARTINK-1316] üöÄ Preparing ChartInk API request
2025-04-19 03:26:41,316 - data.chartink - INFO - [CHARTINK-1316] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:26:41,655 - data.chartink - INFO - [CHARTINK-1316] ‚úÖ CSRF token obtained successfully
2025-04-19 03:26:41,655 - data.chartink - INFO - [CHARTINK-1316] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:26:41,655 - data.chartink - INFO - [CHARTINK-1316] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:26:41,655 - data.chartink - INFO - [CHARTINK-1316] ‚è±Ô∏è API call started at 03:26:41.655
2025-04-19 03:26:41,891 - data.chartink - INFO - [CHARTINK-1316] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 03:26:41,894 - data.chartink - INFO - [CHARTINK-1316] Response type: dict
2025-04-19 03:26:41,894 - data.chartink - INFO - [CHARTINK-1316] Data entries: 1220
2025-04-19 03:26:41,896 - data.chartink - INFO - [CHARTINK-1316] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:26:41,896 - data.chartink - INFO - [CHARTINK-1316] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:26:41,896 - data.chartink - INFO - [CHARTINK-1316] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:26:41,897 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.83s
2025-04-19 03:26:41,898 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:26:41,898 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:26:41,899 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:26:41,900 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:26:41,900 - data.top_stocks_service - INFO - [FETCH #67783] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:26:41,900 - data.top_stocks_service - INFO - [FETCH #67783] Using waterfall algorithm
2025-04-19 03:26:41,900 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:26:41,900 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:26:41,900 - data.chartink - INFO - [CHARTINK-1900] üöÄ Preparing ChartInk API request
2025-04-19 03:26:41,900 - data.chartink - INFO - [CHARTINK-1900] Rate limiting: Sleeping for 1.76s
2025-04-19 03:26:43,661 - data.chartink - INFO - [CHARTINK-1900] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:26:43,971 - data.chartink - INFO - [CHARTINK-1900] ‚úÖ CSRF token obtained successfully
2025-04-19 03:26:43,972 - data.chartink - INFO - [CHARTINK-1900] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:26:43,972 - data.chartink - INFO - [CHARTINK-1900] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:26:43,972 - data.chartink - INFO - [CHARTINK-1900] ‚è±Ô∏è API call started at 03:26:43.972
2025-04-19 03:26:44,128 - data.chartink - INFO - [CHARTINK-1900] ‚¨áÔ∏è Received response in 0.16s with status code 200
2025-04-19 03:26:44,128 - data.chartink - INFO - [CHARTINK-1900] Response type: dict
2025-04-19 03:26:44,128 - data.chartink - INFO - [CHARTINK-1900] Data entries: 0
2025-04-19 03:26:44,129 - data.chartink - INFO - [CHARTINK-1900] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:26:44,131 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:26:44,131 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:26:44,131 - data.chartink - INFO - [CHARTINK-4131] üöÄ Preparing ChartInk API request
2025-04-19 03:26:44,131 - data.chartink - INFO - [CHARTINK-4131] Rate limiting: Sleeping for 1.84s
2025-04-19 03:26:45,972 - data.chartink - INFO - [CHARTINK-4131] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:26:46,306 - data.chartink - INFO - [CHARTINK-4131] ‚úÖ CSRF token obtained successfully
2025-04-19 03:26:46,306 - data.chartink - INFO - [CHARTINK-4131] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:26:46,306 - data.chartink - INFO - [CHARTINK-4131] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:26:46,306 - data.chartink - INFO - [CHARTINK-4131] ‚è±Ô∏è API call started at 03:26:46.306
2025-04-19 03:26:46,952 - data.chartink - INFO - [CHARTINK-4131] ‚¨áÔ∏è Received response in 0.65s with status code 200
2025-04-19 03:26:46,952 - data.chartink - INFO - [CHARTINK-4131] Response type: dict
2025-04-19 03:26:46,952 - data.chartink - INFO - [CHARTINK-4131] Data entries: 0
2025-04-19 03:26:46,953 - data.chartink - INFO - [CHARTINK-4131] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:26:46,954 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:26:46,954 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:26:46,954 - data.chartink - INFO - [CHARTINK-6954] üöÄ Preparing ChartInk API request
2025-04-19 03:26:46,954 - data.chartink - INFO - [CHARTINK-6954] Rate limiting: Sleeping for 1.35s
2025-04-19 03:26:48,312 - data.chartink - INFO - [CHARTINK-6954] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:26:48,536 - data.chartink - INFO - [CHARTINK-6954] ‚úÖ CSRF token obtained successfully
2025-04-19 03:26:48,536 - data.chartink - INFO - [CHARTINK-6954] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:26:48,536 - data.chartink - INFO - [CHARTINK-6954] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:26:48,536 - data.chartink - INFO - [CHARTINK-6954] ‚è±Ô∏è API call started at 03:26:48.536
2025-04-19 03:26:48,672 - data.chartink - INFO - [CHARTINK-6954] ‚¨áÔ∏è Received response in 0.14s with status code 200
2025-04-19 03:26:48,672 - data.chartink - INFO - [CHARTINK-6954] Response type: dict
2025-04-19 03:26:48,672 - data.chartink - INFO - [CHARTINK-6954] Data entries: 0
2025-04-19 03:26:48,672 - data.chartink - INFO - [CHARTINK-6954] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:26:48,673 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:26:48,674 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:26:48,674 - data.chartink - INFO - [CHARTINK-8674] üöÄ Preparing ChartInk API request
2025-04-19 03:26:48,674 - data.chartink - INFO - [CHARTINK-8674] Rate limiting: Sleeping for 1.86s
2025-04-19 03:26:50,542 - data.chartink - INFO - [CHARTINK-8674] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:26:50,793 - data.chartink - INFO - [CHARTINK-8674] ‚úÖ CSRF token obtained successfully
2025-04-19 03:26:50,793 - data.chartink - INFO - [CHARTINK-8674] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:26:50,793 - data.chartink - INFO - [CHARTINK-8674] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:26:50,793 - data.chartink - INFO - [CHARTINK-8674] ‚è±Ô∏è API call started at 03:26:50.793
2025-04-19 03:26:50,929 - data.chartink - INFO - [CHARTINK-8674] ‚¨áÔ∏è Received response in 0.14s with status code 200
2025-04-19 03:26:50,929 - data.chartink - INFO - [CHARTINK-8674] Response type: dict
2025-04-19 03:26:50,929 - data.chartink - INFO - [CHARTINK-8674] Data entries: 0
2025-04-19 03:26:50,930 - data.chartink - INFO - [CHARTINK-8674] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:26:50,933 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:26:50,933 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:26:50,933 - data.chartink - INFO - [CHARTINK-10933] üöÄ Preparing ChartInk API request
2025-04-19 03:26:50,933 - data.chartink - INFO - [CHARTINK-10933] Rate limiting: Sleeping for 1.86s
2025-04-19 03:26:52,799 - data.chartink - INFO - [CHARTINK-10933] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:26:53,031 - data.chartink - INFO - [CHARTINK-10933] ‚úÖ CSRF token obtained successfully
2025-04-19 03:26:53,032 - data.chartink - INFO - [CHARTINK-10933] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:26:53,032 - data.chartink - INFO - [CHARTINK-10933] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:26:53,032 - data.chartink - INFO - [CHARTINK-10933] ‚è±Ô∏è API call started at 03:26:53.032
2025-04-19 03:26:53,430 - data.chartink - INFO - [CHARTINK-10933] ‚¨áÔ∏è Received response in 0.40s with status code 200
2025-04-19 03:26:53,434 - data.chartink - INFO - [CHARTINK-10933] Response type: dict
2025-04-19 03:26:53,434 - data.chartink - INFO - [CHARTINK-10933] Data entries: 1220
2025-04-19 03:26:53,440 - data.chartink - INFO - [CHARTINK-10933] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:26:53,441 - data.chartink - INFO - [CHARTINK-10933] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:26:53,441 - data.chartink - INFO - [CHARTINK-10933] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:26:53,452 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:26:53,452 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:26:53,453 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:26:53,453 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:26:53,453 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:26:53,453 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:26:53,453 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:26:53,453 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:26:53,453 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:26:53,455 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:26:53,456 - ui_services.stocks.hot_stocks_table - ERROR - Error displaying stock table: dataframe() got an unexpected keyword argument 'hide_index'
2025-04-19 03:26:53,457 - ui_services.stocks.hot_stocks_table - WARNING - create_hidden_buttons is deprecated, not needed with new table implementation
2025-04-19 03:28:20,295 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:28:46,850 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:28:46,850 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:28:46,850 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:28:46,850 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:28:46,850 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:28:47,091 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.24s
2025-04-19 03:28:47,096 - data.chartink - INFO - [CHARTINK-27096] üöÄ Preparing ChartInk API request
2025-04-19 03:28:47,097 - data.chartink - INFO - [CHARTINK-27096] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:28:47,456 - data.chartink - INFO - [CHARTINK-27096] ‚úÖ CSRF token obtained successfully
2025-04-19 03:28:47,456 - data.chartink - INFO - [CHARTINK-27096] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:28:47,456 - data.chartink - INFO - [CHARTINK-27096] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:28:47,456 - data.chartink - INFO - [CHARTINK-27096] ‚è±Ô∏è API call started at 03:28:47.456
2025-04-19 03:28:47,667 - data.chartink - INFO - [CHARTINK-27096] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 03:28:47,671 - data.chartink - INFO - [CHARTINK-27096] Response type: dict
2025-04-19 03:28:47,671 - data.chartink - INFO - [CHARTINK-27096] Data entries: 1220
2025-04-19 03:28:47,673 - data.chartink - INFO - [CHARTINK-27096] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:28:47,673 - data.chartink - INFO - [CHARTINK-27096] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:28:47,673 - data.chartink - INFO - [CHARTINK-27096] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:28:47,676 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.83s
2025-04-19 03:28:47,676 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:28:47,676 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:28:47,678 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:28:47,678 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:28:47,678 - data.top_stocks_service - INFO - [FETCH #21695] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:28:47,679 - data.top_stocks_service - INFO - [FETCH #21695] Using waterfall algorithm
2025-04-19 03:28:47,679 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:28:47,679 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:28:47,679 - data.chartink - INFO - [CHARTINK-27679] üöÄ Preparing ChartInk API request
2025-04-19 03:28:47,680 - data.chartink - INFO - [CHARTINK-27679] Rate limiting: Sleeping for 1.78s
2025-04-19 03:28:49,461 - data.chartink - INFO - [CHARTINK-27679] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:28:49,702 - data.chartink - INFO - [CHARTINK-27679] ‚úÖ CSRF token obtained successfully
2025-04-19 03:28:49,702 - data.chartink - INFO - [CHARTINK-27679] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:28:49,702 - data.chartink - INFO - [CHARTINK-27679] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:28:49,702 - data.chartink - INFO - [CHARTINK-27679] ‚è±Ô∏è API call started at 03:28:49.702
2025-04-19 03:28:49,807 - data.chartink - INFO - [CHARTINK-27679] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:28:49,807 - data.chartink - INFO - [CHARTINK-27679] Response type: dict
2025-04-19 03:28:49,807 - data.chartink - INFO - [CHARTINK-27679] Data entries: 0
2025-04-19 03:28:49,807 - data.chartink - INFO - [CHARTINK-27679] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:28:49,808 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:28:49,808 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:28:49,808 - data.chartink - INFO - [CHARTINK-29808] üöÄ Preparing ChartInk API request
2025-04-19 03:28:49,808 - data.chartink - INFO - [CHARTINK-29808] Rate limiting: Sleeping for 1.89s
2025-04-19 03:28:51,706 - data.chartink - INFO - [CHARTINK-29808] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:28:51,922 - data.chartink - INFO - [CHARTINK-29808] ‚úÖ CSRF token obtained successfully
2025-04-19 03:28:51,922 - data.chartink - INFO - [CHARTINK-29808] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:28:51,922 - data.chartink - INFO - [CHARTINK-29808] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:28:51,922 - data.chartink - INFO - [CHARTINK-29808] ‚è±Ô∏è API call started at 03:28:51.922
2025-04-19 03:28:52,034 - data.chartink - INFO - [CHARTINK-29808] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:28:52,034 - data.chartink - INFO - [CHARTINK-29808] Response type: dict
2025-04-19 03:28:52,034 - data.chartink - INFO - [CHARTINK-29808] Data entries: 0
2025-04-19 03:28:52,035 - data.chartink - INFO - [CHARTINK-29808] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:28:52,037 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:28:52,037 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:28:52,037 - data.chartink - INFO - [CHARTINK-32037] üöÄ Preparing ChartInk API request
2025-04-19 03:28:52,037 - data.chartink - INFO - [CHARTINK-32037] Rate limiting: Sleeping for 1.88s
2025-04-19 03:28:53,925 - data.chartink - INFO - [CHARTINK-32037] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:28:54,150 - data.chartink - INFO - [CHARTINK-32037] ‚úÖ CSRF token obtained successfully
2025-04-19 03:28:54,150 - data.chartink - INFO - [CHARTINK-32037] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:28:54,150 - data.chartink - INFO - [CHARTINK-32037] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:28:54,151 - data.chartink - INFO - [CHARTINK-32037] ‚è±Ô∏è API call started at 03:28:54.150
2025-04-19 03:28:54,286 - data.chartink - INFO - [CHARTINK-32037] ‚¨áÔ∏è Received response in 0.14s with status code 200
2025-04-19 03:28:54,286 - data.chartink - INFO - [CHARTINK-32037] Response type: dict
2025-04-19 03:28:54,286 - data.chartink - INFO - [CHARTINK-32037] Data entries: 0
2025-04-19 03:28:54,287 - data.chartink - INFO - [CHARTINK-32037] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:28:54,290 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:28:54,290 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:28:54,290 - data.chartink - INFO - [CHARTINK-34290] üöÄ Preparing ChartInk API request
2025-04-19 03:28:54,290 - data.chartink - INFO - [CHARTINK-34290] Rate limiting: Sleeping for 1.86s
2025-04-19 03:28:56,156 - data.chartink - INFO - [CHARTINK-34290] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:28:56,389 - data.chartink - INFO - [CHARTINK-34290] ‚úÖ CSRF token obtained successfully
2025-04-19 03:28:56,389 - data.chartink - INFO - [CHARTINK-34290] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:28:56,389 - data.chartink - INFO - [CHARTINK-34290] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:28:56,389 - data.chartink - INFO - [CHARTINK-34290] ‚è±Ô∏è API call started at 03:28:56.389
2025-04-19 03:28:56,499 - data.chartink - INFO - [CHARTINK-34290] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:28:56,500 - data.chartink - INFO - [CHARTINK-34290] Response type: dict
2025-04-19 03:28:56,500 - data.chartink - INFO - [CHARTINK-34290] Data entries: 0
2025-04-19 03:28:56,501 - data.chartink - INFO - [CHARTINK-34290] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:28:56,503 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:28:56,503 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:28:56,504 - data.chartink - INFO - [CHARTINK-36504] üöÄ Preparing ChartInk API request
2025-04-19 03:28:56,504 - data.chartink - INFO - [CHARTINK-36504] Rate limiting: Sleeping for 1.89s
2025-04-19 03:28:58,393 - data.chartink - INFO - [CHARTINK-36504] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:28:58,621 - data.chartink - INFO - [CHARTINK-36504] ‚úÖ CSRF token obtained successfully
2025-04-19 03:28:58,621 - data.chartink - INFO - [CHARTINK-36504] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:28:58,621 - data.chartink - INFO - [CHARTINK-36504] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:28:58,621 - data.chartink - INFO - [CHARTINK-36504] ‚è±Ô∏è API call started at 03:28:58.621
2025-04-19 03:28:58,868 - data.chartink - INFO - [CHARTINK-36504] ‚¨áÔ∏è Received response in 0.25s with status code 200
2025-04-19 03:28:58,873 - data.chartink - INFO - [CHARTINK-36504] Response type: dict
2025-04-19 03:28:58,873 - data.chartink - INFO - [CHARTINK-36504] Data entries: 1220
2025-04-19 03:28:58,874 - data.chartink - INFO - [CHARTINK-36504] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:28:58,875 - data.chartink - INFO - [CHARTINK-36504] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:28:58,875 - data.chartink - INFO - [CHARTINK-36504] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:28:58,878 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:28:58,878 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:28:58,878 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:28:58,878 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:28:58,878 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:28:58,878 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:28:58,878 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:28:58,878 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:28:58,878 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:28:58,881 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:28:58,916 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with all required columns
2025-04-19 03:28:58,917 - ui_services.stocks.hot_stocks_table - WARNING - create_hidden_buttons is deprecated, not needed with new table implementation
2025-04-19 03:30:30,515 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:30:30,516 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:30:30,516 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:30:30,516 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:30:30,516 - data.chartink - INFO - Cache expired for query (age: 102.8s)
2025-04-19 03:30:30,516 - data.chartink - INFO - [CHARTINK-30516] üöÄ Preparing ChartInk API request
2025-04-19 03:30:30,517 - data.chartink - INFO - [CHARTINK-30516] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:30:30,752 - data.chartink - INFO - [CHARTINK-30516] ‚úÖ CSRF token obtained successfully
2025-04-19 03:30:30,752 - data.chartink - INFO - [CHARTINK-30516] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:30:30,752 - data.chartink - INFO - [CHARTINK-30516] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:30:30,753 - data.chartink - INFO - [CHARTINK-30516] ‚è±Ô∏è API call started at 03:30:30.752
2025-04-19 03:30:30,976 - data.chartink - INFO - [CHARTINK-30516] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:30:30,979 - data.chartink - INFO - [CHARTINK-30516] Response type: dict
2025-04-19 03:30:30,979 - data.chartink - INFO - [CHARTINK-30516] Data entries: 1225
2025-04-19 03:30:30,984 - data.chartink - INFO - [CHARTINK-30516] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 03:30:30,984 - data.chartink - INFO - [CHARTINK-30516] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:30:30,985 - data.chartink - INFO - [CHARTINK-30516] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:30:30,987 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.47s
2025-04-19 03:30:30,987 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:30:30,988 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:30:30,994 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:30:31,004 - ui_services.stocks.hot_stocks_table - ERROR - Error showing buy form: Expanders may not be nested inside other expanders.
2025-04-19 03:30:31,016 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with all required columns
2025-04-19 03:30:31,017 - ui_services.stocks.hot_stocks_table - WARNING - create_hidden_buttons is deprecated, not needed with new table implementation
2025-04-19 03:30:33,841 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:30:33,841 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:30:33,841 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:30:33,841 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:30:33,842 - data.chartink - INFO - Using cached results for query (age: 2.9s)
2025-04-19 03:30:33,842 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 03:30:33,842 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:30:33,842 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:30:33,845 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:30:33,852 - ui_services.stocks.hot_stocks_table - ERROR - Error showing buy form: Expanders may not be nested inside other expanders.
2025-04-19 03:30:33,864 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with all required columns
2025-04-19 03:30:33,865 - ui_services.stocks.hot_stocks_table - WARNING - create_hidden_buttons is deprecated, not needed with new table implementation
2025-04-19 03:33:09,976 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:33:11,376 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:33:11,377 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:33:11,377 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:33:11,377 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:33:11,377 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:33:11,836 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.46s
2025-04-19 03:33:11,839 - data.chartink - INFO - [CHARTINK-91839] üöÄ Preparing ChartInk API request
2025-04-19 03:33:11,840 - data.chartink - INFO - [CHARTINK-91839] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:33:12,104 - data.chartink - INFO - [CHARTINK-91839] ‚úÖ CSRF token obtained successfully
2025-04-19 03:33:12,105 - data.chartink - INFO - [CHARTINK-91839] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:33:12,105 - data.chartink - INFO - [CHARTINK-91839] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:33:12,105 - data.chartink - INFO - [CHARTINK-91839] ‚è±Ô∏è API call started at 03:33:12.105
2025-04-19 03:33:12,339 - data.chartink - INFO - [CHARTINK-91839] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 03:33:12,344 - data.chartink - INFO - [CHARTINK-91839] Response type: dict
2025-04-19 03:33:12,344 - data.chartink - INFO - [CHARTINK-91839] Data entries: 1220
2025-04-19 03:33:12,349 - data.chartink - INFO - [CHARTINK-91839] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:33:12,349 - data.chartink - INFO - [CHARTINK-91839] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:33:12,350 - data.chartink - INFO - [CHARTINK-91839] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:33:12,353 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.98s
2025-04-19 03:33:12,354 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:33:12,354 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:33:12,357 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:33:12,358 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:33:12,358 - data.top_stocks_service - INFO - [FETCH #76110] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:33:12,359 - data.top_stocks_service - INFO - [FETCH #76110] Using waterfall algorithm
2025-04-19 03:33:12,359 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:33:12,360 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:33:12,360 - data.chartink - INFO - [CHARTINK-92360] üöÄ Preparing ChartInk API request
2025-04-19 03:33:12,360 - data.chartink - INFO - [CHARTINK-92360] Rate limiting: Sleeping for 1.74s
2025-04-19 03:33:14,110 - data.chartink - INFO - [CHARTINK-92360] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:33:14,367 - data.chartink - INFO - [CHARTINK-92360] ‚úÖ CSRF token obtained successfully
2025-04-19 03:33:14,367 - data.chartink - INFO - [CHARTINK-92360] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:33:14,368 - data.chartink - INFO - [CHARTINK-92360] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:33:14,368 - data.chartink - INFO - [CHARTINK-92360] ‚è±Ô∏è API call started at 03:33:14.368
2025-04-19 03:33:14,490 - data.chartink - INFO - [CHARTINK-92360] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:33:14,490 - data.chartink - INFO - [CHARTINK-92360] Response type: dict
2025-04-19 03:33:14,490 - data.chartink - INFO - [CHARTINK-92360] Data entries: 0
2025-04-19 03:33:14,491 - data.chartink - INFO - [CHARTINK-92360] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:33:14,493 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:33:14,493 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:33:14,493 - data.chartink - INFO - [CHARTINK-94493] üöÄ Preparing ChartInk API request
2025-04-19 03:33:14,493 - data.chartink - INFO - [CHARTINK-94493] Rate limiting: Sleeping for 1.87s
2025-04-19 03:33:16,373 - data.chartink - INFO - [CHARTINK-94493] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:33:16,644 - data.chartink - INFO - [CHARTINK-94493] ‚úÖ CSRF token obtained successfully
2025-04-19 03:33:16,645 - data.chartink - INFO - [CHARTINK-94493] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:33:16,645 - data.chartink - INFO - [CHARTINK-94493] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:33:16,645 - data.chartink - INFO - [CHARTINK-94493] ‚è±Ô∏è API call started at 03:33:16.645
2025-04-19 03:33:16,764 - data.chartink - INFO - [CHARTINK-94493] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:33:16,764 - data.chartink - INFO - [CHARTINK-94493] Response type: dict
2025-04-19 03:33:16,765 - data.chartink - INFO - [CHARTINK-94493] Data entries: 0
2025-04-19 03:33:16,765 - data.chartink - INFO - [CHARTINK-94493] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:33:16,769 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:33:16,769 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:33:16,769 - data.chartink - INFO - [CHARTINK-96769] üöÄ Preparing ChartInk API request
2025-04-19 03:33:16,769 - data.chartink - INFO - [CHARTINK-96769] Rate limiting: Sleeping for 1.88s
2025-04-19 03:33:18,650 - data.chartink - INFO - [CHARTINK-96769] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:33:18,949 - data.chartink - INFO - [CHARTINK-96769] ‚úÖ CSRF token obtained successfully
2025-04-19 03:33:18,949 - data.chartink - INFO - [CHARTINK-96769] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:33:18,949 - data.chartink - INFO - [CHARTINK-96769] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:33:18,949 - data.chartink - INFO - [CHARTINK-96769] ‚è±Ô∏è API call started at 03:33:18.949
2025-04-19 03:33:19,096 - data.chartink - INFO - [CHARTINK-96769] ‚¨áÔ∏è Received response in 0.15s with status code 200
2025-04-19 03:33:19,097 - data.chartink - INFO - [CHARTINK-96769] Response type: dict
2025-04-19 03:33:19,097 - data.chartink - INFO - [CHARTINK-96769] Data entries: 0
2025-04-19 03:33:19,098 - data.chartink - INFO - [CHARTINK-96769] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:33:19,102 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:33:19,102 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:33:19,102 - data.chartink - INFO - [CHARTINK-99102] üöÄ Preparing ChartInk API request
2025-04-19 03:33:19,103 - data.chartink - INFO - [CHARTINK-99102] Rate limiting: Sleeping for 1.85s
2025-04-19 03:33:20,955 - data.chartink - INFO - [CHARTINK-99102] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:33:21,218 - data.chartink - INFO - [CHARTINK-99102] ‚úÖ CSRF token obtained successfully
2025-04-19 03:33:21,218 - data.chartink - INFO - [CHARTINK-99102] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:33:21,218 - data.chartink - INFO - [CHARTINK-99102] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:33:21,218 - data.chartink - INFO - [CHARTINK-99102] ‚è±Ô∏è API call started at 03:33:21.218
2025-04-19 03:33:21,333 - data.chartink - INFO - [CHARTINK-99102] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:33:21,334 - data.chartink - INFO - [CHARTINK-99102] Response type: dict
2025-04-19 03:33:21,334 - data.chartink - INFO - [CHARTINK-99102] Data entries: 0
2025-04-19 03:33:21,335 - data.chartink - INFO - [CHARTINK-99102] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:33:21,337 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:33:21,337 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:33:21,337 - data.chartink - INFO - [CHARTINK-1337] üöÄ Preparing ChartInk API request
2025-04-19 03:33:21,337 - data.chartink - INFO - [CHARTINK-1337] Rate limiting: Sleeping for 1.88s
2025-04-19 03:33:23,224 - data.chartink - INFO - [CHARTINK-1337] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:33:23,551 - data.chartink - INFO - [CHARTINK-1337] ‚úÖ CSRF token obtained successfully
2025-04-19 03:33:23,551 - data.chartink - INFO - [CHARTINK-1337] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:33:23,551 - data.chartink - INFO - [CHARTINK-1337] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:33:23,551 - data.chartink - INFO - [CHARTINK-1337] ‚è±Ô∏è API call started at 03:33:23.551
2025-04-19 03:33:23,774 - data.chartink - INFO - [CHARTINK-1337] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:33:23,776 - data.chartink - INFO - [CHARTINK-1337] Response type: dict
2025-04-19 03:33:23,777 - data.chartink - INFO - [CHARTINK-1337] Data entries: 1225
2025-04-19 03:33:23,778 - data.chartink - INFO - [CHARTINK-1337] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 03:33:23,778 - data.chartink - INFO - [CHARTINK-1337] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:33:23,778 - data.chartink - INFO - [CHARTINK-1337] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:33:23,781 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:33:23,781 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:33:23,781 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:33:23,781 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:33:23,781 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:33:23,781 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:33:23,782 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:33:23,782 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:33:23,782 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:33:23,783 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:33:23,789 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with expandable buy buttons
2025-04-19 03:33:23,790 - ui_services.stocks.hot_stocks_table - WARNING - create_hidden_buttons is deprecated, not needed with new table implementation
2025-04-19 03:35:44,876 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:35:47,099 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:35:47,099 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:35:47,100 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:35:47,100 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:35:47,100 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:35:47,322 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.22s
2025-04-19 03:35:47,324 - data.chartink - INFO - [CHARTINK-47324] üöÄ Preparing ChartInk API request
2025-04-19 03:35:47,325 - data.chartink - INFO - [CHARTINK-47324] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:35:47,550 - data.chartink - INFO - [CHARTINK-47324] ‚úÖ CSRF token obtained successfully
2025-04-19 03:35:47,551 - data.chartink - INFO - [CHARTINK-47324] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:35:47,551 - data.chartink - INFO - [CHARTINK-47324] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:35:47,551 - data.chartink - INFO - [CHARTINK-47324] ‚è±Ô∏è API call started at 03:35:47.551
2025-04-19 03:35:47,760 - data.chartink - INFO - [CHARTINK-47324] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 03:35:47,762 - data.chartink - INFO - [CHARTINK-47324] Response type: dict
2025-04-19 03:35:47,762 - data.chartink - INFO - [CHARTINK-47324] Data entries: 1220
2025-04-19 03:35:47,763 - data.chartink - INFO - [CHARTINK-47324] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:35:47,763 - data.chartink - INFO - [CHARTINK-47324] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:35:47,763 - data.chartink - INFO - [CHARTINK-47324] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:35:47,765 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.66s
2025-04-19 03:35:47,765 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:35:47,766 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:35:47,768 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:35:47,769 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:35:47,770 - data.top_stocks_service - INFO - [FETCH #97737] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:35:47,770 - data.top_stocks_service - INFO - [FETCH #97737] Using waterfall algorithm
2025-04-19 03:35:47,771 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:35:47,771 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:35:47,773 - data.chartink - INFO - [CHARTINK-47773] üöÄ Preparing ChartInk API request
2025-04-19 03:35:47,773 - data.chartink - INFO - [CHARTINK-47773] Rate limiting: Sleeping for 1.78s
2025-04-19 03:35:49,556 - data.chartink - INFO - [CHARTINK-47773] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:35:49,796 - data.chartink - INFO - [CHARTINK-47773] ‚úÖ CSRF token obtained successfully
2025-04-19 03:35:49,796 - data.chartink - INFO - [CHARTINK-47773] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:35:49,796 - data.chartink - INFO - [CHARTINK-47773] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:35:49,796 - data.chartink - INFO - [CHARTINK-47773] ‚è±Ô∏è API call started at 03:35:49.796
2025-04-19 03:35:49,905 - data.chartink - INFO - [CHARTINK-47773] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:35:49,905 - data.chartink - INFO - [CHARTINK-47773] Response type: dict
2025-04-19 03:35:49,906 - data.chartink - INFO - [CHARTINK-47773] Data entries: 0
2025-04-19 03:35:49,906 - data.chartink - INFO - [CHARTINK-47773] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:35:49,908 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:35:49,908 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:35:49,908 - data.chartink - INFO - [CHARTINK-49908] üöÄ Preparing ChartInk API request
2025-04-19 03:35:49,908 - data.chartink - INFO - [CHARTINK-49908] Rate limiting: Sleeping for 1.89s
2025-04-19 03:35:51,802 - data.chartink - INFO - [CHARTINK-49908] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:35:52,052 - data.chartink - INFO - [CHARTINK-49908] ‚úÖ CSRF token obtained successfully
2025-04-19 03:35:52,053 - data.chartink - INFO - [CHARTINK-49908] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:35:52,053 - data.chartink - INFO - [CHARTINK-49908] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:35:52,053 - data.chartink - INFO - [CHARTINK-49908] ‚è±Ô∏è API call started at 03:35:52.053
2025-04-19 03:35:52,195 - data.chartink - INFO - [CHARTINK-49908] ‚¨áÔ∏è Received response in 0.14s with status code 200
2025-04-19 03:35:52,195 - data.chartink - INFO - [CHARTINK-49908] Response type: dict
2025-04-19 03:35:52,195 - data.chartink - INFO - [CHARTINK-49908] Data entries: 0
2025-04-19 03:35:52,195 - data.chartink - INFO - [CHARTINK-49908] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:35:52,197 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:35:52,197 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:35:52,197 - data.chartink - INFO - [CHARTINK-52197] üöÄ Preparing ChartInk API request
2025-04-19 03:35:52,197 - data.chartink - INFO - [CHARTINK-52197] Rate limiting: Sleeping for 1.86s
2025-04-19 03:35:54,058 - data.chartink - INFO - [CHARTINK-52197] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:35:54,407 - data.chartink - INFO - [CHARTINK-52197] ‚úÖ CSRF token obtained successfully
2025-04-19 03:35:54,407 - data.chartink - INFO - [CHARTINK-52197] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:35:54,407 - data.chartink - INFO - [CHARTINK-52197] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:35:54,407 - data.chartink - INFO - [CHARTINK-52197] ‚è±Ô∏è API call started at 03:35:54.407
2025-04-19 03:35:54,519 - data.chartink - INFO - [CHARTINK-52197] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:35:54,519 - data.chartink - INFO - [CHARTINK-52197] Response type: dict
2025-04-19 03:35:54,519 - data.chartink - INFO - [CHARTINK-52197] Data entries: 0
2025-04-19 03:35:54,520 - data.chartink - INFO - [CHARTINK-52197] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:35:54,523 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:35:54,523 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:35:54,524 - data.chartink - INFO - [CHARTINK-54524] üöÄ Preparing ChartInk API request
2025-04-19 03:35:54,524 - data.chartink - INFO - [CHARTINK-54524] Rate limiting: Sleeping for 1.88s
2025-04-19 03:35:56,413 - data.chartink - INFO - [CHARTINK-54524] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:35:56,660 - data.chartink - INFO - [CHARTINK-54524] ‚úÖ CSRF token obtained successfully
2025-04-19 03:35:56,661 - data.chartink - INFO - [CHARTINK-54524] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:35:56,661 - data.chartink - INFO - [CHARTINK-54524] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:35:56,661 - data.chartink - INFO - [CHARTINK-54524] ‚è±Ô∏è API call started at 03:35:56.661
2025-04-19 03:35:56,772 - data.chartink - INFO - [CHARTINK-54524] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:35:56,773 - data.chartink - INFO - [CHARTINK-54524] Response type: dict
2025-04-19 03:35:56,773 - data.chartink - INFO - [CHARTINK-54524] Data entries: 0
2025-04-19 03:35:56,774 - data.chartink - INFO - [CHARTINK-54524] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:35:56,777 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:35:56,778 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:35:56,778 - data.chartink - INFO - [CHARTINK-56778] üöÄ Preparing ChartInk API request
2025-04-19 03:35:56,778 - data.chartink - INFO - [CHARTINK-56778] Rate limiting: Sleeping for 1.88s
2025-04-19 03:35:58,666 - data.chartink - INFO - [CHARTINK-56778] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:35:58,897 - data.chartink - INFO - [CHARTINK-56778] ‚úÖ CSRF token obtained successfully
2025-04-19 03:35:58,897 - data.chartink - INFO - [CHARTINK-56778] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:35:58,897 - data.chartink - INFO - [CHARTINK-56778] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:35:58,897 - data.chartink - INFO - [CHARTINK-56778] ‚è±Ô∏è API call started at 03:35:58.897
2025-04-19 03:35:59,117 - data.chartink - INFO - [CHARTINK-56778] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:35:59,122 - data.chartink - INFO - [CHARTINK-56778] Response type: dict
2025-04-19 03:35:59,122 - data.chartink - INFO - [CHARTINK-56778] Data entries: 1220
2025-04-19 03:35:59,125 - data.chartink - INFO - [CHARTINK-56778] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:35:59,126 - data.chartink - INFO - [CHARTINK-56778] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:35:59,126 - data.chartink - INFO - [CHARTINK-56778] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:35:59,132 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:35:59,133 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:35:59,133 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:35:59,133 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:35:59,133 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:35:59,133 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:35:59,133 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:35:59,133 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:35:59,133 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:35:59,135 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:35:59,143 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with expandable buy buttons
2025-04-19 03:35:59,143 - ui_services.stocks.hot_stocks_table - WARNING - create_hidden_buttons is deprecated, not needed with new table implementation
2025-04-19 03:42:03,263 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:42:06,736 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:42:06,737 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:42:06,737 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:42:06,737 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:42:06,737 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:42:06,976 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.24s
2025-04-19 03:42:06,980 - data.chartink - INFO - [CHARTINK-26980] üöÄ Preparing ChartInk API request
2025-04-19 03:42:06,980 - data.chartink - INFO - [CHARTINK-26980] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:42:07,217 - data.chartink - INFO - [CHARTINK-26980] ‚úÖ CSRF token obtained successfully
2025-04-19 03:42:07,217 - data.chartink - INFO - [CHARTINK-26980] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:42:07,217 - data.chartink - INFO - [CHARTINK-26980] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:42:07,217 - data.chartink - INFO - [CHARTINK-26980] ‚è±Ô∏è API call started at 03:42:07.217
2025-04-19 03:42:07,425 - data.chartink - INFO - [CHARTINK-26980] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 03:42:07,429 - data.chartink - INFO - [CHARTINK-26980] Response type: dict
2025-04-19 03:42:07,429 - data.chartink - INFO - [CHARTINK-26980] Data entries: 1225
2025-04-19 03:42:07,432 - data.chartink - INFO - [CHARTINK-26980] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 03:42:07,433 - data.chartink - INFO - [CHARTINK-26980] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:42:07,433 - data.chartink - INFO - [CHARTINK-26980] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:42:07,436 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.70s
2025-04-19 03:42:07,437 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:42:07,437 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:42:07,440 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:42:07,440 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:42:07,440 - data.top_stocks_service - INFO - [FETCH #46542] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:42:07,440 - data.top_stocks_service - INFO - [FETCH #46542] Using waterfall algorithm
2025-04-19 03:42:07,441 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:42:07,441 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:42:07,441 - data.chartink - INFO - [CHARTINK-27441] üöÄ Preparing ChartInk API request
2025-04-19 03:42:07,441 - data.chartink - INFO - [CHARTINK-27441] Rate limiting: Sleeping for 1.78s
2025-04-19 03:42:09,222 - data.chartink - INFO - [CHARTINK-27441] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:42:09,433 - data.chartink - INFO - [CHARTINK-27441] ‚úÖ CSRF token obtained successfully
2025-04-19 03:42:09,433 - data.chartink - INFO - [CHARTINK-27441] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:42:09,433 - data.chartink - INFO - [CHARTINK-27441] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:42:09,433 - data.chartink - INFO - [CHARTINK-27441] ‚è±Ô∏è API call started at 03:42:09.433
2025-04-19 03:42:09,549 - data.chartink - INFO - [CHARTINK-27441] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:42:09,549 - data.chartink - INFO - [CHARTINK-27441] Response type: dict
2025-04-19 03:42:09,549 - data.chartink - INFO - [CHARTINK-27441] Data entries: 0
2025-04-19 03:42:09,549 - data.chartink - INFO - [CHARTINK-27441] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:42:09,551 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:42:09,551 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:42:09,551 - data.chartink - INFO - [CHARTINK-29551] üöÄ Preparing ChartInk API request
2025-04-19 03:42:09,551 - data.chartink - INFO - [CHARTINK-29551] Rate limiting: Sleeping for 1.88s
2025-04-19 03:42:11,439 - data.chartink - INFO - [CHARTINK-29551] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:42:11,666 - data.chartink - INFO - [CHARTINK-29551] ‚úÖ CSRF token obtained successfully
2025-04-19 03:42:11,666 - data.chartink - INFO - [CHARTINK-29551] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:42:11,666 - data.chartink - INFO - [CHARTINK-29551] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:42:11,666 - data.chartink - INFO - [CHARTINK-29551] ‚è±Ô∏è API call started at 03:42:11.666
2025-04-19 03:42:11,809 - data.chartink - INFO - [CHARTINK-29551] ‚¨áÔ∏è Received response in 0.14s with status code 200
2025-04-19 03:42:11,809 - data.chartink - INFO - [CHARTINK-29551] Response type: dict
2025-04-19 03:42:11,809 - data.chartink - INFO - [CHARTINK-29551] Data entries: 0
2025-04-19 03:42:11,810 - data.chartink - INFO - [CHARTINK-29551] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:42:11,812 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:42:11,812 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:42:11,812 - data.chartink - INFO - [CHARTINK-31812] üöÄ Preparing ChartInk API request
2025-04-19 03:42:11,812 - data.chartink - INFO - [CHARTINK-31812] Rate limiting: Sleeping for 1.85s
2025-04-19 03:42:13,672 - data.chartink - INFO - [CHARTINK-31812] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:42:13,924 - data.chartink - INFO - [CHARTINK-31812] ‚úÖ CSRF token obtained successfully
2025-04-19 03:42:13,925 - data.chartink - INFO - [CHARTINK-31812] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:42:13,925 - data.chartink - INFO - [CHARTINK-31812] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:42:13,925 - data.chartink - INFO - [CHARTINK-31812] ‚è±Ô∏è API call started at 03:42:13.925
2025-04-19 03:42:14,027 - data.chartink - INFO - [CHARTINK-31812] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:42:14,028 - data.chartink - INFO - [CHARTINK-31812] Response type: dict
2025-04-19 03:42:14,028 - data.chartink - INFO - [CHARTINK-31812] Data entries: 0
2025-04-19 03:42:14,029 - data.chartink - INFO - [CHARTINK-31812] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:42:14,030 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:42:14,030 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:42:14,030 - data.chartink - INFO - [CHARTINK-34030] üöÄ Preparing ChartInk API request
2025-04-19 03:42:14,030 - data.chartink - INFO - [CHARTINK-34030] Rate limiting: Sleeping for 1.89s
2025-04-19 03:42:15,930 - data.chartink - INFO - [CHARTINK-34030] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:42:16,174 - data.chartink - INFO - [CHARTINK-34030] ‚úÖ CSRF token obtained successfully
2025-04-19 03:42:16,175 - data.chartink - INFO - [CHARTINK-34030] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:42:16,175 - data.chartink - INFO - [CHARTINK-34030] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:42:16,175 - data.chartink - INFO - [CHARTINK-34030] ‚è±Ô∏è API call started at 03:42:16.175
2025-04-19 03:42:16,290 - data.chartink - INFO - [CHARTINK-34030] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:42:16,290 - data.chartink - INFO - [CHARTINK-34030] Response type: dict
2025-04-19 03:42:16,290 - data.chartink - INFO - [CHARTINK-34030] Data entries: 0
2025-04-19 03:42:16,291 - data.chartink - INFO - [CHARTINK-34030] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:42:16,293 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:42:16,293 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:42:16,293 - data.chartink - INFO - [CHARTINK-36293] üöÄ Preparing ChartInk API request
2025-04-19 03:42:16,293 - data.chartink - INFO - [CHARTINK-36293] Rate limiting: Sleeping for 1.88s
2025-04-19 03:42:18,180 - data.chartink - INFO - [CHARTINK-36293] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:42:18,426 - data.chartink - INFO - [CHARTINK-36293] ‚úÖ CSRF token obtained successfully
2025-04-19 03:42:18,426 - data.chartink - INFO - [CHARTINK-36293] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:42:18,426 - data.chartink - INFO - [CHARTINK-36293] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:42:18,426 - data.chartink - INFO - [CHARTINK-36293] ‚è±Ô∏è API call started at 03:42:18.426
2025-04-19 03:42:18,830 - data.chartink - INFO - [CHARTINK-36293] ‚¨áÔ∏è Received response in 0.40s with status code 200
2025-04-19 03:42:18,837 - data.chartink - INFO - [CHARTINK-36293] Response type: dict
2025-04-19 03:42:18,837 - data.chartink - INFO - [CHARTINK-36293] Data entries: 1220
2025-04-19 03:42:18,840 - data.chartink - INFO - [CHARTINK-36293] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:42:18,840 - data.chartink - INFO - [CHARTINK-36293] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:42:18,841 - data.chartink - INFO - [CHARTINK-36293] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:42:18,848 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:42:18,848 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:42:18,848 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:42:18,848 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:42:18,848 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:42:18,848 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:42:18,848 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:42:18,849 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:42:18,849 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:42:18,851 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:42:18,852 - ui_services.stocks.hot_stocks_table - ERROR - Error displaying stock table: button() got an unexpected keyword argument 'visible'
2025-04-19 03:42:18,860 - ui_services.stocks.hot_stocks_table - ERROR - Traceback (most recent call last):
  File "/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/ui_services/stocks/hot_stocks_table.py", line 27, in display_stock_table
    _create_hidden_buttons(hot_stocks)
  File "/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/ui_services/stocks/hot_stocks_table.py", line 229, in _create_hidden_buttons
    st.button("view_" + symbol, key=f"view_{symbol}",
  File "/Users/ashokkumar/Desktop/test/stock_work/.venv/lib/python3.9/site-packages/streamlit/runtime/metrics_util.py", line 332, in wrapped_func
    result = non_optional_func(*args, **kwargs)
TypeError: button() got an unexpected keyword argument 'visible'

2025-04-19 03:42:18,864 - __main__ - ERROR - Swing page error: button() got an unexpected keyword argument 'visible'
2025-04-19 03:44:45,656 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:44:47,910 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:44:47,911 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:44:47,921 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:44:47,982 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:44:47,982 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:44:48,221 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.24s
2025-04-19 03:44:48,222 - data.chartink - INFO - [CHARTINK-88222] üöÄ Preparing ChartInk API request
2025-04-19 03:44:48,222 - data.chartink - INFO - [CHARTINK-88222] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:44:48,482 - data.chartink - INFO - [CHARTINK-88222] ‚úÖ CSRF token obtained successfully
2025-04-19 03:44:48,482 - data.chartink - INFO - [CHARTINK-88222] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:44:48,483 - data.chartink - INFO - [CHARTINK-88222] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:44:48,483 - data.chartink - INFO - [CHARTINK-88222] ‚è±Ô∏è API call started at 03:44:48.483
2025-04-19 03:44:48,722 - data.chartink - INFO - [CHARTINK-88222] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 03:44:48,724 - data.chartink - INFO - [CHARTINK-88222] Response type: dict
2025-04-19 03:44:48,724 - data.chartink - INFO - [CHARTINK-88222] Data entries: 1220
2025-04-19 03:44:48,725 - data.chartink - INFO - [CHARTINK-88222] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:44:48,725 - data.chartink - INFO - [CHARTINK-88222] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:44:48,725 - data.chartink - INFO - [CHARTINK-88222] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:44:48,726 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.74s
2025-04-19 03:44:48,727 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:44:48,727 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:44:48,728 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:44:48,728 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:44:48,728 - data.top_stocks_service - INFO - [FETCH #71093] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:44:48,728 - data.top_stocks_service - INFO - [FETCH #71093] Using waterfall algorithm
2025-04-19 03:44:48,729 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:44:48,729 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:44:48,729 - data.chartink - INFO - [CHARTINK-88729] üöÄ Preparing ChartInk API request
2025-04-19 03:44:48,729 - data.chartink - INFO - [CHARTINK-88729] Rate limiting: Sleeping for 1.75s
2025-04-19 03:44:50,488 - data.chartink - INFO - [CHARTINK-88729] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:44:50,724 - data.chartink - INFO - [CHARTINK-88729] ‚úÖ CSRF token obtained successfully
2025-04-19 03:44:50,724 - data.chartink - INFO - [CHARTINK-88729] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:44:50,724 - data.chartink - INFO - [CHARTINK-88729] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:44:50,724 - data.chartink - INFO - [CHARTINK-88729] ‚è±Ô∏è API call started at 03:44:50.724
2025-04-19 03:44:50,829 - data.chartink - INFO - [CHARTINK-88729] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:44:50,830 - data.chartink - INFO - [CHARTINK-88729] Response type: dict
2025-04-19 03:44:50,830 - data.chartink - INFO - [CHARTINK-88729] Data entries: 0
2025-04-19 03:44:50,831 - data.chartink - INFO - [CHARTINK-88729] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:44:50,833 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:44:50,834 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:44:50,834 - data.chartink - INFO - [CHARTINK-90834] üöÄ Preparing ChartInk API request
2025-04-19 03:44:50,834 - data.chartink - INFO - [CHARTINK-90834] Rate limiting: Sleeping for 1.89s
2025-04-19 03:44:52,730 - data.chartink - INFO - [CHARTINK-90834] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:44:53,068 - data.chartink - INFO - [CHARTINK-90834] ‚úÖ CSRF token obtained successfully
2025-04-19 03:44:53,068 - data.chartink - INFO - [CHARTINK-90834] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:44:53,068 - data.chartink - INFO - [CHARTINK-90834] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:44:53,069 - data.chartink - INFO - [CHARTINK-90834] ‚è±Ô∏è API call started at 03:44:53.069
2025-04-19 03:44:53,191 - data.chartink - INFO - [CHARTINK-90834] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:44:53,192 - data.chartink - INFO - [CHARTINK-90834] Response type: dict
2025-04-19 03:44:53,192 - data.chartink - INFO - [CHARTINK-90834] Data entries: 0
2025-04-19 03:44:53,193 - data.chartink - INFO - [CHARTINK-90834] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:44:53,196 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:44:53,196 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:44:53,197 - data.chartink - INFO - [CHARTINK-93197] üöÄ Preparing ChartInk API request
2025-04-19 03:44:53,197 - data.chartink - INFO - [CHARTINK-93197] Rate limiting: Sleeping for 1.87s
2025-04-19 03:44:55,074 - data.chartink - INFO - [CHARTINK-93197] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:44:55,310 - data.chartink - INFO - [CHARTINK-93197] ‚úÖ CSRF token obtained successfully
2025-04-19 03:44:55,310 - data.chartink - INFO - [CHARTINK-93197] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:44:55,310 - data.chartink - INFO - [CHARTINK-93197] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:44:55,310 - data.chartink - INFO - [CHARTINK-93197] ‚è±Ô∏è API call started at 03:44:55.310
2025-04-19 03:44:55,415 - data.chartink - INFO - [CHARTINK-93197] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:44:55,416 - data.chartink - INFO - [CHARTINK-93197] Response type: dict
2025-04-19 03:44:55,417 - data.chartink - INFO - [CHARTINK-93197] Data entries: 0
2025-04-19 03:44:55,417 - data.chartink - INFO - [CHARTINK-93197] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:44:55,420 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:44:55,420 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:44:55,420 - data.chartink - INFO - [CHARTINK-95420] üöÄ Preparing ChartInk API request
2025-04-19 03:44:55,421 - data.chartink - INFO - [CHARTINK-95420] Rate limiting: Sleeping for 1.89s
2025-04-19 03:44:57,319 - data.chartink - INFO - [CHARTINK-95420] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:44:57,541 - data.chartink - INFO - [CHARTINK-95420] ‚úÖ CSRF token obtained successfully
2025-04-19 03:44:57,541 - data.chartink - INFO - [CHARTINK-95420] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:44:57,541 - data.chartink - INFO - [CHARTINK-95420] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:44:57,541 - data.chartink - INFO - [CHARTINK-95420] ‚è±Ô∏è API call started at 03:44:57.541
2025-04-19 03:44:57,652 - data.chartink - INFO - [CHARTINK-95420] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:44:57,653 - data.chartink - INFO - [CHARTINK-95420] Response type: dict
2025-04-19 03:44:57,653 - data.chartink - INFO - [CHARTINK-95420] Data entries: 0
2025-04-19 03:44:57,654 - data.chartink - INFO - [CHARTINK-95420] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:44:57,656 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:44:57,656 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:44:57,656 - data.chartink - INFO - [CHARTINK-97656] üöÄ Preparing ChartInk API request
2025-04-19 03:44:57,656 - data.chartink - INFO - [CHARTINK-97656] Rate limiting: Sleeping for 1.88s
2025-04-19 03:44:59,547 - data.chartink - INFO - [CHARTINK-97656] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:44:59,786 - data.chartink - INFO - [CHARTINK-97656] ‚úÖ CSRF token obtained successfully
2025-04-19 03:44:59,786 - data.chartink - INFO - [CHARTINK-97656] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:44:59,786 - data.chartink - INFO - [CHARTINK-97656] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:44:59,786 - data.chartink - INFO - [CHARTINK-97656] ‚è±Ô∏è API call started at 03:44:59.786
2025-04-19 03:45:00,030 - data.chartink - INFO - [CHARTINK-97656] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 03:45:00,033 - data.chartink - INFO - [CHARTINK-97656] Response type: dict
2025-04-19 03:45:00,033 - data.chartink - INFO - [CHARTINK-97656] Data entries: 1220
2025-04-19 03:45:00,057 - data.chartink - INFO - [CHARTINK-97656] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:45:00,057 - data.chartink - INFO - [CHARTINK-97656] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:45:00,058 - data.chartink - INFO - [CHARTINK-97656] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:45:00,062 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:45:00,062 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:45:00,062 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:45:00,062 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:45:00,062 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:45:00,062 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:45:00,062 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:45:00,062 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:45:00,062 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:45:00,067 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:45:00,075 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:45:00,077 - __main__ - ERROR - Swing page error: There are multiple widgets with the same `key='view_POWERINDIA'`.

To fix this, please make sure that the `key` argument is unique for each
widget you create.
2025-04-19 03:46:41,911 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:46:45,183 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:46:45,183 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:46:45,183 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:46:45,183 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:46:45,183 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:46:45,513 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.33s
2025-04-19 03:46:45,519 - data.chartink - INFO - [CHARTINK-5519] üöÄ Preparing ChartInk API request
2025-04-19 03:46:45,519 - data.chartink - INFO - [CHARTINK-5519] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:46:45,784 - data.chartink - INFO - [CHARTINK-5519] ‚úÖ CSRF token obtained successfully
2025-04-19 03:46:45,784 - data.chartink - INFO - [CHARTINK-5519] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:46:45,785 - data.chartink - INFO - [CHARTINK-5519] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:46:45,785 - data.chartink - INFO - [CHARTINK-5519] ‚è±Ô∏è API call started at 03:46:45.785
2025-04-19 03:46:45,970 - data.chartink - INFO - [CHARTINK-5519] ‚¨áÔ∏è Received response in 0.19s with status code 200
2025-04-19 03:46:45,972 - data.chartink - INFO - [CHARTINK-5519] Response type: dict
2025-04-19 03:46:45,972 - data.chartink - INFO - [CHARTINK-5519] Data entries: 1220
2025-04-19 03:46:45,974 - data.chartink - INFO - [CHARTINK-5519] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:46:45,974 - data.chartink - INFO - [CHARTINK-5519] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:46:45,974 - data.chartink - INFO - [CHARTINK-5519] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:46:45,976 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.79s
2025-04-19 03:46:45,976 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:46:45,976 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:46:45,978 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:46:45,978 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:46:45,979 - data.top_stocks_service - INFO - [FETCH #42260] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:46:45,979 - data.top_stocks_service - INFO - [FETCH #42260] Using waterfall algorithm
2025-04-19 03:46:45,979 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:46:45,979 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:46:45,979 - data.chartink - INFO - [CHARTINK-5979] üöÄ Preparing ChartInk API request
2025-04-19 03:46:45,979 - data.chartink - INFO - [CHARTINK-5979] Rate limiting: Sleeping for 1.81s
2025-04-19 03:46:47,790 - data.chartink - INFO - [CHARTINK-5979] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:46:48,040 - data.chartink - INFO - [CHARTINK-5979] ‚úÖ CSRF token obtained successfully
2025-04-19 03:46:48,040 - data.chartink - INFO - [CHARTINK-5979] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:46:48,041 - data.chartink - INFO - [CHARTINK-5979] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:46:48,041 - data.chartink - INFO - [CHARTINK-5979] ‚è±Ô∏è API call started at 03:46:48.041
2025-04-19 03:46:48,152 - data.chartink - INFO - [CHARTINK-5979] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:46:48,153 - data.chartink - INFO - [CHARTINK-5979] Response type: dict
2025-04-19 03:46:48,153 - data.chartink - INFO - [CHARTINK-5979] Data entries: 0
2025-04-19 03:46:48,153 - data.chartink - INFO - [CHARTINK-5979] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:46:48,156 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:46:48,156 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:46:48,156 - data.chartink - INFO - [CHARTINK-8156] üöÄ Preparing ChartInk API request
2025-04-19 03:46:48,156 - data.chartink - INFO - [CHARTINK-8156] Rate limiting: Sleeping for 1.88s
2025-04-19 03:46:50,046 - data.chartink - INFO - [CHARTINK-8156] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:46:50,267 - data.chartink - INFO - [CHARTINK-8156] ‚úÖ CSRF token obtained successfully
2025-04-19 03:46:50,268 - data.chartink - INFO - [CHARTINK-8156] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:46:50,268 - data.chartink - INFO - [CHARTINK-8156] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:46:50,268 - data.chartink - INFO - [CHARTINK-8156] ‚è±Ô∏è API call started at 03:46:50.268
2025-04-19 03:46:50,371 - data.chartink - INFO - [CHARTINK-8156] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:46:50,371 - data.chartink - INFO - [CHARTINK-8156] Response type: dict
2025-04-19 03:46:50,371 - data.chartink - INFO - [CHARTINK-8156] Data entries: 0
2025-04-19 03:46:50,372 - data.chartink - INFO - [CHARTINK-8156] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:46:50,376 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:46:50,376 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:46:50,376 - data.chartink - INFO - [CHARTINK-10376] üöÄ Preparing ChartInk API request
2025-04-19 03:46:50,376 - data.chartink - INFO - [CHARTINK-10376] Rate limiting: Sleeping for 1.89s
2025-04-19 03:46:52,273 - data.chartink - INFO - [CHARTINK-10376] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:46:52,495 - data.chartink - INFO - [CHARTINK-10376] ‚úÖ CSRF token obtained successfully
2025-04-19 03:46:52,495 - data.chartink - INFO - [CHARTINK-10376] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:46:52,495 - data.chartink - INFO - [CHARTINK-10376] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:46:52,495 - data.chartink - INFO - [CHARTINK-10376] ‚è±Ô∏è API call started at 03:46:52.495
2025-04-19 03:46:52,600 - data.chartink - INFO - [CHARTINK-10376] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:46:52,600 - data.chartink - INFO - [CHARTINK-10376] Response type: dict
2025-04-19 03:46:52,600 - data.chartink - INFO - [CHARTINK-10376] Data entries: 0
2025-04-19 03:46:52,600 - data.chartink - INFO - [CHARTINK-10376] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:46:52,603 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:46:52,603 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:46:52,604 - data.chartink - INFO - [CHARTINK-12604] üöÄ Preparing ChartInk API request
2025-04-19 03:46:52,604 - data.chartink - INFO - [CHARTINK-12604] Rate limiting: Sleeping for 1.89s
2025-04-19 03:46:54,501 - data.chartink - INFO - [CHARTINK-12604] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:46:54,752 - data.chartink - INFO - [CHARTINK-12604] ‚úÖ CSRF token obtained successfully
2025-04-19 03:46:54,752 - data.chartink - INFO - [CHARTINK-12604] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:46:54,752 - data.chartink - INFO - [CHARTINK-12604] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:46:54,752 - data.chartink - INFO - [CHARTINK-12604] ‚è±Ô∏è API call started at 03:46:54.752
2025-04-19 03:46:54,865 - data.chartink - INFO - [CHARTINK-12604] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:46:54,865 - data.chartink - INFO - [CHARTINK-12604] Response type: dict
2025-04-19 03:46:54,866 - data.chartink - INFO - [CHARTINK-12604] Data entries: 0
2025-04-19 03:46:54,866 - data.chartink - INFO - [CHARTINK-12604] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:46:54,870 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:46:54,870 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:46:54,870 - data.chartink - INFO - [CHARTINK-14870] üöÄ Preparing ChartInk API request
2025-04-19 03:46:54,870 - data.chartink - INFO - [CHARTINK-14870] Rate limiting: Sleeping for 1.88s
2025-04-19 03:46:56,759 - data.chartink - INFO - [CHARTINK-14870] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:46:57,023 - data.chartink - INFO - [CHARTINK-14870] ‚úÖ CSRF token obtained successfully
2025-04-19 03:46:57,023 - data.chartink - INFO - [CHARTINK-14870] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:46:57,023 - data.chartink - INFO - [CHARTINK-14870] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:46:57,023 - data.chartink - INFO - [CHARTINK-14870] ‚è±Ô∏è API call started at 03:46:57.023
2025-04-19 03:46:57,248 - data.chartink - INFO - [CHARTINK-14870] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:46:57,254 - data.chartink - INFO - [CHARTINK-14870] Response type: dict
2025-04-19 03:46:57,254 - data.chartink - INFO - [CHARTINK-14870] Data entries: 1220
2025-04-19 03:46:57,265 - data.chartink - INFO - [CHARTINK-14870] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:46:57,265 - data.chartink - INFO - [CHARTINK-14870] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:46:57,270 - data.chartink - INFO - [CHARTINK-14870] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:46:57,278 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:46:57,278 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:46:57,279 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:46:57,279 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:46:57,279 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:46:57,279 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:46:57,280 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:46:57,280 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:46:57,280 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:46:57,290 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:46:57,301 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:46:57,303 - __main__ - ERROR - Swing page error: There are multiple widgets with the same `key='view_POWERINDIA_9f5a0ba6_1745014617_0'`.

To fix this, please make sure that the `key` argument is unique for each
widget you create.
2025-04-19 03:48:25,612 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:48:28,636 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:48:28,684 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:48:28,684 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:48:28,685 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:48:28,685 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:48:28,892 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.21s
2025-04-19 03:48:28,893 - data.chartink - INFO - [CHARTINK-8893] üöÄ Preparing ChartInk API request
2025-04-19 03:48:28,893 - data.chartink - INFO - [CHARTINK-8893] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:48:29,234 - data.chartink - INFO - [CHARTINK-8893] ‚úÖ CSRF token obtained successfully
2025-04-19 03:48:29,234 - data.chartink - INFO - [CHARTINK-8893] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:48:29,235 - data.chartink - INFO - [CHARTINK-8893] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:48:29,235 - data.chartink - INFO - [CHARTINK-8893] ‚è±Ô∏è API call started at 03:48:29.235
2025-04-19 03:48:29,459 - data.chartink - INFO - [CHARTINK-8893] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:48:29,461 - data.chartink - INFO - [CHARTINK-8893] Response type: dict
2025-04-19 03:48:29,461 - data.chartink - INFO - [CHARTINK-8893] Data entries: 1220
2025-04-19 03:48:29,463 - data.chartink - INFO - [CHARTINK-8893] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:48:29,463 - data.chartink - INFO - [CHARTINK-8893] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:48:29,464 - data.chartink - INFO - [CHARTINK-8893] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:48:29,466 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.78s
2025-04-19 03:48:29,466 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:48:29,466 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:48:29,468 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:48:29,468 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:48:29,468 - data.top_stocks_service - INFO - [FETCH #56830] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:48:29,468 - data.top_stocks_service - INFO - [FETCH #56830] Using waterfall algorithm
2025-04-19 03:48:29,468 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:48:29,468 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:48:29,468 - data.chartink - INFO - [CHARTINK-9468] üöÄ Preparing ChartInk API request
2025-04-19 03:48:29,469 - data.chartink - INFO - [CHARTINK-9468] Rate limiting: Sleeping for 1.77s
2025-04-19 03:48:31,240 - data.chartink - INFO - [CHARTINK-9468] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:48:31,675 - data.chartink - INFO - [CHARTINK-9468] ‚úÖ CSRF token obtained successfully
2025-04-19 03:48:31,676 - data.chartink - INFO - [CHARTINK-9468] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:48:31,676 - data.chartink - INFO - [CHARTINK-9468] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:48:31,676 - data.chartink - INFO - [CHARTINK-9468] ‚è±Ô∏è API call started at 03:48:31.676
2025-04-19 03:48:31,784 - data.chartink - INFO - [CHARTINK-9468] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:48:31,784 - data.chartink - INFO - [CHARTINK-9468] Response type: dict
2025-04-19 03:48:31,784 - data.chartink - INFO - [CHARTINK-9468] Data entries: 0
2025-04-19 03:48:31,784 - data.chartink - INFO - [CHARTINK-9468] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:48:31,786 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:48:31,786 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:48:31,786 - data.chartink - INFO - [CHARTINK-11786] üöÄ Preparing ChartInk API request
2025-04-19 03:48:31,786 - data.chartink - INFO - [CHARTINK-11786] Rate limiting: Sleeping for 1.89s
2025-04-19 03:48:33,683 - data.chartink - INFO - [CHARTINK-11786] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:48:33,917 - data.chartink - INFO - [CHARTINK-11786] ‚úÖ CSRF token obtained successfully
2025-04-19 03:48:33,917 - data.chartink - INFO - [CHARTINK-11786] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:48:33,917 - data.chartink - INFO - [CHARTINK-11786] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:48:33,917 - data.chartink - INFO - [CHARTINK-11786] ‚è±Ô∏è API call started at 03:48:33.917
2025-04-19 03:48:34,024 - data.chartink - INFO - [CHARTINK-11786] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:48:34,025 - data.chartink - INFO - [CHARTINK-11786] Response type: dict
2025-04-19 03:48:34,025 - data.chartink - INFO - [CHARTINK-11786] Data entries: 0
2025-04-19 03:48:34,025 - data.chartink - INFO - [CHARTINK-11786] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:48:34,027 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:48:34,027 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:48:34,027 - data.chartink - INFO - [CHARTINK-14027] üöÄ Preparing ChartInk API request
2025-04-19 03:48:34,027 - data.chartink - INFO - [CHARTINK-14027] Rate limiting: Sleeping for 1.89s
2025-04-19 03:48:35,923 - data.chartink - INFO - [CHARTINK-14027] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:48:36,155 - data.chartink - INFO - [CHARTINK-14027] ‚úÖ CSRF token obtained successfully
2025-04-19 03:48:36,156 - data.chartink - INFO - [CHARTINK-14027] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:48:36,156 - data.chartink - INFO - [CHARTINK-14027] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:48:36,156 - data.chartink - INFO - [CHARTINK-14027] ‚è±Ô∏è API call started at 03:48:36.156
2025-04-19 03:48:36,294 - data.chartink - INFO - [CHARTINK-14027] ‚¨áÔ∏è Received response in 0.14s with status code 200
2025-04-19 03:48:36,295 - data.chartink - INFO - [CHARTINK-14027] Response type: dict
2025-04-19 03:48:36,295 - data.chartink - INFO - [CHARTINK-14027] Data entries: 0
2025-04-19 03:48:36,295 - data.chartink - INFO - [CHARTINK-14027] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:48:36,296 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:48:36,296 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:48:36,296 - data.chartink - INFO - [CHARTINK-16296] üöÄ Preparing ChartInk API request
2025-04-19 03:48:36,296 - data.chartink - INFO - [CHARTINK-16296] Rate limiting: Sleeping for 1.86s
2025-04-19 03:48:38,162 - data.chartink - INFO - [CHARTINK-16296] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:48:38,401 - data.chartink - INFO - [CHARTINK-16296] ‚úÖ CSRF token obtained successfully
2025-04-19 03:48:38,401 - data.chartink - INFO - [CHARTINK-16296] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:48:38,401 - data.chartink - INFO - [CHARTINK-16296] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:48:38,401 - data.chartink - INFO - [CHARTINK-16296] ‚è±Ô∏è API call started at 03:48:38.401
2025-04-19 03:48:38,516 - data.chartink - INFO - [CHARTINK-16296] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:48:38,517 - data.chartink - INFO - [CHARTINK-16296] Response type: dict
2025-04-19 03:48:38,517 - data.chartink - INFO - [CHARTINK-16296] Data entries: 0
2025-04-19 03:48:38,518 - data.chartink - INFO - [CHARTINK-16296] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:48:38,521 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:48:38,521 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:48:38,521 - data.chartink - INFO - [CHARTINK-18521] üöÄ Preparing ChartInk API request
2025-04-19 03:48:38,521 - data.chartink - INFO - [CHARTINK-18521] Rate limiting: Sleeping for 1.88s
2025-04-19 03:48:40,407 - data.chartink - INFO - [CHARTINK-18521] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:48:40,646 - data.chartink - INFO - [CHARTINK-18521] ‚úÖ CSRF token obtained successfully
2025-04-19 03:48:40,646 - data.chartink - INFO - [CHARTINK-18521] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:48:40,646 - data.chartink - INFO - [CHARTINK-18521] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:48:40,646 - data.chartink - INFO - [CHARTINK-18521] ‚è±Ô∏è API call started at 03:48:40.646
2025-04-19 03:48:40,864 - data.chartink - INFO - [CHARTINK-18521] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:48:40,869 - data.chartink - INFO - [CHARTINK-18521] Response type: dict
2025-04-19 03:48:40,869 - data.chartink - INFO - [CHARTINK-18521] Data entries: 1220
2025-04-19 03:48:40,874 - data.chartink - INFO - [CHARTINK-18521] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:48:40,874 - data.chartink - INFO - [CHARTINK-18521] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:48:40,875 - data.chartink - INFO - [CHARTINK-18521] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:48:40,882 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:48:40,882 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:48:40,882 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:48:40,883 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:48:40,883 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:48:40,883 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:48:40,883 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:48:40,883 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:48:40,883 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:48:40,888 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:48:40,897 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:48:40,899 - __main__ - ERROR - Swing page error: There are multiple widgets with the same `key='view_POWERINDIA_507cbaa6_1745014720_0'`.

To fix this, please make sure that the `key` argument is unique for each
widget you create.
2025-04-19 03:50:23,998 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:50:26,780 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:50:26,834 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:50:26,834 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:50:26,835 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:50:26,835 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:50:27,070 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.24s
2025-04-19 03:50:27,073 - data.chartink - INFO - [CHARTINK-27073] üöÄ Preparing ChartInk API request
2025-04-19 03:50:27,073 - data.chartink - INFO - [CHARTINK-27073] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:50:27,455 - data.chartink - INFO - [CHARTINK-27073] ‚úÖ CSRF token obtained successfully
2025-04-19 03:50:27,455 - data.chartink - INFO - [CHARTINK-27073] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:50:27,455 - data.chartink - INFO - [CHARTINK-27073] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:50:27,455 - data.chartink - INFO - [CHARTINK-27073] ‚è±Ô∏è API call started at 03:50:27.455
2025-04-19 03:50:27,674 - data.chartink - INFO - [CHARTINK-27073] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:50:27,679 - data.chartink - INFO - [CHARTINK-27073] Response type: dict
2025-04-19 03:50:27,680 - data.chartink - INFO - [CHARTINK-27073] Data entries: 1220
2025-04-19 03:50:27,681 - data.chartink - INFO - [CHARTINK-27073] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:50:27,682 - data.chartink - INFO - [CHARTINK-27073] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:50:27,682 - data.chartink - INFO - [CHARTINK-27073] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:50:27,684 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.85s
2025-04-19 03:50:27,684 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:50:27,684 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:50:27,686 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:50:27,686 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:50:27,686 - data.top_stocks_service - INFO - [FETCH #20211] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:50:27,686 - data.top_stocks_service - INFO - [FETCH #20211] Using waterfall algorithm
2025-04-19 03:50:27,686 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:50:27,686 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:50:27,686 - data.chartink - INFO - [CHARTINK-27686] üöÄ Preparing ChartInk API request
2025-04-19 03:50:27,686 - data.chartink - INFO - [CHARTINK-27686] Rate limiting: Sleeping for 1.77s
2025-04-19 03:50:29,461 - data.chartink - INFO - [CHARTINK-27686] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:50:29,717 - data.chartink - INFO - [CHARTINK-27686] ‚úÖ CSRF token obtained successfully
2025-04-19 03:50:29,719 - data.chartink - INFO - [CHARTINK-27686] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:50:29,719 - data.chartink - INFO - [CHARTINK-27686] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:50:29,719 - data.chartink - INFO - [CHARTINK-27686] ‚è±Ô∏è API call started at 03:50:29.719
2025-04-19 03:50:29,832 - data.chartink - INFO - [CHARTINK-27686] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:50:29,898 - data.chartink - INFO - [CHARTINK-27686] Response type: dict
2025-04-19 03:50:29,898 - data.chartink - INFO - [CHARTINK-27686] Data entries: 0
2025-04-19 03:50:29,898 - data.chartink - INFO - [CHARTINK-27686] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:50:29,900 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:50:29,900 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:50:29,901 - data.chartink - INFO - [CHARTINK-29901] üöÄ Preparing ChartInk API request
2025-04-19 03:50:29,901 - data.chartink - INFO - [CHARTINK-29901] Rate limiting: Sleeping for 1.82s
2025-04-19 03:50:31,725 - data.chartink - INFO - [CHARTINK-29901] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:50:31,956 - data.chartink - INFO - [CHARTINK-29901] ‚úÖ CSRF token obtained successfully
2025-04-19 03:50:31,956 - data.chartink - INFO - [CHARTINK-29901] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:50:31,956 - data.chartink - INFO - [CHARTINK-29901] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:50:31,956 - data.chartink - INFO - [CHARTINK-29901] ‚è±Ô∏è API call started at 03:50:31.956
2025-04-19 03:50:32,066 - data.chartink - INFO - [CHARTINK-29901] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:50:32,067 - data.chartink - INFO - [CHARTINK-29901] Response type: dict
2025-04-19 03:50:32,067 - data.chartink - INFO - [CHARTINK-29901] Data entries: 0
2025-04-19 03:50:32,068 - data.chartink - INFO - [CHARTINK-29901] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:50:32,071 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:50:32,072 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:50:32,072 - data.chartink - INFO - [CHARTINK-32072] üöÄ Preparing ChartInk API request
2025-04-19 03:50:32,072 - data.chartink - INFO - [CHARTINK-32072] Rate limiting: Sleeping for 1.88s
2025-04-19 03:50:33,961 - data.chartink - INFO - [CHARTINK-32072] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:50:34,187 - data.chartink - INFO - [CHARTINK-32072] ‚úÖ CSRF token obtained successfully
2025-04-19 03:50:34,187 - data.chartink - INFO - [CHARTINK-32072] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:50:34,187 - data.chartink - INFO - [CHARTINK-32072] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:50:34,187 - data.chartink - INFO - [CHARTINK-32072] ‚è±Ô∏è API call started at 03:50:34.187
2025-04-19 03:50:34,298 - data.chartink - INFO - [CHARTINK-32072] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:50:34,298 - data.chartink - INFO - [CHARTINK-32072] Response type: dict
2025-04-19 03:50:34,298 - data.chartink - INFO - [CHARTINK-32072] Data entries: 0
2025-04-19 03:50:34,300 - data.chartink - INFO - [CHARTINK-32072] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:50:34,302 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:50:34,302 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:50:34,303 - data.chartink - INFO - [CHARTINK-34302] üöÄ Preparing ChartInk API request
2025-04-19 03:50:34,303 - data.chartink - INFO - [CHARTINK-34302] Rate limiting: Sleeping for 1.88s
2025-04-19 03:50:36,193 - data.chartink - INFO - [CHARTINK-34302] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:50:36,427 - data.chartink - INFO - [CHARTINK-34302] ‚úÖ CSRF token obtained successfully
2025-04-19 03:50:36,427 - data.chartink - INFO - [CHARTINK-34302] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:50:36,427 - data.chartink - INFO - [CHARTINK-34302] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:50:36,427 - data.chartink - INFO - [CHARTINK-34302] ‚è±Ô∏è API call started at 03:50:36.427
2025-04-19 03:50:36,536 - data.chartink - INFO - [CHARTINK-34302] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:50:36,536 - data.chartink - INFO - [CHARTINK-34302] Response type: dict
2025-04-19 03:50:36,536 - data.chartink - INFO - [CHARTINK-34302] Data entries: 0
2025-04-19 03:50:36,536 - data.chartink - INFO - [CHARTINK-34302] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:50:36,538 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:50:36,538 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:50:36,538 - data.chartink - INFO - [CHARTINK-36538] üöÄ Preparing ChartInk API request
2025-04-19 03:50:36,538 - data.chartink - INFO - [CHARTINK-36538] Rate limiting: Sleeping for 1.89s
2025-04-19 03:50:38,433 - data.chartink - INFO - [CHARTINK-36538] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:50:38,707 - data.chartink - INFO - [CHARTINK-36538] ‚úÖ CSRF token obtained successfully
2025-04-19 03:50:38,707 - data.chartink - INFO - [CHARTINK-36538] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:50:38,707 - data.chartink - INFO - [CHARTINK-36538] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:50:38,707 - data.chartink - INFO - [CHARTINK-36538] ‚è±Ô∏è API call started at 03:50:38.707
2025-04-19 03:50:38,935 - data.chartink - INFO - [CHARTINK-36538] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 03:50:38,941 - data.chartink - INFO - [CHARTINK-36538] Response type: dict
2025-04-19 03:50:38,941 - data.chartink - INFO - [CHARTINK-36538] Data entries: 1220
2025-04-19 03:50:38,946 - data.chartink - INFO - [CHARTINK-36538] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:50:38,946 - data.chartink - INFO - [CHARTINK-36538] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:50:38,947 - data.chartink - INFO - [CHARTINK-36538] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:50:38,954 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:50:38,954 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:50:38,954 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:50:38,954 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:50:38,954 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:50:38,954 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:50:38,954 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:50:38,955 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:50:38,955 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:50:38,958 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:50:38,966 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:50:38,968 - __main__ - ERROR - Swing page error: There are multiple widgets with the same `key='view_POWERINDIA_a02da165_1745014838_0'`.

To fix this, please make sure that the `key` argument is unique for each
widget you create.
2025-04-19 03:51:15,623 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:51:17,420 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:51:17,420 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:51:17,421 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:51:17,421 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:51:17,421 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:51:17,644 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.22s
2025-04-19 03:51:17,646 - data.chartink - INFO - [CHARTINK-77646] üöÄ Preparing ChartInk API request
2025-04-19 03:51:17,646 - data.chartink - INFO - [CHARTINK-77646] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:51:17,877 - data.chartink - INFO - [CHARTINK-77646] ‚úÖ CSRF token obtained successfully
2025-04-19 03:51:17,877 - data.chartink - INFO - [CHARTINK-77646] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:51:17,877 - data.chartink - INFO - [CHARTINK-77646] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:51:17,877 - data.chartink - INFO - [CHARTINK-77646] ‚è±Ô∏è API call started at 03:51:17.877
2025-04-19 03:51:18,083 - data.chartink - INFO - [CHARTINK-77646] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 03:51:18,087 - data.chartink - INFO - [CHARTINK-77646] Response type: dict
2025-04-19 03:51:18,088 - data.chartink - INFO - [CHARTINK-77646] Data entries: 1220
2025-04-19 03:51:18,091 - data.chartink - INFO - [CHARTINK-77646] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:51:18,091 - data.chartink - INFO - [CHARTINK-77646] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:51:18,092 - data.chartink - INFO - [CHARTINK-77646] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:51:18,094 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.67s
2025-04-19 03:51:18,095 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:51:18,095 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:51:18,098 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:51:18,099 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:51:18,100 - data.top_stocks_service - INFO - [FETCH #90459] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:51:18,100 - data.top_stocks_service - INFO - [FETCH #90459] Using waterfall algorithm
2025-04-19 03:51:18,100 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:51:18,101 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:51:18,101 - data.chartink - INFO - [CHARTINK-78101] üöÄ Preparing ChartInk API request
2025-04-19 03:51:18,101 - data.chartink - INFO - [CHARTINK-78101] Rate limiting: Sleeping for 1.78s
2025-04-19 03:51:19,879 - data.chartink - INFO - [CHARTINK-78101] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:51:20,184 - data.chartink - INFO - [CHARTINK-78101] ‚úÖ CSRF token obtained successfully
2025-04-19 03:51:20,184 - data.chartink - INFO - [CHARTINK-78101] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:51:20,184 - data.chartink - INFO - [CHARTINK-78101] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:51:20,184 - data.chartink - INFO - [CHARTINK-78101] ‚è±Ô∏è API call started at 03:51:20.184
2025-04-19 03:51:20,293 - data.chartink - INFO - [CHARTINK-78101] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:51:20,294 - data.chartink - INFO - [CHARTINK-78101] Response type: dict
2025-04-19 03:51:20,294 - data.chartink - INFO - [CHARTINK-78101] Data entries: 0
2025-04-19 03:51:20,295 - data.chartink - INFO - [CHARTINK-78101] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:51:20,298 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:51:20,298 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:51:20,298 - data.chartink - INFO - [CHARTINK-80298] üöÄ Preparing ChartInk API request
2025-04-19 03:51:20,298 - data.chartink - INFO - [CHARTINK-80298] Rate limiting: Sleeping for 1.89s
2025-04-19 03:51:22,186 - data.chartink - INFO - [CHARTINK-80298] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:51:22,385 - data.chartink - INFO - [CHARTINK-80298] ‚úÖ CSRF token obtained successfully
2025-04-19 03:51:22,385 - data.chartink - INFO - [CHARTINK-80298] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:51:22,385 - data.chartink - INFO - [CHARTINK-80298] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:51:22,385 - data.chartink - INFO - [CHARTINK-80298] ‚è±Ô∏è API call started at 03:51:22.385
2025-04-19 03:51:22,500 - data.chartink - INFO - [CHARTINK-80298] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:51:22,500 - data.chartink - INFO - [CHARTINK-80298] Response type: dict
2025-04-19 03:51:22,500 - data.chartink - INFO - [CHARTINK-80298] Data entries: 0
2025-04-19 03:51:22,501 - data.chartink - INFO - [CHARTINK-80298] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:51:22,504 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:51:22,504 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:51:22,504 - data.chartink - INFO - [CHARTINK-82504] üöÄ Preparing ChartInk API request
2025-04-19 03:51:22,504 - data.chartink - INFO - [CHARTINK-82504] Rate limiting: Sleeping for 1.88s
2025-04-19 03:51:24,391 - data.chartink - INFO - [CHARTINK-82504] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:51:24,630 - data.chartink - INFO - [CHARTINK-82504] ‚úÖ CSRF token obtained successfully
2025-04-19 03:51:24,630 - data.chartink - INFO - [CHARTINK-82504] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:51:24,630 - data.chartink - INFO - [CHARTINK-82504] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:51:24,630 - data.chartink - INFO - [CHARTINK-82504] ‚è±Ô∏è API call started at 03:51:24.630
2025-04-19 03:51:24,735 - data.chartink - INFO - [CHARTINK-82504] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:51:24,735 - data.chartink - INFO - [CHARTINK-82504] Response type: dict
2025-04-19 03:51:24,735 - data.chartink - INFO - [CHARTINK-82504] Data entries: 0
2025-04-19 03:51:24,735 - data.chartink - INFO - [CHARTINK-82504] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:51:24,736 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:51:24,737 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:51:24,737 - data.chartink - INFO - [CHARTINK-84737] üöÄ Preparing ChartInk API request
2025-04-19 03:51:24,737 - data.chartink - INFO - [CHARTINK-84737] Rate limiting: Sleeping for 1.89s
2025-04-19 03:51:26,635 - data.chartink - INFO - [CHARTINK-84737] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:51:26,874 - data.chartink - INFO - [CHARTINK-84737] ‚úÖ CSRF token obtained successfully
2025-04-19 03:51:26,874 - data.chartink - INFO - [CHARTINK-84737] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:51:26,874 - data.chartink - INFO - [CHARTINK-84737] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:51:26,874 - data.chartink - INFO - [CHARTINK-84737] ‚è±Ô∏è API call started at 03:51:26.874
2025-04-19 03:51:26,996 - data.chartink - INFO - [CHARTINK-84737] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:51:26,997 - data.chartink - INFO - [CHARTINK-84737] Response type: dict
2025-04-19 03:51:26,997 - data.chartink - INFO - [CHARTINK-84737] Data entries: 0
2025-04-19 03:51:26,999 - data.chartink - INFO - [CHARTINK-84737] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:51:27,002 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:51:27,002 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:51:27,002 - data.chartink - INFO - [CHARTINK-87002] üöÄ Preparing ChartInk API request
2025-04-19 03:51:27,002 - data.chartink - INFO - [CHARTINK-87002] Rate limiting: Sleeping for 1.87s
2025-04-19 03:51:28,878 - data.chartink - INFO - [CHARTINK-87002] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:51:29,127 - data.chartink - INFO - [CHARTINK-87002] ‚úÖ CSRF token obtained successfully
2025-04-19 03:51:29,128 - data.chartink - INFO - [CHARTINK-87002] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:51:29,128 - data.chartink - INFO - [CHARTINK-87002] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:51:29,128 - data.chartink - INFO - [CHARTINK-87002] ‚è±Ô∏è API call started at 03:51:29.128
2025-04-19 03:51:29,452 - data.chartink - INFO - [CHARTINK-87002] ‚¨áÔ∏è Received response in 0.32s with status code 200
2025-04-19 03:51:29,455 - data.chartink - INFO - [CHARTINK-87002] Response type: dict
2025-04-19 03:51:29,455 - data.chartink - INFO - [CHARTINK-87002] Data entries: 1220
2025-04-19 03:51:29,457 - data.chartink - INFO - [CHARTINK-87002] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:51:29,457 - data.chartink - INFO - [CHARTINK-87002] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:51:29,457 - data.chartink - INFO - [CHARTINK-87002] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:51:29,461 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:51:29,461 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:51:29,461 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:51:29,461 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:51:29,461 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:51:29,461 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:51:29,461 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:51:29,461 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:51:29,461 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:51:29,463 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:51:29,476 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:51:29,476 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, using direct button approach
2025-04-19 03:54:29,778 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:54:31,870 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:54:31,874 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:54:31,875 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:54:31,875 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:54:31,875 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:54:32,122 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.25s
2025-04-19 03:54:32,123 - data.chartink - INFO - [CHARTINK-72123] üöÄ Preparing ChartInk API request
2025-04-19 03:54:32,124 - data.chartink - INFO - [CHARTINK-72123] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:54:32,351 - data.chartink - INFO - [CHARTINK-72123] ‚úÖ CSRF token obtained successfully
2025-04-19 03:54:32,351 - data.chartink - INFO - [CHARTINK-72123] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:54:32,351 - data.chartink - INFO - [CHARTINK-72123] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:54:32,351 - data.chartink - INFO - [CHARTINK-72123] ‚è±Ô∏è API call started at 03:54:32.351
2025-04-19 03:54:32,565 - data.chartink - INFO - [CHARTINK-72123] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 03:54:32,568 - data.chartink - INFO - [CHARTINK-72123] Response type: dict
2025-04-19 03:54:32,568 - data.chartink - INFO - [CHARTINK-72123] Data entries: 1220
2025-04-19 03:54:32,571 - data.chartink - INFO - [CHARTINK-72123] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:54:32,571 - data.chartink - INFO - [CHARTINK-72123] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:54:32,571 - data.chartink - INFO - [CHARTINK-72123] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:54:32,574 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.70s
2025-04-19 03:54:32,574 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:54:32,574 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:54:32,577 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:54:32,577 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:54:32,577 - data.top_stocks_service - INFO - [FETCH #67580] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:54:32,577 - data.top_stocks_service - INFO - [FETCH #67580] Using waterfall algorithm
2025-04-19 03:54:32,577 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:54:32,577 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:54:32,577 - data.chartink - INFO - [CHARTINK-72577] üöÄ Preparing ChartInk API request
2025-04-19 03:54:32,577 - data.chartink - INFO - [CHARTINK-72577] Rate limiting: Sleeping for 1.77s
2025-04-19 03:54:34,357 - data.chartink - INFO - [CHARTINK-72577] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:54:34,642 - data.chartink - INFO - [CHARTINK-72577] ‚úÖ CSRF token obtained successfully
2025-04-19 03:54:34,642 - data.chartink - INFO - [CHARTINK-72577] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:54:34,642 - data.chartink - INFO - [CHARTINK-72577] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:54:34,642 - data.chartink - INFO - [CHARTINK-72577] ‚è±Ô∏è API call started at 03:54:34.642
2025-04-19 03:54:34,745 - data.chartink - INFO - [CHARTINK-72577] ‚¨áÔ∏è Received response in 0.10s with status code 200
2025-04-19 03:54:34,746 - data.chartink - INFO - [CHARTINK-72577] Response type: dict
2025-04-19 03:54:34,746 - data.chartink - INFO - [CHARTINK-72577] Data entries: 0
2025-04-19 03:54:34,747 - data.chartink - INFO - [CHARTINK-72577] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:54:34,750 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:54:34,750 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:54:34,750 - data.chartink - INFO - [CHARTINK-74750] üöÄ Preparing ChartInk API request
2025-04-19 03:54:34,750 - data.chartink - INFO - [CHARTINK-74750] Rate limiting: Sleeping for 1.89s
2025-04-19 03:54:36,648 - data.chartink - INFO - [CHARTINK-74750] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:54:36,869 - data.chartink - INFO - [CHARTINK-74750] ‚úÖ CSRF token obtained successfully
2025-04-19 03:54:36,869 - data.chartink - INFO - [CHARTINK-74750] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:54:36,869 - data.chartink - INFO - [CHARTINK-74750] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:54:36,869 - data.chartink - INFO - [CHARTINK-74750] ‚è±Ô∏è API call started at 03:54:36.869
2025-04-19 03:54:36,990 - data.chartink - INFO - [CHARTINK-74750] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:54:36,999 - data.chartink - INFO - [CHARTINK-74750] Response type: dict
2025-04-19 03:54:37,048 - data.chartink - INFO - [CHARTINK-74750] Data entries: 0
2025-04-19 03:54:37,049 - data.chartink - INFO - [CHARTINK-74750] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:54:37,050 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:54:37,050 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:54:37,051 - data.chartink - INFO - [CHARTINK-77051] üöÄ Preparing ChartInk API request
2025-04-19 03:54:37,051 - data.chartink - INFO - [CHARTINK-77051] Rate limiting: Sleeping for 1.82s
2025-04-19 03:54:38,875 - data.chartink - INFO - [CHARTINK-77051] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:54:39,160 - data.chartink - INFO - [CHARTINK-77051] ‚úÖ CSRF token obtained successfully
2025-04-19 03:54:39,160 - data.chartink - INFO - [CHARTINK-77051] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:54:39,161 - data.chartink - INFO - [CHARTINK-77051] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:54:39,161 - data.chartink - INFO - [CHARTINK-77051] ‚è±Ô∏è API call started at 03:54:39.161
2025-04-19 03:54:39,269 - data.chartink - INFO - [CHARTINK-77051] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:54:39,270 - data.chartink - INFO - [CHARTINK-77051] Response type: dict
2025-04-19 03:54:39,270 - data.chartink - INFO - [CHARTINK-77051] Data entries: 0
2025-04-19 03:54:39,271 - data.chartink - INFO - [CHARTINK-77051] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:54:39,273 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:54:39,273 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:54:39,274 - data.chartink - INFO - [CHARTINK-79274] üöÄ Preparing ChartInk API request
2025-04-19 03:54:39,274 - data.chartink - INFO - [CHARTINK-79274] Rate limiting: Sleeping for 1.89s
2025-04-19 03:54:41,163 - data.chartink - INFO - [CHARTINK-79274] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:54:41,389 - data.chartink - INFO - [CHARTINK-79274] ‚úÖ CSRF token obtained successfully
2025-04-19 03:54:41,389 - data.chartink - INFO - [CHARTINK-79274] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:54:41,389 - data.chartink - INFO - [CHARTINK-79274] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:54:41,389 - data.chartink - INFO - [CHARTINK-79274] ‚è±Ô∏è API call started at 03:54:41.389
2025-04-19 03:54:41,530 - data.chartink - INFO - [CHARTINK-79274] ‚¨áÔ∏è Received response in 0.14s with status code 200
2025-04-19 03:54:41,531 - data.chartink - INFO - [CHARTINK-79274] Response type: dict
2025-04-19 03:54:41,531 - data.chartink - INFO - [CHARTINK-79274] Data entries: 0
2025-04-19 03:54:41,532 - data.chartink - INFO - [CHARTINK-79274] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:54:41,536 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:54:41,536 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:54:41,536 - data.chartink - INFO - [CHARTINK-81536] üöÄ Preparing ChartInk API request
2025-04-19 03:54:41,537 - data.chartink - INFO - [CHARTINK-81536] Rate limiting: Sleeping for 1.85s
2025-04-19 03:54:43,395 - data.chartink - INFO - [CHARTINK-81536] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:54:43,633 - data.chartink - INFO - [CHARTINK-81536] ‚úÖ CSRF token obtained successfully
2025-04-19 03:54:43,634 - data.chartink - INFO - [CHARTINK-81536] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:54:43,634 - data.chartink - INFO - [CHARTINK-81536] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:54:43,634 - data.chartink - INFO - [CHARTINK-81536] ‚è±Ô∏è API call started at 03:54:43.634
2025-04-19 03:54:43,860 - data.chartink - INFO - [CHARTINK-81536] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 03:54:43,865 - data.chartink - INFO - [CHARTINK-81536] Response type: dict
2025-04-19 03:54:43,865 - data.chartink - INFO - [CHARTINK-81536] Data entries: 1220
2025-04-19 03:54:43,869 - data.chartink - INFO - [CHARTINK-81536] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:54:43,870 - data.chartink - INFO - [CHARTINK-81536] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:54:43,870 - data.chartink - INFO - [CHARTINK-81536] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:54:43,877 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:54:43,877 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:54:43,877 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:54:43,877 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:54:43,877 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:54:43,877 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:54:43,877 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:54:43,877 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:54:43,877 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:54:43,880 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:54:43,881 - ui_services.stocks.hot_stocks_table - ERROR - Error displaying stock table: dataframe() got an unexpected keyword argument 'hide_index'
2025-04-19 03:54:43,886 - ui_services.stocks.hot_stocks_table - ERROR - Traceback (most recent call last):
  File "/Users/ashokkumar/Desktop/test/stock_work/stApps/patterns/ui_services/stocks/hot_stocks_table.py", line 98, in display_stock_table
    st.dataframe(styled_df, use_container_width=True, hide_index=True)
  File "/Users/ashokkumar/Desktop/test/stock_work/.venv/lib/python3.9/site-packages/streamlit/runtime/metrics_util.py", line 332, in wrapped_func
    result = non_optional_func(*args, **kwargs)
TypeError: dataframe() got an unexpected keyword argument 'hide_index'

2025-04-19 03:54:43,886 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, using direct button approach
2025-04-19 03:57:48,554 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 03:57:50,402 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:57:50,402 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:57:50,402 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:57:50,403 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:57:50,403 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 03:57:50,635 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.23s
2025-04-19 03:57:50,637 - data.chartink - INFO - [CHARTINK-70637] üöÄ Preparing ChartInk API request
2025-04-19 03:57:50,638 - data.chartink - INFO - [CHARTINK-70637] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:57:50,883 - data.chartink - INFO - [CHARTINK-70637] ‚úÖ CSRF token obtained successfully
2025-04-19 03:57:50,883 - data.chartink - INFO - [CHARTINK-70637] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:57:50,883 - data.chartink - INFO - [CHARTINK-70637] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:57:50,883 - data.chartink - INFO - [CHARTINK-70637] ‚è±Ô∏è API call started at 03:57:50.883
2025-04-19 03:57:51,107 - data.chartink - INFO - [CHARTINK-70637] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:57:51,120 - data.chartink - INFO - [CHARTINK-70637] Response type: dict
2025-04-19 03:57:51,120 - data.chartink - INFO - [CHARTINK-70637] Data entries: 1220
2025-04-19 03:57:51,123 - data.chartink - INFO - [CHARTINK-70637] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:57:51,123 - data.chartink - INFO - [CHARTINK-70637] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:57:51,123 - data.chartink - INFO - [CHARTINK-70637] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:57:51,126 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.72s
2025-04-19 03:57:51,128 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:57:51,129 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:57:51,131 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 03:57:51,133 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:57:51,133 - data.top_stocks_service - INFO - [FETCH #30687] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 03:57:51,134 - data.top_stocks_service - INFO - [FETCH #30687] Using waterfall algorithm
2025-04-19 03:57:51,134 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 03:57:51,134 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 03:57:51,134 - data.chartink - INFO - [CHARTINK-71134] üöÄ Preparing ChartInk API request
2025-04-19 03:57:51,134 - data.chartink - INFO - [CHARTINK-71134] Rate limiting: Sleeping for 1.75s
2025-04-19 03:57:52,889 - data.chartink - INFO - [CHARTINK-71134] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:57:53,138 - data.chartink - INFO - [CHARTINK-71134] ‚úÖ CSRF token obtained successfully
2025-04-19 03:57:53,138 - data.chartink - INFO - [CHARTINK-71134] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:57:53,138 - data.chartink - INFO - [CHARTINK-71134] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 03:57:53,138 - data.chartink - INFO - [CHARTINK-71134] ‚è±Ô∏è API call started at 03:57:53.138
2025-04-19 03:57:53,251 - data.chartink - INFO - [CHARTINK-71134] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:57:53,252 - data.chartink - INFO - [CHARTINK-71134] Response type: dict
2025-04-19 03:57:53,252 - data.chartink - INFO - [CHARTINK-71134] Data entries: 0
2025-04-19 03:57:53,253 - data.chartink - INFO - [CHARTINK-71134] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:57:53,256 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 03:57:53,256 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 03:57:53,256 - data.chartink - INFO - [CHARTINK-73256] üöÄ Preparing ChartInk API request
2025-04-19 03:57:53,256 - data.chartink - INFO - [CHARTINK-73256] Rate limiting: Sleeping for 1.88s
2025-04-19 03:57:55,144 - data.chartink - INFO - [CHARTINK-73256] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:57:55,387 - data.chartink - INFO - [CHARTINK-73256] ‚úÖ CSRF token obtained successfully
2025-04-19 03:57:55,387 - data.chartink - INFO - [CHARTINK-73256] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:57:55,387 - data.chartink - INFO - [CHARTINK-73256] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 03:57:55,387 - data.chartink - INFO - [CHARTINK-73256] ‚è±Ô∏è API call started at 03:57:55.387
2025-04-19 03:57:55,501 - data.chartink - INFO - [CHARTINK-73256] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 03:57:55,502 - data.chartink - INFO - [CHARTINK-73256] Response type: dict
2025-04-19 03:57:55,502 - data.chartink - INFO - [CHARTINK-73256] Data entries: 0
2025-04-19 03:57:55,503 - data.chartink - INFO - [CHARTINK-73256] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:57:55,506 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 03:57:55,507 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 03:57:55,507 - data.chartink - INFO - [CHARTINK-75507] üöÄ Preparing ChartInk API request
2025-04-19 03:57:55,507 - data.chartink - INFO - [CHARTINK-75507] Rate limiting: Sleeping for 1.88s
2025-04-19 03:57:57,393 - data.chartink - INFO - [CHARTINK-75507] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:57:57,638 - data.chartink - INFO - [CHARTINK-75507] ‚úÖ CSRF token obtained successfully
2025-04-19 03:57:57,639 - data.chartink - INFO - [CHARTINK-75507] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:57:57,639 - data.chartink - INFO - [CHARTINK-75507] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 03:57:57,639 - data.chartink - INFO - [CHARTINK-75507] ‚è±Ô∏è API call started at 03:57:57.639
2025-04-19 03:57:57,765 - data.chartink - INFO - [CHARTINK-75507] ‚¨áÔ∏è Received response in 0.13s with status code 200
2025-04-19 03:57:57,766 - data.chartink - INFO - [CHARTINK-75507] Response type: dict
2025-04-19 03:57:57,766 - data.chartink - INFO - [CHARTINK-75507] Data entries: 0
2025-04-19 03:57:57,767 - data.chartink - INFO - [CHARTINK-75507] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:57:57,770 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 03:57:57,770 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 03:57:57,770 - data.chartink - INFO - [CHARTINK-77770] üöÄ Preparing ChartInk API request
2025-04-19 03:57:57,770 - data.chartink - INFO - [CHARTINK-77770] Rate limiting: Sleeping for 1.87s
2025-04-19 03:57:59,645 - data.chartink - INFO - [CHARTINK-77770] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:57:59,878 - data.chartink - INFO - [CHARTINK-77770] ‚úÖ CSRF token obtained successfully
2025-04-19 03:57:59,878 - data.chartink - INFO - [CHARTINK-77770] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:57:59,878 - data.chartink - INFO - [CHARTINK-77770] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 03:57:59,878 - data.chartink - INFO - [CHARTINK-77770] ‚è±Ô∏è API call started at 03:57:59.878
2025-04-19 03:57:59,997 - data.chartink - INFO - [CHARTINK-77770] ‚¨áÔ∏è Received response in 0.12s with status code 200
2025-04-19 03:57:59,998 - data.chartink - INFO - [CHARTINK-77770] Response type: dict
2025-04-19 03:57:59,998 - data.chartink - INFO - [CHARTINK-77770] Data entries: 0
2025-04-19 03:57:59,999 - data.chartink - INFO - [CHARTINK-77770] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 03:58:00,001 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 03:58:00,001 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 03:58:00,002 - data.chartink - INFO - [CHARTINK-80002] üöÄ Preparing ChartInk API request
2025-04-19 03:58:00,002 - data.chartink - INFO - [CHARTINK-80002] Rate limiting: Sleeping for 1.88s
2025-04-19 03:58:01,880 - data.chartink - INFO - [CHARTINK-80002] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:58:02,262 - data.chartink - INFO - [CHARTINK-80002] ‚úÖ CSRF token obtained successfully
2025-04-19 03:58:02,262 - data.chartink - INFO - [CHARTINK-80002] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:58:02,262 - data.chartink - INFO - [CHARTINK-80002] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:58:02,262 - data.chartink - INFO - [CHARTINK-80002] ‚è±Ô∏è API call started at 03:58:02.262
2025-04-19 03:58:02,474 - data.chartink - INFO - [CHARTINK-80002] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 03:58:02,479 - data.chartink - INFO - [CHARTINK-80002] Response type: dict
2025-04-19 03:58:02,479 - data.chartink - INFO - [CHARTINK-80002] Data entries: 1220
2025-04-19 03:58:02,483 - data.chartink - INFO - [CHARTINK-80002] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:58:02,483 - data.chartink - INFO - [CHARTINK-80002] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:58:02,484 - data.chartink - INFO - [CHARTINK-80002] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:58:02,490 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 03:58:02,490 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 03:58:02,490 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 03:58:02,490 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:58:02,490 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 03:58:02,490 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:58:02,490 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:58:02,491 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 03:58:02,491 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 03:58:02,493 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:58:02,516 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:58:02,517 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 03:58:29,540 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:58:29,540 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:58:29,540 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:58:29,540 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:58:29,540 - data.chartink - INFO - Cache expired for query (age: 38.4s)
2025-04-19 03:58:29,540 - data.chartink - INFO - [CHARTINK-9540] üöÄ Preparing ChartInk API request
2025-04-19 03:58:29,540 - data.chartink - INFO - [CHARTINK-9540] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:58:29,806 - data.chartink - INFO - [CHARTINK-9540] ‚úÖ CSRF token obtained successfully
2025-04-19 03:58:29,806 - data.chartink - INFO - [CHARTINK-9540] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:58:29,806 - data.chartink - INFO - [CHARTINK-9540] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:58:29,806 - data.chartink - INFO - [CHARTINK-9540] ‚è±Ô∏è API call started at 03:58:29.806
2025-04-19 03:58:30,028 - data.chartink - INFO - [CHARTINK-9540] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:58:30,033 - data.chartink - INFO - [CHARTINK-9540] Response type: dict
2025-04-19 03:58:30,033 - data.chartink - INFO - [CHARTINK-9540] Data entries: 1220
2025-04-19 03:58:30,037 - data.chartink - INFO - [CHARTINK-9540] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:58:30,037 - data.chartink - INFO - [CHARTINK-9540] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:58:30,038 - data.chartink - INFO - [CHARTINK-9540] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:58:30,041 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.50s
2025-04-19 03:58:30,041 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:58:30,041 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:58:30,048 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:58:30,071 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:58:30,072 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 03:58:55,342 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:58:55,343 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:58:55,343 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:58:55,343 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:58:55,343 - data.chartink - INFO - Using cached results for query (age: 25.3s)
2025-04-19 03:58:55,343 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:58:55,343 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:58:55,344 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:58:55,346 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:58:55,362 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:58:55,362 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 03:58:57,062 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:58:57,063 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:58:57,063 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:58:57,063 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:58:57,063 - data.chartink - INFO - Using cached results for query (age: 27.0s)
2025-04-19 03:58:57,063 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:58:57,063 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:58:57,064 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:58:57,066 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:58:57,082 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:58:57,083 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 03:58:57,858 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:58:57,859 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:58:57,859 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:58:57,859 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:58:57,860 - data.chartink - INFO - Using cached results for query (age: 27.8s)
2025-04-19 03:58:57,860 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 03:58:57,860 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:58:57,860 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:58:57,862 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:58:57,878 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:58:57,879 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 03:59:12,176 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 03:59:12,176 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 03:59:12,176 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 03:59:12,176 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 03:59:12,176 - data.chartink - INFO - Cache expired for query (age: 42.1s)
2025-04-19 03:59:12,176 - data.chartink - INFO - [CHARTINK-52176] üöÄ Preparing ChartInk API request
2025-04-19 03:59:12,176 - data.chartink - INFO - [CHARTINK-52176] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:59:12,400 - data.chartink - INFO - [CHARTINK-52176] ‚úÖ CSRF token obtained successfully
2025-04-19 03:59:12,400 - data.chartink - INFO - [CHARTINK-52176] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:59:12,400 - data.chartink - INFO - [CHARTINK-52176] Query: latest close > 0 and latest volume > 100000
2025-04-19 03:59:12,400 - data.chartink - INFO - [CHARTINK-52176] ‚è±Ô∏è API call started at 03:59:12.400
2025-04-19 03:59:12,640 - data.chartink - INFO - [CHARTINK-52176] ‚¨áÔ∏è Received response in 0.24s with status code 200
2025-04-19 03:59:12,645 - data.chartink - INFO - [CHARTINK-52176] Response type: dict
2025-04-19 03:59:12,645 - data.chartink - INFO - [CHARTINK-52176] Data entries: 1220
2025-04-19 03:59:12,649 - data.chartink - INFO - [CHARTINK-52176] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 03:59:12,650 - data.chartink - INFO - [CHARTINK-52176] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:59:12,650 - data.chartink - INFO - [CHARTINK-52176] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:59:12,653 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.48s
2025-04-19 03:59:12,654 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 03:59:12,655 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 03:59:12,657 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: simple_test
2025-04-19 03:59:12,658 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 03:59:12,658 - data.top_stocks_service - INFO - [FETCH #77644] Getting hot swing stocks (limit=10, query=simple_test)
2025-04-19 03:59:12,658 - data.top_stocks_service - INFO - [FETCH #77644] Using specific query: simple_test
2025-04-19 03:59:12,659 - data.top_stocks_service - INFO - Running single query: simple_test - Simple Test Query
2025-04-19 03:59:12,659 - data.chartink - INFO - Cache expired for query (age: 70.2s)
2025-04-19 03:59:12,659 - data.chartink - INFO - [CHARTINK-52659] üöÄ Preparing ChartInk API request
2025-04-19 03:59:12,659 - data.chartink - INFO - [CHARTINK-52659] Rate limiting: Sleeping for 1.74s
2025-04-19 03:59:14,406 - data.chartink - INFO - [CHARTINK-52659] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 03:59:14,654 - data.chartink - INFO - [CHARTINK-52659] ‚úÖ CSRF token obtained successfully
2025-04-19 03:59:14,654 - data.chartink - INFO - [CHARTINK-52659] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 03:59:14,654 - data.chartink - INFO - [CHARTINK-52659] Query: latest close > 0 and          latest volume > 100000
2025-04-19 03:59:14,654 - data.chartink - INFO - [CHARTINK-52659] ‚è±Ô∏è API call started at 03:59:14.654
2025-04-19 03:59:14,873 - data.chartink - INFO - [CHARTINK-52659] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 03:59:14,882 - data.chartink - INFO - [CHARTINK-52659] Response type: dict
2025-04-19 03:59:14,883 - data.chartink - INFO - [CHARTINK-52659] Data entries: 1225
2025-04-19 03:59:14,886 - data.chartink - INFO - [CHARTINK-52659] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 03:59:14,886 - data.chartink - INFO - [CHARTINK-52659] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 03:59:14,886 - data.chartink - INFO - [CHARTINK-52659] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 03:59:14,895 - data.top_stocks_service - INFO - Returning 50 stocks from query 'Simple Test Query'
2025-04-19 03:59:14,896 - data.top_stocks_service - INFO - Stock symbols: DIXON, POWERINDIA, ULTRACEMCO, MARUTI, BAJFINANCE
2025-04-19 03:59:14,896 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 03:59:14,896 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 03:59:14,896 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Simple Test Query
2025-04-19 03:59:14,896 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'name', 'change', 'per_chg', 'volume', 'close', 'pattern', 'query_key', 'company', 'signal']
2025-04-19 03:59:14,899 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 03:59:14,917 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 03:59:14,920 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:02:16,479 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:02:16,479 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:02:16,480 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:02:16,480 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:02:16,480 - data.chartink - INFO - Cache expired for query (age: 183.8s)
2025-04-19 04:02:16,480 - data.chartink - INFO - [CHARTINK-36480] üöÄ Preparing ChartInk API request
2025-04-19 04:02:16,480 - data.chartink - INFO - [CHARTINK-36480] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:02:16,740 - data.chartink - INFO - [CHARTINK-36480] ‚úÖ CSRF token obtained successfully
2025-04-19 04:02:16,740 - data.chartink - INFO - [CHARTINK-36480] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:02:16,740 - data.chartink - INFO - [CHARTINK-36480] Query: latest close > 0 and latest volume > 100000
2025-04-19 04:02:16,740 - data.chartink - INFO - [CHARTINK-36480] ‚è±Ô∏è API call started at 04:02:16.740
2025-04-19 04:02:16,962 - data.chartink - INFO - [CHARTINK-36480] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 04:02:16,968 - data.chartink - INFO - [CHARTINK-36480] Response type: dict
2025-04-19 04:02:16,968 - data.chartink - INFO - [CHARTINK-36480] Data entries: 1220
2025-04-19 04:02:16,975 - data.chartink - INFO - [CHARTINK-36480] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 04:02:16,975 - data.chartink - INFO - [CHARTINK-36480] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:02:16,976 - data.chartink - INFO - [CHARTINK-36480] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:02:16,979 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.50s
2025-04-19 04:02:16,980 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:02:16,980 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:02:16,986 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:02:17,013 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:02:17,014 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:09:31,277 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:09:31,278 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:09:31,278 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:09:31,278 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:09:31,278 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 04:09:31,495 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.22s
2025-04-19 04:09:31,497 - data.chartink - INFO - Cache expired for query (age: 434.5s)
2025-04-19 04:09:31,497 - data.chartink - INFO - [CHARTINK-71497] üöÄ Preparing ChartInk API request
2025-04-19 04:09:31,497 - data.chartink - INFO - [CHARTINK-71497] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:09:31,835 - data.chartink - INFO - [CHARTINK-71497] ‚úÖ CSRF token obtained successfully
2025-04-19 04:09:31,836 - data.chartink - INFO - [CHARTINK-71497] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:09:31,836 - data.chartink - INFO - [CHARTINK-71497] Query: latest close > 0 and latest volume > 100000
2025-04-19 04:09:31,836 - data.chartink - INFO - [CHARTINK-71497] ‚è±Ô∏è API call started at 04:09:31.836
2025-04-19 04:09:32,044 - data.chartink - INFO - [CHARTINK-71497] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 04:09:32,049 - data.chartink - INFO - [CHARTINK-71497] Response type: dict
2025-04-19 04:09:32,049 - data.chartink - INFO - [CHARTINK-71497] Data entries: 1220
2025-04-19 04:09:32,055 - data.chartink - INFO - [CHARTINK-71497] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 04:09:32,056 - data.chartink - INFO - [CHARTINK-71497] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:09:32,057 - data.chartink - INFO - [CHARTINK-71497] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:09:32,060 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.78s
2025-04-19 04:09:32,061 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:09:32,061 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:09:32,066 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:09:32,089 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:09:32,090 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:21:03,238 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 04:21:03,250 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:21:03,251 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:21:03,251 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:21:03,251 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:21:03,251 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 04:21:03,497 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.24s
2025-04-19 04:21:03,499 - data.chartink - INFO - [CHARTINK-63499] üöÄ Preparing ChartInk API request
2025-04-19 04:21:03,500 - data.chartink - INFO - [CHARTINK-63499] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:21:03,765 - data.chartink - INFO - [CHARTINK-63499] ‚úÖ CSRF token obtained successfully
2025-04-19 04:21:03,765 - data.chartink - INFO - [CHARTINK-63499] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:21:03,765 - data.chartink - INFO - [CHARTINK-63499] Query: latest close > 0 and latest volume > 100000
2025-04-19 04:21:03,765 - data.chartink - INFO - [CHARTINK-63499] ‚è±Ô∏è API call started at 04:21:03.765
2025-04-19 04:21:03,996 - data.chartink - INFO - [CHARTINK-63499] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 04:21:03,998 - data.chartink - INFO - [CHARTINK-63499] Response type: dict
2025-04-19 04:21:03,998 - data.chartink - INFO - [CHARTINK-63499] Data entries: 1225
2025-04-19 04:21:04,002 - data.chartink - INFO - [CHARTINK-63499] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 04:21:04,003 - data.chartink - INFO - [CHARTINK-63499] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:21:04,004 - data.chartink - INFO - [CHARTINK-63499] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:21:04,006 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.75s
2025-04-19 04:21:04,006 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:21:07,871 - data.mongodb - INFO - Connected to MongoDB: mongodb://localhost:27017/st-analysis-dev
2025-04-19 04:21:10,011 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:21:10,012 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:21:10,012 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:21:10,012 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:21:10,012 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 04:21:10,240 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.23s
2025-04-19 04:21:10,241 - data.chartink - INFO - [CHARTINK-70241] üöÄ Preparing ChartInk API request
2025-04-19 04:21:10,241 - data.chartink - INFO - [CHARTINK-70241] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:21:10,529 - data.chartink - INFO - [CHARTINK-70241] ‚úÖ CSRF token obtained successfully
2025-04-19 04:21:10,529 - data.chartink - INFO - [CHARTINK-70241] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:21:10,529 - data.chartink - INFO - [CHARTINK-70241] Query: latest close > 0 and latest volume > 100000
2025-04-19 04:21:10,529 - data.chartink - INFO - [CHARTINK-70241] ‚è±Ô∏è API call started at 04:21:10.529
2025-04-19 04:21:10,742 - data.chartink - INFO - [CHARTINK-70241] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 04:21:10,746 - data.chartink - INFO - [CHARTINK-70241] Response type: dict
2025-04-19 04:21:10,746 - data.chartink - INFO - [CHARTINK-70241] Data entries: 1220
2025-04-19 04:21:10,750 - data.chartink - INFO - [CHARTINK-70241] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 04:21:10,750 - data.chartink - INFO - [CHARTINK-70241] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:21:10,750 - data.chartink - INFO - [CHARTINK-70241] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:21:10,753 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.74s
2025-04-19 04:21:10,753 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:21:10,755 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:21:10,759 - ui_services.stocks.hot_stocks_strategy - INFO - Strategy changed to: waterfall
2025-04-19 04:21:10,759 - ui_services.stocks.hot_stocks_data - INFO - Fetching hot stocks from data service
2025-04-19 04:21:10,760 - data.top_stocks_service - INFO - [FETCH #69482] Getting hot swing stocks (limit=10, query=waterfall)
2025-04-19 04:21:10,760 - data.top_stocks_service - INFO - [FETCH #69482] Using waterfall algorithm
2025-04-19 04:21:10,761 - data.top_stocks_service - INFO - Running waterfall query (min=10, max=50)
2025-04-19 04:21:10,761 - data.top_stocks_service - INFO - Waterfall [1/5]: Trying 'breakout'
2025-04-19 04:21:10,761 - data.chartink - INFO - [CHARTINK-70761] üöÄ Preparing ChartInk API request
2025-04-19 04:21:10,761 - data.chartink - INFO - [CHARTINK-70761] Rate limiting: Sleeping for 1.77s
2025-04-19 04:21:12,535 - data.chartink - INFO - [CHARTINK-70761] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:21:12,763 - data.chartink - INFO - [CHARTINK-70761] ‚úÖ CSRF token obtained successfully
2025-04-19 04:21:12,764 - data.chartink - INFO - [CHARTINK-70761] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:21:12,764 - data.chartink - INFO - [CHARTINK-70761] Query: latest close > prev close and          latest volume > prev volume * 1.5 and          latest volume > 100000 and          latest close > latest upper * 1.01 and          latest close > latest sma(20) * 1.02
2025-04-19 04:21:12,764 - data.chartink - INFO - [CHARTINK-70761] ‚è±Ô∏è API call started at 04:21:12.764
2025-04-19 04:21:12,901 - data.chartink - INFO - [CHARTINK-70761] ‚¨áÔ∏è Received response in 0.14s with status code 200
2025-04-19 04:21:12,901 - data.chartink - INFO - [CHARTINK-70761] Response type: dict
2025-04-19 04:21:12,902 - data.chartink - INFO - [CHARTINK-70761] Data entries: 0
2025-04-19 04:21:12,902 - data.chartink - INFO - [CHARTINK-70761] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 04:21:12,905 - data.top_stocks_service - INFO - Query 'Breakout Stocks' returned no results, continuing
2025-04-19 04:21:12,905 - data.top_stocks_service - INFO - Waterfall [2/5]: Trying 'support_bounce'
2025-04-19 04:21:12,905 - data.chartink - INFO - [CHARTINK-72905] üöÄ Preparing ChartInk API request
2025-04-19 04:21:12,905 - data.chartink - INFO - [CHARTINK-72905] Rate limiting: Sleeping for 1.86s
2025-04-19 04:21:14,770 - data.chartink - INFO - [CHARTINK-72905] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:21:15,010 - data.chartink - INFO - [CHARTINK-72905] ‚úÖ CSRF token obtained successfully
2025-04-19 04:21:15,010 - data.chartink - INFO - [CHARTINK-72905] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:21:15,010 - data.chartink - INFO - [CHARTINK-72905] Query: latest close > min(5, latest low) * 1.02 and          latest volume > latest sma(volume,10) * 1.2 and          latest low < latest sma(20) * 0.99 and          latest close > latest sma(20) * 0.97 and         latest close > latest open
2025-04-19 04:21:15,010 - data.chartink - INFO - [CHARTINK-72905] ‚è±Ô∏è API call started at 04:21:15.010
2025-04-19 04:21:15,123 - data.chartink - INFO - [CHARTINK-72905] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 04:21:15,124 - data.chartink - INFO - [CHARTINK-72905] Response type: dict
2025-04-19 04:21:15,124 - data.chartink - INFO - [CHARTINK-72905] Data entries: 0
2025-04-19 04:21:15,125 - data.chartink - INFO - [CHARTINK-72905] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 04:21:15,128 - data.top_stocks_service - INFO - Query 'Support Bounce' returned no results, continuing
2025-04-19 04:21:15,128 - data.top_stocks_service - INFO - Waterfall [3/5]: Trying 'bullish_engulfing'
2025-04-19 04:21:15,128 - data.chartink - INFO - [CHARTINK-75128] üöÄ Preparing ChartInk API request
2025-04-19 04:21:15,128 - data.chartink - INFO - [CHARTINK-75128] Rate limiting: Sleeping for 1.88s
2025-04-19 04:21:17,016 - data.chartink - INFO - [CHARTINK-75128] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:21:17,269 - data.chartink - INFO - [CHARTINK-75128] ‚úÖ CSRF token obtained successfully
2025-04-19 04:21:17,270 - data.chartink - INFO - [CHARTINK-75128] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:21:17,270 - data.chartink - INFO - [CHARTINK-75128] Query: latest open < prev close and          latest close > prev open and          latest close > latest open and          prev close < prev open and         latest volume > prev volume
2025-04-19 04:21:17,270 - data.chartink - INFO - [CHARTINK-75128] ‚è±Ô∏è API call started at 04:21:17.270
2025-04-19 04:21:17,423 - data.chartink - INFO - [CHARTINK-75128] ‚¨áÔ∏è Received response in 0.15s with status code 200
2025-04-19 04:21:17,423 - data.chartink - INFO - [CHARTINK-75128] Response type: dict
2025-04-19 04:21:17,424 - data.chartink - INFO - [CHARTINK-75128] Data entries: 0
2025-04-19 04:21:17,425 - data.chartink - INFO - [CHARTINK-75128] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 04:21:17,428 - data.top_stocks_service - INFO - Query 'Bullish Engulfing' returned no results, continuing
2025-04-19 04:21:17,429 - data.top_stocks_service - INFO - Waterfall [4/5]: Trying 'momentum'
2025-04-19 04:21:17,429 - data.chartink - INFO - [CHARTINK-77429] üöÄ Preparing ChartInk API request
2025-04-19 04:21:17,429 - data.chartink - INFO - [CHARTINK-77429] Rate limiting: Sleeping for 1.84s
2025-04-19 04:21:19,275 - data.chartink - INFO - [CHARTINK-77429] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:21:19,481 - data.chartink - INFO - [CHARTINK-77429] ‚úÖ CSRF token obtained successfully
2025-04-19 04:21:19,481 - data.chartink - INFO - [CHARTINK-77429] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:21:19,481 - data.chartink - INFO - [CHARTINK-77429] Query: latest close > latest sma(8) and         latest sma(8) > latest sma(20) and         latest sma(20) > latest sma(50) and         latest volume > 100000 and         latest rsi(14) > 55
2025-04-19 04:21:19,481 - data.chartink - INFO - [CHARTINK-77429] ‚è±Ô∏è API call started at 04:21:19.481
2025-04-19 04:21:19,595 - data.chartink - INFO - [CHARTINK-77429] ‚¨áÔ∏è Received response in 0.11s with status code 200
2025-04-19 04:21:19,595 - data.chartink - INFO - [CHARTINK-77429] Response type: dict
2025-04-19 04:21:19,595 - data.chartink - INFO - [CHARTINK-77429] Data entries: 0
2025-04-19 04:21:19,596 - data.chartink - INFO - [CHARTINK-77429] ‚úÖ SUCCESS: Parsed 0 rows from ChartInk
2025-04-19 04:21:19,599 - data.top_stocks_service - INFO - Query 'Momentum Leaders' returned no results, continuing
2025-04-19 04:21:19,599 - data.top_stocks_service - INFO - Waterfall [5/5]: Trying 'simple_test'
2025-04-19 04:21:19,599 - data.chartink - INFO - [CHARTINK-79599] üöÄ Preparing ChartInk API request
2025-04-19 04:21:19,599 - data.chartink - INFO - [CHARTINK-79599] Rate limiting: Sleeping for 1.88s
2025-04-19 04:21:21,482 - data.chartink - INFO - [CHARTINK-79599] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:21:21,764 - data.chartink - INFO - [CHARTINK-79599] ‚úÖ CSRF token obtained successfully
2025-04-19 04:21:21,764 - data.chartink - INFO - [CHARTINK-79599] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:21:21,764 - data.chartink - INFO - [CHARTINK-79599] Query: latest close > 0 and          latest volume > 100000
2025-04-19 04:21:21,764 - data.chartink - INFO - [CHARTINK-79599] ‚è±Ô∏è API call started at 04:21:21.764
2025-04-19 04:21:21,995 - data.chartink - INFO - [CHARTINK-79599] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 04:21:21,997 - data.chartink - INFO - [CHARTINK-79599] Response type: dict
2025-04-19 04:21:21,997 - data.chartink - INFO - [CHARTINK-79599] Data entries: 1225
2025-04-19 04:21:21,999 - data.chartink - INFO - [CHARTINK-79599] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 04:21:21,999 - data.chartink - INFO - [CHARTINK-79599] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:21:21,999 - data.chartink - INFO - [CHARTINK-79599] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:21:22,005 - data.top_stocks_service - INFO - Added 50 unique stocks from 'Simple Test Query'
2025-04-19 04:21:22,005 - data.top_stocks_service - INFO - Reached min stocks (10), can stop waterfall
2025-04-19 04:21:22,005 - data.top_stocks_service - INFO - Waterfall complete! Found 50 stocks using 1 queries
2025-04-19 04:21:22,005 - data.top_stocks_service - INFO - First stock fields: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 04:21:22,005 - data.top_stocks_service - INFO - First stock values: symbol=DIXON, company=Dixon Technologies, pattern=Simple Test Query
2025-04-19 04:21:22,005 - data.top_stocks_service - INFO - Sorting 50 stocks by percentage change (descending)
2025-04-19 04:21:22,005 - data.top_stocks_service - INFO - Taking top 10 stocks after sorting by change
2025-04-19 04:21:22,005 - ui_services.stocks.hot_stocks_data - INFO - Data source: ChartInk: Waterfall (1 queries)
2025-04-19 04:21:22,005 - ui_services.stocks.hot_stocks_data - INFO - Sample stock data structure: ['symbol', 'company', 'name', 'pattern', 'per_chg', 'change', 'volume', 'close', 'query_key', 'signal']
2025-04-19 04:21:22,007 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:21:22,026 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:21:22,027 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:21:22,027 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:21:22,027 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:21:22,027 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:21:22,027 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:21:22,028 - data.chartink - INFO - Using cached results for query (age: 11.3s)
2025-04-19 04:21:22,028 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:21:22,029 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:21:22,030 - dashboard.page_modules.swing_watchlist - INFO - Initial load of watchlist data
2025-04-19 04:21:22,031 - dashboard.page_modules.swing_watchlist - INFO - Fetching watchlist from data service
2025-04-19 04:21:22,031 - data.top_stocks_service - INFO - get_watchlist method called (not fully implemented) - type: swing
2025-04-19 04:21:22,031 - dashboard.page_modules.swing_watchlist - INFO - Found 0 watchlist items
2025-04-19 04:21:51,724 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:21:51,724 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:21:51,725 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:21:51,725 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:21:51,725 - data.chartink - INFO - Cache expired for query (age: 41.0s)
2025-04-19 04:21:51,725 - data.chartink - INFO - [CHARTINK-11725] üöÄ Preparing ChartInk API request
2025-04-19 04:21:51,725 - data.chartink - INFO - [CHARTINK-11725] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:21:52,190 - data.chartink - INFO - [CHARTINK-11725] ‚úÖ CSRF token obtained successfully
2025-04-19 04:21:52,191 - data.chartink - INFO - [CHARTINK-11725] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:21:52,191 - data.chartink - INFO - [CHARTINK-11725] Query: latest close > 0 and latest volume > 100000
2025-04-19 04:21:52,191 - data.chartink - INFO - [CHARTINK-11725] ‚è±Ô∏è API call started at 04:21:52.191
2025-04-19 04:21:52,401 - data.chartink - INFO - [CHARTINK-11725] ‚¨áÔ∏è Received response in 0.21s with status code 200
2025-04-19 04:21:52,404 - data.chartink - INFO - [CHARTINK-11725] Response type: dict
2025-04-19 04:21:52,406 - data.chartink - INFO - [CHARTINK-11725] Data entries: 1220
2025-04-19 04:21:52,410 - data.chartink - INFO - [CHARTINK-11725] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 04:21:52,411 - data.chartink - INFO - [CHARTINK-11725] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:21:52,411 - data.chartink - INFO - [CHARTINK-11725] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:21:52,413 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.69s
2025-04-19 04:21:52,414 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:21:52,415 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:21:52,420 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:21:52,439 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:21:52,439 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:21:52,443 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:21:52,443 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:21:52,445 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:21:52,445 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:21:52,445 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 04:21:52,445 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:21:52,446 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:22:04,527 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:22:04,527 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:22:04,528 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:22:04,528 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:22:04,528 - data.chartink - INFO - Using cached results for query (age: 12.1s)
2025-04-19 04:22:04,529 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:22:04,529 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:22:04,530 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:22:04,534 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:22:04,556 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:22:04,558 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:22:04,563 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:22:04,563 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:22:04,563 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:22:04,564 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:22:04,565 - data.chartink - INFO - Using cached results for query (age: 12.2s)
2025-04-19 04:22:04,567 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:22:04,568 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:22:13,206 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:22:13,207 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:22:13,207 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:22:13,207 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:22:13,207 - data.chartink - INFO - Using cached results for query (age: 20.8s)
2025-04-19 04:22:13,207 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:22:13,208 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:22:13,209 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:22:13,211 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:22:13,233 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:22:13,235 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:22:13,238 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:22:13,238 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:22:13,238 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:22:13,238 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:22:13,238 - data.chartink - INFO - Using cached results for query (age: 20.8s)
2025-04-19 04:22:13,238 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:22:13,239 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:15,179 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:15,179 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:15,179 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:15,180 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:15,180 - data.chartink - INFO - Cache expired for query (age: 202.8s)
2025-04-19 04:25:15,180 - data.chartink - INFO - [CHARTINK-15180] üöÄ Preparing ChartInk API request
2025-04-19 04:25:15,180 - data.chartink - INFO - [CHARTINK-15180] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:25:15,465 - data.chartink - INFO - [CHARTINK-15180] ‚úÖ CSRF token obtained successfully
2025-04-19 04:25:15,465 - data.chartink - INFO - [CHARTINK-15180] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:25:15,466 - data.chartink - INFO - [CHARTINK-15180] Query: latest close > 0 and latest volume > 100000
2025-04-19 04:25:15,466 - data.chartink - INFO - [CHARTINK-15180] ‚è±Ô∏è API call started at 04:25:15.466
2025-04-19 04:25:15,667 - data.chartink - INFO - [CHARTINK-15180] ‚¨áÔ∏è Received response in 0.20s with status code 200
2025-04-19 04:25:15,671 - data.chartink - INFO - [CHARTINK-15180] Response type: dict
2025-04-19 04:25:15,671 - data.chartink - INFO - [CHARTINK-15180] Data entries: 1220
2025-04-19 04:25:15,678 - data.chartink - INFO - [CHARTINK-15180] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 04:25:15,678 - data.chartink - INFO - [CHARTINK-15180] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:25:15,679 - data.chartink - INFO - [CHARTINK-15180] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:25:15,682 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.50s
2025-04-19 04:25:15,683 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:15,684 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:25:15,689 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:25:15,711 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:25:15,711 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:25:15,714 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:15,717 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:15,718 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:15,718 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:15,718 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 04:25:15,718 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:15,718 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:17,751 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:17,752 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:17,752 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:17,752 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:17,752 - data.chartink - INFO - Using cached results for query (age: 2.1s)
2025-04-19 04:25:17,752 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:17,752 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:17,754 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:25:17,757 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:25:17,776 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:25:17,777 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:25:17,780 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:17,780 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:17,780 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:17,780 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:17,781 - data.chartink - INFO - Using cached results for query (age: 2.1s)
2025-04-19 04:25:17,783 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:17,783 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:30,836 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:30,837 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:30,837 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:30,837 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:30,837 - data.chartink - INFO - Using cached results for query (age: 15.2s)
2025-04-19 04:25:30,837 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:30,837 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:30,838 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:25:30,841 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:25:30,862 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:25:30,863 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:25:30,866 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:30,866 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:30,867 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:30,867 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:30,869 - data.chartink - INFO - Using cached results for query (age: 15.2s)
2025-04-19 04:25:30,870 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:30,870 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:32,425 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:32,425 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:32,425 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:32,425 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:32,425 - data.chartink - INFO - Using cached results for query (age: 16.7s)
2025-04-19 04:25:32,425 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:32,426 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:32,427 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:25:32,430 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:25:32,450 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:25:32,450 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:25:32,453 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:32,454 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:32,454 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:32,454 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:32,454 - data.chartink - INFO - Using cached results for query (age: 16.8s)
2025-04-19 04:25:32,455 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:32,455 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:34,802 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:34,803 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:34,803 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:34,804 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:34,804 - data.chartink - INFO - Using cached results for query (age: 19.1s)
2025-04-19 04:25:34,804 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:34,804 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:34,805 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:25:34,808 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:25:34,826 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:25:34,827 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:25:34,830 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:34,831 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:34,833 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:34,833 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:34,834 - data.chartink - INFO - Using cached results for query (age: 19.2s)
2025-04-19 04:25:34,834 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:34,835 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:35,377 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:35,377 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:35,377 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:35,377 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:35,377 - data.chartink - INFO - Using cached results for query (age: 19.7s)
2025-04-19 04:25:35,377 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:35,378 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:35,379 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:25:35,381 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:25:35,402 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:25:35,402 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:25:35,405 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:35,405 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:35,405 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:35,406 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:35,408 - data.chartink - INFO - Using cached results for query (age: 19.7s)
2025-04-19 04:25:35,408 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:35,409 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:38,394 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:38,394 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:38,394 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:38,394 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:38,395 - data.chartink - INFO - Using cached results for query (age: 22.7s)
2025-04-19 04:25:38,395 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:38,395 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:38,397 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:25:38,400 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:25:38,419 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:25:38,419 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:25:38,422 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:38,422 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:38,423 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:38,423 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:38,423 - data.chartink - INFO - Using cached results for query (age: 22.7s)
2025-04-19 04:25:38,423 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:38,424 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:38,947 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:38,948 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:38,948 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:38,948 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:38,948 - data.chartink - INFO - Using cached results for query (age: 23.3s)
2025-04-19 04:25:38,949 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:38,949 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:25:38,950 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:25:38,953 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:25:38,973 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:25:38,974 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:25:38,976 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:25:38,976 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:25:38,976 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:25:38,976 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:25:38,976 - data.chartink - INFO - Using cached results for query (age: 23.3s)
2025-04-19 04:25:38,977 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:25:38,977 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:03,268 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:03,269 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:03,269 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:03,269 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:03,269 - data.chartink - INFO - Cache expired for query (age: 47.6s)
2025-04-19 04:26:03,269 - data.chartink - INFO - [CHARTINK-63269] üöÄ Preparing ChartInk API request
2025-04-19 04:26:03,269 - data.chartink - INFO - [CHARTINK-63269] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:26:03,542 - data.chartink - INFO - [CHARTINK-63269] ‚úÖ CSRF token obtained successfully
2025-04-19 04:26:03,542 - data.chartink - INFO - [CHARTINK-63269] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:26:03,542 - data.chartink - INFO - [CHARTINK-63269] Query: latest close > 0 and latest volume > 100000
2025-04-19 04:26:03,542 - data.chartink - INFO - [CHARTINK-63269] ‚è±Ô∏è API call started at 04:26:03.542
2025-04-19 04:26:03,915 - data.chartink - INFO - [CHARTINK-63269] ‚¨áÔ∏è Received response in 0.37s with status code 200
2025-04-19 04:26:03,918 - data.chartink - INFO - [CHARTINK-63269] Response type: dict
2025-04-19 04:26:03,919 - data.chartink - INFO - [CHARTINK-63269] Data entries: 1225
2025-04-19 04:26:03,921 - data.chartink - INFO - [CHARTINK-63269] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 04:26:03,921 - data.chartink - INFO - [CHARTINK-63269] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:26:03,921 - data.chartink - INFO - [CHARTINK-63269] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:26:03,924 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.66s
2025-04-19 04:26:03,925 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:03,926 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:26:03,931 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:26:03,951 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:26:03,951 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:26:03,956 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:03,957 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:03,957 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:03,957 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:03,957 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 04:26:03,959 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:26:03,959 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:04,447 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:04,448 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:04,448 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:04,448 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:04,448 - data.chartink - INFO - Using cached results for query (age: 0.5s)
2025-04-19 04:26:04,448 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:26:04,448 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:04,449 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:26:04,452 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:26:04,473 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:26:04,473 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:26:04,477 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:04,478 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:04,479 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:04,479 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:04,479 - data.chartink - INFO - Using cached results for query (age: 0.6s)
2025-04-19 04:26:04,480 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:26:04,480 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:06,261 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:06,262 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:06,262 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:06,262 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:06,262 - data.chartink - INFO - Using cached results for query (age: 2.3s)
2025-04-19 04:26:06,262 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:26:06,262 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:06,263 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:26:06,265 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:26:06,286 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:26:06,286 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:26:06,289 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:06,290 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:06,290 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:06,291 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:06,291 - data.chartink - INFO - Using cached results for query (age: 2.4s)
2025-04-19 04:26:06,291 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:26:06,292 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:11,640 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:11,640 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:11,640 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:11,640 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:11,640 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 04:26:11,882 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.24s
2025-04-19 04:26:11,884 - data.chartink - INFO - Using cached results for query (age: 8.0s)
2025-04-19 04:26:11,884 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.24s
2025-04-19 04:26:11,884 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:11,886 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:26:11,890 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:26:11,911 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:26:11,913 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:26:11,916 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:11,917 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:11,918 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:11,918 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:11,918 - data.chartink - INFO - Using cached results for query (age: 8.0s)
2025-04-19 04:26:11,918 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:26:11,919 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:12,521 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:12,522 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:12,522 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:12,522 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:12,522 - data.chartink - INFO - Using cached results for query (age: 8.6s)
2025-04-19 04:26:12,522 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:26:12,523 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:12,523 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:26:12,526 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:26:12,547 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:26:12,547 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:26:12,550 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:12,550 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:12,550 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:12,550 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:12,550 - data.chartink - INFO - Using cached results for query (age: 8.6s)
2025-04-19 04:26:12,550 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:26:12,550 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:14,052 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:14,052 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:14,052 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:14,052 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:14,052 - data.chartink - INFO - Using cached results for query (age: 10.1s)
2025-04-19 04:26:14,053 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:26:14,053 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:26:14,054 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:26:14,057 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:26:14,080 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:26:14,081 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:26:14,084 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:26:14,084 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:26:14,084 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:26:14,084 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:26:14,084 - data.chartink - INFO - Using cached results for query (age: 10.2s)
2025-04-19 04:26:14,084 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:26:14,085 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:27:34,242 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:27:34,243 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:27:34,243 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:27:34,243 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:27:34,243 - data.chartink - INFO - Cache expired for query (age: 90.3s)
2025-04-19 04:27:34,243 - data.chartink - INFO - [CHARTINK-54243] üöÄ Preparing ChartInk API request
2025-04-19 04:27:34,244 - data.chartink - INFO - [CHARTINK-54243] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:27:34,482 - data.chartink - INFO - [CHARTINK-54243] ‚úÖ CSRF token obtained successfully
2025-04-19 04:27:34,482 - data.chartink - INFO - [CHARTINK-54243] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:27:34,482 - data.chartink - INFO - [CHARTINK-54243] Query: latest close > 0 and latest volume > 100000
2025-04-19 04:27:34,482 - data.chartink - INFO - [CHARTINK-54243] ‚è±Ô∏è API call started at 04:27:34.482
2025-04-19 04:27:34,856 - data.chartink - INFO - [CHARTINK-54243] ‚¨áÔ∏è Received response in 0.37s with status code 200
2025-04-19 04:27:34,861 - data.chartink - INFO - [CHARTINK-54243] Response type: dict
2025-04-19 04:27:34,862 - data.chartink - INFO - [CHARTINK-54243] Data entries: 1220
2025-04-19 04:27:34,870 - data.chartink - INFO - [CHARTINK-54243] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 04:27:34,870 - data.chartink - INFO - [CHARTINK-54243] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:27:34,887 - data.chartink - INFO - [CHARTINK-54243] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:27:34,892 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.65s
2025-04-19 04:27:34,893 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:27:34,898 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:27:34,903 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:27:34,931 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:27:34,931 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:27:34,935 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:27:34,935 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:27:34,935 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:27:34,936 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:27:34,936 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 04:27:34,937 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:27:34,938 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:27:52,078 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:27:52,079 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:27:52,079 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:27:52,079 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:27:52,079 - data.chartink - INFO - Using cached results for query (age: 17.2s)
2025-04-19 04:27:52,079 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:27:52,079 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:27:52,080 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:27:52,083 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:27:52,104 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:27:52,104 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:27:52,167 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:27:52,168 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:27:52,168 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:27:52,168 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:27:52,168 - data.chartink - INFO - Using cached results for query (age: 17.3s)
2025-04-19 04:27:52,168 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:27:52,168 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:27:52,169 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:27:52,172 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:27:52,200 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:27:52,201 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:27:52,201 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:27:52,201 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:27:52,203 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:27:52,203 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:27:52,203 - data.chartink - INFO - Using cached results for query (age: 17.3s)
2025-04-19 04:27:52,204 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:27:52,204 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:27:58,566 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:27:58,567 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:27:58,567 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:27:58,567 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:27:58,567 - data.chartink - INFO - Using cached results for query (age: 23.7s)
2025-04-19 04:27:58,567 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:27:58,567 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:27:58,568 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:27:58,571 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:27:58,593 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:27:58,593 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:27:58,596 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:27:58,596 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:27:58,597 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:27:58,597 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:27:58,597 - data.chartink - INFO - Using cached results for query (age: 23.7s)
2025-04-19 04:27:58,598 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:27:58,598 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:27:59,767 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:27:59,768 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:27:59,768 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:27:59,768 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:27:59,769 - data.chartink - INFO - Using cached results for query (age: 24.9s)
2025-04-19 04:27:59,769 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:27:59,770 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:27:59,771 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:27:59,776 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:27:59,798 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:27:59,800 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:27:59,803 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:27:59,803 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:27:59,803 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:27:59,804 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:27:59,804 - data.chartink - INFO - Using cached results for query (age: 24.9s)
2025-04-19 04:27:59,804 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:27:59,805 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:28:06,918 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:28:06,919 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:28:06,919 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:28:06,919 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:28:06,919 - data.chartink - INFO - Cache expired for query (age: 32.0s)
2025-04-19 04:28:06,919 - data.chartink - INFO - [CHARTINK-86919] üöÄ Preparing ChartInk API request
2025-04-19 04:28:06,919 - data.chartink - INFO - [CHARTINK-86919] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:28:07,141 - data.chartink - INFO - [CHARTINK-86919] ‚úÖ CSRF token obtained successfully
2025-04-19 04:28:07,142 - data.chartink - INFO - [CHARTINK-86919] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:28:07,142 - data.chartink - INFO - [CHARTINK-86919] Query: latest close > 0 and latest volume > 100000
2025-04-19 04:28:07,142 - data.chartink - INFO - [CHARTINK-86919] ‚è±Ô∏è API call started at 04:28:07.142
2025-04-19 04:28:07,362 - data.chartink - INFO - [CHARTINK-86919] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 04:28:07,368 - data.chartink - INFO - [CHARTINK-86919] Response type: dict
2025-04-19 04:28:07,368 - data.chartink - INFO - [CHARTINK-86919] Data entries: 1225
2025-04-19 04:28:07,372 - data.chartink - INFO - [CHARTINK-86919] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 04:28:07,372 - data.chartink - INFO - [CHARTINK-86919] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:28:07,373 - data.chartink - INFO - [CHARTINK-86919] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:28:07,376 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.46s
2025-04-19 04:28:07,376 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:28:07,379 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:28:07,384 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:28:07,408 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:28:07,408 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:28:07,412 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:28:07,412 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:28:07,413 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:28:07,413 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:28:07,413 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 04:28:07,413 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:28:07,413 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:28:13,896 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:28:13,897 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:28:13,897 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:28:13,897 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:28:13,897 - data.chartink - INFO - Using cached results for query (age: 6.5s)
2025-04-19 04:28:13,897 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:28:13,898 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:28:13,898 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:28:13,901 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:28:13,921 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:28:13,922 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:28:13,988 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:28:13,989 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:28:13,989 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:28:13,989 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:28:13,989 - data.chartink - INFO - Using cached results for query (age: 6.6s)
2025-04-19 04:28:13,989 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:28:13,989 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:28:13,990 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:28:13,992 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:28:14,007 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:28:14,008 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:28:14,008 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:28:14,008 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:28:14,008 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:28:14,008 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:28:14,008 - data.chartink - INFO - Using cached results for query (age: 6.6s)
2025-04-19 04:28:14,010 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 04:28:14,010 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:48:46,175 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:48:46,176 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:48:46,176 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:48:46,176 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:48:46,176 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 04:48:46,405 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.23s
2025-04-19 04:48:46,410 - data.chartink - INFO - Cache expired for query (age: 1239.0s)
2025-04-19 04:48:46,410 - data.chartink - INFO - [CHARTINK-26410] üöÄ Preparing ChartInk API request
2025-04-19 04:48:46,410 - data.chartink - INFO - [CHARTINK-26410] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 04:48:46,758 - data.chartink - INFO - [CHARTINK-26410] ‚úÖ CSRF token obtained successfully
2025-04-19 04:48:46,759 - data.chartink - INFO - [CHARTINK-26410] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 04:48:46,759 - data.chartink - INFO - [CHARTINK-26410] Query: latest close > 0 and latest volume > 100000
2025-04-19 04:48:46,759 - data.chartink - INFO - [CHARTINK-26410] ‚è±Ô∏è API call started at 04:48:46.759
2025-04-19 04:48:46,981 - data.chartink - INFO - [CHARTINK-26410] ‚¨áÔ∏è Received response in 0.22s with status code 200
2025-04-19 04:48:46,984 - data.chartink - INFO - [CHARTINK-26410] Response type: dict
2025-04-19 04:48:46,984 - data.chartink - INFO - [CHARTINK-26410] Data entries: 1220
2025-04-19 04:48:46,986 - data.chartink - INFO - [CHARTINK-26410] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 04:48:46,987 - data.chartink - INFO - [CHARTINK-26410] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 04:48:46,987 - data.chartink - INFO - [CHARTINK-26410] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 04:48:46,989 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.81s
2025-04-19 04:48:46,989 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 04:48:46,990 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 04:48:46,992 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 04:48:47,007 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 04:48:47,008 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 04:48:47,009 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 04:48:47,009 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 04:48:47,009 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 04:48:47,009 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 04:48:47,009 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 04:48:47,010 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 04:48:47,010 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 11:07:09,084 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 11:07:09,084 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 11:07:09,084 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 11:07:09,084 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 11:07:09,085 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 11:07:09,316 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.23s
2025-04-19 11:07:09,320 - data.chartink - INFO - Cache expired for query (age: 22702.3s)
2025-04-19 11:07:09,320 - data.chartink - INFO - [CHARTINK-29320] üöÄ Preparing ChartInk API request
2025-04-19 11:07:09,321 - data.chartink - INFO - [CHARTINK-29320] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 11:07:09,705 - data.chartink - INFO - [CHARTINK-29320] ‚úÖ CSRF token obtained successfully
2025-04-19 11:07:09,705 - data.chartink - INFO - [CHARTINK-29320] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 11:07:09,705 - data.chartink - INFO - [CHARTINK-29320] Query: latest close > 0 and latest volume > 100000
2025-04-19 11:07:09,705 - data.chartink - INFO - [CHARTINK-29320] ‚è±Ô∏è API call started at 11:07:09.705
2025-04-19 11:07:09,930 - data.chartink - INFO - [CHARTINK-29320] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 11:07:09,939 - data.chartink - INFO - [CHARTINK-29320] Response type: dict
2025-04-19 11:07:09,939 - data.chartink - INFO - [CHARTINK-29320] Data entries: 1220
2025-04-19 11:07:09,943 - data.chartink - INFO - [CHARTINK-29320] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 11:07:09,943 - data.chartink - INFO - [CHARTINK-29320] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 11:07:09,943 - data.chartink - INFO - [CHARTINK-29320] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 11:07:09,947 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.86s
2025-04-19 11:07:09,947 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 11:07:09,949 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 11:07:09,952 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 11:07:09,970 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 11:07:09,971 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 11:07:09,973 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 11:07:09,973 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 11:07:09,973 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 11:07:09,973 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 11:07:09,973 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 11:07:09,974 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 11:07:09,974 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:24:18,961 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:24:18,961 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:24:18,961 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:24:18,962 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:24:18,962 - data.chartink - INFO - Checking ChartInk connectivity
2025-04-19 15:24:19,225 - data.chartink - INFO - ‚úÖ ChartInk connectivity check SUCCESS: HTTP 200 in 0.26s
2025-04-19 15:24:19,227 - data.chartink - INFO - Cache expired for query (age: 15429.3s)
2025-04-19 15:24:19,227 - data.chartink - INFO - [CHARTINK-59227] üöÄ Preparing ChartInk API request
2025-04-19 15:24:19,227 - data.chartink - INFO - [CHARTINK-59227] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 15:24:19,467 - data.chartink - INFO - [CHARTINK-59227] ‚úÖ CSRF token obtained successfully
2025-04-19 15:24:19,467 - data.chartink - INFO - [CHARTINK-59227] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 15:24:19,467 - data.chartink - INFO - [CHARTINK-59227] Query: latest close > 0 and latest volume > 100000
2025-04-19 15:24:19,467 - data.chartink - INFO - [CHARTINK-59227] ‚è±Ô∏è API call started at 15:24:19.467
2025-04-19 15:24:19,697 - data.chartink - INFO - [CHARTINK-59227] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 15:24:19,701 - data.chartink - INFO - [CHARTINK-59227] Response type: dict
2025-04-19 15:24:19,701 - data.chartink - INFO - [CHARTINK-59227] Data entries: 1225
2025-04-19 15:24:19,710 - data.chartink - INFO - [CHARTINK-59227] ‚úÖ SUCCESS: Parsed 1225 rows from ChartInk
2025-04-19 15:24:19,710 - data.chartink - INFO - [CHARTINK-59227] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 15:24:19,712 - data.chartink - INFO - [CHARTINK-59227] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 15:24:19,714 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.75s
2025-04-19 15:24:19,714 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:24:19,715 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 15:24:19,718 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 15:24:19,736 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 15:24:19,737 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 15:24:19,737 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:24:19,738 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:24:19,738 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:24:19,740 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:24:19,740 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 15:24:19,740 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 15:24:19,741 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:24:31,555 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:24:31,555 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:24:31,556 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:24:31,556 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:24:31,556 - data.chartink - INFO - Using cached results for query (age: 11.8s)
2025-04-19 15:24:31,556 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 15:24:31,556 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:24:31,557 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 15:24:31,559 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 15:24:31,583 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 15:24:31,584 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 15:24:31,590 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:24:31,591 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:24:31,591 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:24:31,591 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:24:31,592 - data.chartink - INFO - Using cached results for query (age: 11.9s)
2025-04-19 15:24:31,592 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 15:24:31,593 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:24:35,363 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:24:35,363 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:24:35,363 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:24:35,363 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:24:35,364 - data.chartink - INFO - Using cached results for query (age: 15.7s)
2025-04-19 15:24:35,364 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 15:24:35,364 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:24:35,366 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 15:24:35,368 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 15:24:35,388 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 15:24:35,389 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 15:24:35,392 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:24:35,392 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:24:35,393 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:24:35,393 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:24:35,393 - data.chartink - INFO - Using cached results for query (age: 15.7s)
2025-04-19 15:24:35,394 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1225 results in 0.00s
2025-04-19 15:24:35,394 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:26:35,376 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:26:35,377 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:26:35,377 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:26:35,377 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:26:35,377 - data.chartink - INFO - Cache expired for query (age: 135.7s)
2025-04-19 15:26:35,377 - data.chartink - INFO - [CHARTINK-95377] üöÄ Preparing ChartInk API request
2025-04-19 15:26:35,378 - data.chartink - INFO - [CHARTINK-95377] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 15:26:35,614 - data.chartink - INFO - [CHARTINK-95377] ‚úÖ CSRF token obtained successfully
2025-04-19 15:26:35,614 - data.chartink - INFO - [CHARTINK-95377] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 15:26:35,614 - data.chartink - INFO - [CHARTINK-95377] Query: latest close > 0 and latest volume > 100000
2025-04-19 15:26:35,614 - data.chartink - INFO - [CHARTINK-95377] ‚è±Ô∏è API call started at 15:26:35.614
2025-04-19 15:26:36,014 - data.chartink - INFO - [CHARTINK-95377] ‚¨áÔ∏è Received response in 0.40s with status code 200
2025-04-19 15:26:36,020 - data.chartink - INFO - [CHARTINK-95377] Response type: dict
2025-04-19 15:26:36,020 - data.chartink - INFO - [CHARTINK-95377] Data entries: 1220
2025-04-19 15:26:36,024 - data.chartink - INFO - [CHARTINK-95377] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 15:26:36,024 - data.chartink - INFO - [CHARTINK-95377] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 15:26:36,024 - data.chartink - INFO - [CHARTINK-95377] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 15:26:36,028 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.65s
2025-04-19 15:26:36,029 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:26:36,031 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 15:26:36,036 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 15:26:36,059 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 15:26:36,060 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 15:26:36,063 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:26:36,064 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:26:36,064 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:26:36,064 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:26:36,064 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 15:26:36,065 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 15:26:36,065 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:27:10,324 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:27:10,325 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:27:10,325 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:27:10,325 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:27:10,325 - data.chartink - INFO - Cache expired for query (age: 34.3s)
2025-04-19 15:27:10,325 - data.chartink - INFO - [CHARTINK-30325] üöÄ Preparing ChartInk API request
2025-04-19 15:27:10,326 - data.chartink - INFO - [CHARTINK-30325] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 15:27:10,562 - data.chartink - INFO - [CHARTINK-30325] ‚úÖ CSRF token obtained successfully
2025-04-19 15:27:10,563 - data.chartink - INFO - [CHARTINK-30325] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 15:27:10,563 - data.chartink - INFO - [CHARTINK-30325] Query: latest close > 0 and latest volume > 100000
2025-04-19 15:27:10,563 - data.chartink - INFO - [CHARTINK-30325] ‚è±Ô∏è API call started at 15:27:10.563
2025-04-19 15:27:10,793 - data.chartink - INFO - [CHARTINK-30325] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 15:27:10,797 - data.chartink - INFO - [CHARTINK-30325] Response type: dict
2025-04-19 15:27:10,797 - data.chartink - INFO - [CHARTINK-30325] Data entries: 1220
2025-04-19 15:27:10,804 - data.chartink - INFO - [CHARTINK-30325] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 15:27:10,804 - data.chartink - INFO - [CHARTINK-30325] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 15:27:10,805 - data.chartink - INFO - [CHARTINK-30325] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 15:27:10,807 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.48s
2025-04-19 15:27:10,808 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:27:10,810 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 15:27:10,813 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 15:27:10,836 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 15:27:10,836 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 15:27:10,840 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:27:10,841 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:27:10,841 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:27:10,841 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:27:10,841 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 15:27:10,841 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 15:27:10,842 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:27:13,158 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:27:13,158 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:27:13,158 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:27:13,158 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:27:13,158 - data.chartink - INFO - Using cached results for query (age: 2.4s)
2025-04-19 15:27:13,158 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 15:27:13,159 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:27:13,159 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 15:27:13,162 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 15:27:13,180 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 15:27:13,181 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 15:27:13,184 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:27:13,184 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:27:13,185 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:27:13,185 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:27:13,185 - data.chartink - INFO - Using cached results for query (age: 2.4s)
2025-04-19 15:27:13,186 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 15:27:13,186 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:27:14,525 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:27:14,525 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:27:14,525 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:27:14,525 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:27:14,525 - data.chartink - INFO - Using cached results for query (age: 3.7s)
2025-04-19 15:27:14,526 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 15:27:14,526 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:27:14,527 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 15:27:14,529 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 15:27:14,550 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 15:27:14,551 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 15:27:14,554 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:27:14,554 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:27:14,555 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:27:14,555 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:27:14,555 - data.chartink - INFO - Using cached results for query (age: 3.8s)
2025-04-19 15:27:14,556 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 15:27:14,556 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:28:03,740 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:28:03,742 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:28:03,742 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:28:03,742 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:28:03,742 - data.chartink - INFO - Cache expired for query (age: 52.9s)
2025-04-19 15:28:03,742 - data.chartink - INFO - [CHARTINK-83742] üöÄ Preparing ChartInk API request
2025-04-19 15:28:03,742 - data.chartink - INFO - [CHARTINK-83742] üîë Fetching CSRF token from https://chartink.com/screener/
2025-04-19 15:28:03,994 - data.chartink - INFO - [CHARTINK-83742] ‚úÖ CSRF token obtained successfully
2025-04-19 15:28:03,994 - data.chartink - INFO - [CHARTINK-83742] üì§ Sending request to https://chartink.com/screener/process
2025-04-19 15:28:03,994 - data.chartink - INFO - [CHARTINK-83742] Query: latest close > 0 and latest volume > 100000
2025-04-19 15:28:03,994 - data.chartink - INFO - [CHARTINK-83742] ‚è±Ô∏è API call started at 15:28:03.994
2025-04-19 15:28:04,221 - data.chartink - INFO - [CHARTINK-83742] ‚¨áÔ∏è Received response in 0.23s with status code 200
2025-04-19 15:28:04,228 - data.chartink - INFO - [CHARTINK-83742] Response type: dict
2025-04-19 15:28:04,228 - data.chartink - INFO - [CHARTINK-83742] Data entries: 1220
2025-04-19 15:28:04,232 - data.chartink - INFO - [CHARTINK-83742] ‚úÖ SUCCESS: Parsed 1220 rows from ChartInk
2025-04-19 15:28:04,232 - data.chartink - INFO - [CHARTINK-83742] Columns: ['sr', 'nsecode', 'name', 'bsecode', 'per_chg', 'close', 'volume']
2025-04-19 15:28:04,232 - data.chartink - INFO - [CHARTINK-83742] First few symbols: DIXON, POWERINDIA, ULTRACEMCO
2025-04-19 15:28:04,235 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.49s
2025-04-19 15:28:04,235 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
2025-04-19 15:28:04,237 - ui_services.stocks.hot_stocks - INFO - HOT STOCKS received data_service of type: TopStocksService
2025-04-19 15:28:04,243 - ui_services.stocks.hot_stocks_data - INFO - ‚úÖ Got 10 stocks to display
2025-04-19 15:28:04,267 - ui_services.stocks.hot_stocks_table - INFO - Successfully displayed stock table with action buttons
2025-04-19 15:28:04,267 - ui_services.stocks.hot_stocks_table - INFO - create_hidden_buttons is deprecated, not needed with new implementation
2025-04-19 15:28:04,271 - utils.data_wrapper - INFO - Creating new TopStocksService to ensure ChartInk data
2025-04-19 15:28:04,271 - data.top_stocks_service - INFO - ======= INITIALIZING TOP STOCKS SERVICE (CHARTINK ONLY) =======
2025-04-19 15:28:04,271 - data.top_stocks_service - INFO - Testing ChartInk connectivity...
2025-04-19 15:28:04,271 - data.top_stocks_service - INFO - Testing ChartInk API connection
2025-04-19 15:28:04,271 - data.chartink - INFO - Using cached results for query (age: 0.0s)
2025-04-19 15:28:04,272 - data.top_stocks_service - INFO - ‚úÖ ChartInk connection SUCCESS: 1220 results in 0.00s
2025-04-19 15:28:04,273 - data.top_stocks_service - INFO - ‚úÖ ChartInk connectivity test PASSED
